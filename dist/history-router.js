!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=7)}([function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"f",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"e",function(){return a}),e.d(n,"g",function(){return c}),e.d(n,"d",function(){return u}),e.d(n,"b",function(){return s});var r=function(t){return"/"===t.charAt(0)?t:"/"+t},o=function(t){return"/"===t.charAt(0)?t.substr(1):t},i=function(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)},a=function(t,n){return i(t,n)?t.substr(n.length):t},c=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},u=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}},s=function(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(t,n,e){"use strict";(function(n){var e=function(){};"production"!==n.env.NODE_ENV&&(e=function(t,n,e){var r=arguments.length;e=new Array(r>2?r-2:0);for(var o=2;o<r;o++)e[o-2]=arguments[o];if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(n.length<10||/^[s\W]*$/.test(n))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+n);if(!t){var i=0,a="Warning: "+n.replace(/%s/g,function(){return e[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(t){}}}),t.exports=e}).call(n,e(4))},function(t,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return u});var r=e(11),o=e(12),i=e(0),a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},c=function(t,n,e,o){var c=void 0;"string"==typeof t?(c=Object(i.d)(t)).state=n:(void 0===(c=a({},t)).pathname&&(c.pathname=""),c.search?"?"!==c.search.charAt(0)&&(c.search="?"+c.search):c.search="",c.hash?"#"!==c.hash.charAt(0)&&(c.hash="#"+c.hash):c.hash="",void 0!==n&&void 0===c.state&&(c.state=n));try{c.pathname=decodeURI(c.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+c.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(c.key=e),o?c.pathname?"/"!==c.pathname.charAt(0)&&(c.pathname=Object(r.a)(c.pathname,o.pathname)):c.pathname=o.pathname:c.pathname||(c.pathname="/"),c},u=function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&Object(o.a)(t.state,n.state)}},function(t,n,e){"use strict";var r=e(1),o=e.n(r);n.a=function(){var t=null,n=[];return{setPrompt:function(n){return o()(null==t,"A history supports only one prompt at a time"),t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,e,r,i){if(null!=t){var a="function"==typeof t?t(n,e):t;"string"==typeof a?"function"==typeof r?r(a,i):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function(t){var e=!0,r=function(){e&&t.apply(void 0,arguments)};return n.push(r),function(){e=!1,n=n.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.forEach(function(t){return t.apply(void 0,e)})}}}},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):h=-1,s.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var n=s.length;n;){for(u=s,s=[];++h<n;)u&&u[h].run();h=-1,n=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||f||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){"use strict";(function(n){t.exports=function(t,e,r,o,i,a,c,u){if("production"!==n.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,i,a,c,u],h=0;(s=new Error(e.replace(/%s/g,function(){return f[h++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}}).call(n,e(4))},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"c",function(){return a}),e.d(n,"g",function(){return c}),e.d(n,"h",function(){return u}),e.d(n,"f",function(){return s}),e.d(n,"d",function(){return f});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o=function(t,n,e){return t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent("on"+n,e)},i=function(t,n,e){return t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent("on"+n,e)},a=function(t,n){return n(window.confirm(t))},c=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},u=function(){return-1===window.navigator.userAgent.indexOf("Trident")},s=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},f=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,n,e){t.exports=e(8)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(9),o=e(15),i=e.n(o);function a(t){let n=!1;if(t.length){for(let e=0;e<t.length;e++)if(!(n=t[e]()))return!1;return n}return!0}class c{constructor(t={}){this._options={hash:!t.hasOwnProperty("hash")||t.hash,history:t.hasOwnProperty("history")?t.history:{}},this._routes=new Array,this._middlewares=new Array,this.history=this._options.hash?Object(r.b)(this._options.history):Object(r.a)(this._options.history);let n=this,e=!1;this.history.block(t=>e=function(t,n,e){for(let r=0;r<t._routes.length;r++){let o=t._routes[r];if(i.a.test(t._options.hash?{path:`/#/${o.path}`,url:`/#/${n}`}:{path:o.path,url:n})){let r=!1;return a(t._middlewares)&&(r=a(o.middlewares)),!!r&&{callback:o.callback,state:e,params:i.a.parse({path:n,definition:o.path,object:!0})}}}}(n,`${t.pathname}${t.search}${t.hash}`,t.state)),async function(t){await t.history.listen(t=>{e&&e.callback({state:e.state,params:e.params})}),t.history.replace("/")}(this)}when(t,n,e=[]){return this._routes.push({path:t,callback:n,middlewares:e}),this}middleware(t){return this._middlewares.push(t),this}}window.HistoryRouter=c,n.default=c},function(t,n,e){"use strict";var r=e(10);e.d(n,"a",function(){return r.a});var o=e(13);e.d(n,"b",function(){return o.a});e(14),e(2),e(0)},function(t,n,e){"use strict";var r=e(1),o=e.n(r),i=e(5),a=e.n(i),c=e(2),u=e(0),s=e(3),f=e(6),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},d=function(){try{return window.history.state||{}}catch(t){return{}}};n.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Browser history needs a DOM");var n=window.history,e=Object(f.g)(),r=!Object(f.h)(),i=t.forceRefresh,p=void 0!==i&&i,v=t.getUserConfirmation,b=void 0===v?f.c:v,m=t.keyLength,y=void 0===m?6:m,g=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",w=function(t){var n=t||{},e=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return o()(!g||Object(u.c)(a,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+g+'".'),g&&(a=Object(u.e)(a,g)),Object(c.a)(a,r,e)},O=function(){return Math.random().toString(36).substr(2,y)},j=Object(s.a)(),P=function(t){l(C,t),C.length=n.length,j.notifyListeners(C.location,C.action)},x=function(t){Object(f.d)(t)||k(w(t.state))},E=function(){k(w(d()))},T=!1,k=function(t){T?(T=!1,P()):j.confirmTransitionTo(t,"POP",b,function(n){n?P({action:"POP",location:t}):A(t)})},A=function(t){var n=C.location,e=L.indexOf(n.key);-1===e&&(e=0);var r=L.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(T=!0,R(o))},S=w(d()),L=[S.key],_=function(t){return g+Object(u.b)(t)},R=function(t){n.go(t)},U=0,H=function(t){1===(U+=t)?(Object(f.a)(window,"popstate",x),r&&Object(f.a)(window,"hashchange",E)):0===U&&(Object(f.e)(window,"popstate",x),r&&Object(f.e)(window,"hashchange",E))},q=!1,C={length:n.length,action:"POP",location:S,createHref:_,push:function(t,r){o()(!("object"===(void 0===t?"undefined":h(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=Object(c.a)(t,r,O(),C.location);j.confirmTransitionTo(i,"PUSH",b,function(t){if(t){var r=_(i),a=i.key,c=i.state;if(e)if(n.pushState({key:a,state:c},null,r),p)window.location.href=r;else{var u=L.indexOf(C.location.key),s=L.slice(0,-1===u?0:u+1);s.push(i.key),L=s,P({action:"PUSH",location:i})}else o()(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(t,r){o()(!("object"===(void 0===t?"undefined":h(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=Object(c.a)(t,r,O(),C.location);j.confirmTransitionTo(i,"REPLACE",b,function(t){if(t){var r=_(i),a=i.key,c=i.state;if(e)if(n.replaceState({key:a,state:c},null,r),p)window.location.replace(r);else{var u=L.indexOf(C.location.key);-1!==u&&(L[u]=i.key),P({action:"REPLACE",location:i})}else o()(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:R,goBack:function(){return R(-1)},goForward:function(){return R(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=j.setPrompt(t);return q||(H(1),q=!0),function(){return q&&(q=!1,H(-1)),n()}},listen:function(t){var n=j.appendListener(t);return H(1),function(){H(-1),n()}}};return C}},function(t,n,e){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=t&&t.split("/")||[],i=n&&n.split("/")||[],a=t&&r(t),c=n&&r(n),u=a||c;if(t&&r(t)?i=e:e.length&&(i.pop(),i=i.concat(e)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var h=0,l=i.length;l>=0;l--){var d=i[l];"."===d?o(i,l):".."===d?(o(i,l),h++):h&&(o(i,l),h--)}if(!u)for(;h--;h)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a=function t(n,e){if(n===e)return!0;if(null==n||null==e)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(n,r){return t(n,e[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=n.valueOf(),a=e.valueOf();if(i!==n||a!==e)return t(i,a);var c=Object.keys(n),u=Object.keys(e);return c.length===u.length&&c.every(function(r){return t(n[r],e[r])})}return!1}},function(t,n,e){"use strict";var r=e(1),o=e.n(r),i=e(5),a=e.n(i),c=e(2),u=e(0),s=e(3),f=e(6),h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},l={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+Object(u.f)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:u.f,decodePath:u.a},slash:{encodePath:u.a,decodePath:u.a}},d=function(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)},p=function(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)};n.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Hash history needs a DOM");var n=window.history,e=Object(f.f)(),r=t.getUserConfirmation,i=void 0===r?f.c:r,v=t.hashType,b=void 0===v?"slash":v,m=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",y=l[b],g=y.encodePath,w=y.decodePath,O=function(){var t=w(d());return o()(!m||Object(u.c)(t,m),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+m+'".'),m&&(t=Object(u.e)(t,m)),Object(c.a)(t)},j=Object(s.a)(),P=function(t){h($,t),$.length=n.length,j.notifyListeners($.location,$.action)},x=!1,E=null,T=function(){var t=d(),n=g(t);if(t!==n)p(n);else{var e=O(),r=$.location;if(!x&&Object(c.b)(r,e))return;if(E===Object(u.b)(e))return;E=null,k(e)}},k=function(t){x?(x=!1,P()):j.confirmTransitionTo(t,"POP",i,function(n){n?P({action:"POP",location:t}):A(t)})},A=function(t){var n=$.location,e=R.lastIndexOf(Object(u.b)(n));-1===e&&(e=0);var r=R.lastIndexOf(Object(u.b)(t));-1===r&&(r=0);var o=e-r;o&&(x=!0,U(o))},S=d(),L=g(S);S!==L&&p(L);var _=O(),R=[Object(u.b)(_)],U=function(t){o()(e,"Hash history go(n) causes a full page reload in this browser"),n.go(t)},H=0,q=function(t){1===(H+=t)?Object(f.a)(window,"hashchange",T):0===H&&Object(f.e)(window,"hashchange",T)},C=!1,$={length:n.length,action:"POP",location:_,createHref:function(t){return"#"+g(m+Object(u.b)(t))},push:function(t,n){o()(void 0===n,"Hash history cannot push state; it is ignored");var e=Object(c.a)(t,void 0,void 0,$.location);j.confirmTransitionTo(e,"PUSH",i,function(t){if(t){var n=Object(u.b)(e),r=g(m+n);if(d()!==r){E=n,function(t){window.location.hash=t}(r);var i=R.lastIndexOf(Object(u.b)($.location)),a=R.slice(0,-1===i?0:i+1);a.push(n),R=a,P({action:"PUSH",location:e})}else o()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),P()}})},replace:function(t,n){o()(void 0===n,"Hash history cannot replace state; it is ignored");var e=Object(c.a)(t,void 0,void 0,$.location);j.confirmTransitionTo(e,"REPLACE",i,function(t){if(t){var n=Object(u.b)(e),r=g(m+n);d()!==r&&(E=n,p(r));var o=R.indexOf(Object(u.b)($.location));-1!==o&&(R[o]=n),P({action:"REPLACE",location:e})}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=j.setPrompt(t);return C||(q(1),C=!0),function(){return C&&(C=!1,q(-1)),n()}},listen:function(t){var n=j.appendListener(t);return q(1),function(){q(-1),n()}}};return $}},function(t,n,e){"use strict";var r=e(1);e.n(r),e(0),e(2),e(3),"function"==typeof Symbol&&Symbol.iterator,Object.assign},function(t,n,e){!function(n,e){t.exports=e()}(0,function(){"use strict";var t=/\/$/,n=/^\//,e=/[()]/g,r=/\((.*?)\)/g,o=/\*\w+/g,i=/(\(\?)?:\w+/,a=/(\(\?)?:\w+/g,c=/[-{}[\]+?.,\\^$|#\s]/g;function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,n){return t=t||"",function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var n in t)if(hasOwnProperty.call(t,n))return!1;return!0}(n=n||[])?function(t){return t.replace(r,"")}(t):f(function(t){return t.replace(e,"")}(t=function(t,n){if(!u(n=n||[])){var e=t.match(a);e&&(n=e.map(function(t){return n[t.substr(1)]}))}u(n)&&n.forEach(function(n){n&&(t=function(t,n){var e=-1!==t.indexOf(":");if(n=encodeURIComponent(n),e)return t.replace(i,n);return t.replace(o,n)}(t,n))});var c=t.match(r);c&&c.forEach(function(n){(function(t){return i.test(t)||o.test(t)})(n)&&(t=t.replace(n,""))});return t}(t,n)))}function f(n){return n.replace(t,"")}function h(t){var e=t.host,r=t.path,o=t.query,i=t.hash;e=f(e);var a=r.split("?"),c=a[0],u=a[1];return r=(r=f(function(t){return t.replace(n,"")}(c)))?"/"+r:"",u=u?u+"&":"",""+e+r+(o=o?"?"+u+o:"")+(i=i?"#"+i:"")}function l(t,n){for(var e=[],r=0;r<t.length;r++){var o=t[r];o[n]&&""===o.value&&e.push(o)}return e}function d(t){return{named:t&&t.match(a)||[],splat:t&&t.match(o)||[]}}function p(t){return t=t.replace(c,"\\$&").replace(r,"(?:$1)?").replace(a,function(t,n){return n?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")}function v(t){return s((t=t||{}).path,t.params)}function b(t){var n=[];for(var e in(t=t||{}).query){var r=t.query[e];n.push(e+"="+encodeURIComponent(r))}return n.length?n.join("&"):""}function m(t,n){var e={},r=d(t),o=0;return r.named.forEach(i),r.splat.forEach(i),e;function i(t){e[t.slice(1)]=n[o++]}}return{build:function(t){(t=t||{}).host=t.host||"";var n=v(t),e=b(t);return h({host:t.host,path:n,query:e,hash:t.hash})},test:function(t){return p((t=t||{}).path).test(t.url)},stats:function(t,n){var e=t.match(r)||[],o=d(t),i=o.named,a=o.splat,c=i.concat(a);return u(n=n||{})&&(n=m(t,n)),{params:c=c.map(function(t){for(var r=!1,o=0;o<e.length;o++)if(-1!==e[o].indexOf(t)){r=!0;break}return{name:t,value:n[t.slice(1)]||"",optional:r,required:!r}}),hasOptionalParams:r.test(t),missingOptionalParams:l(c,"optional"),missingRequiredParams:l(c,"required"),missingParams:l(c,"name")}},parse:function(t){void 0===t&&(t={});var n=t.path,e=t.definition,r=t.object;if(!n&&!e)throw new Error("url-composer: Missing path and definition");var o=p(e).exec(n);if(!o)return null;var i=(o=o.slice(1)).map(function(t,n){return n===o.length-1?t||null:t?decodeURIComponent(t):null});if(r){var a=i.pop();(i=m(e,i)).query=a}return i},params:m,path:v,query:b,regex:p,match:d}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzU5ZjhiYmRjNDJmM2JjNjhkMGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvTG9jYXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9ET01VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlSGFzaEhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlTWVtb3J5SGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsLWNvbXBvc2VyL2Rpc3QvdXJsLWNvbXBvc2VyLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiYWRkTGVhZGluZ1NsYXNoIiwic3RyaXBMZWFkaW5nU2xhc2giLCJoYXNCYXNlbmFtZSIsInN0cmlwQmFzZW5hbWUiLCJzdHJpcFRyYWlsaW5nU2xhc2giLCJwYXJzZVBhdGgiLCJjcmVhdGVQYXRoIiwicGF0aCIsImNoYXJBdCIsInN1YnN0ciIsInByZWZpeCIsIlJlZ0V4cCIsInRlc3QiLCJsZW5ndGgiLCJzbGljZSIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsImluZGV4T2YiLCJzZWFyY2hJbmRleCIsImxvY2F0aW9uIiwicHJvY2VzcyIsIndhcm5pbmciLCJlbnYiLCJOT0RFX0VOViIsImNvbmRpdGlvbiIsImZvcm1hdCIsImFyZ3MiLCJsZW4iLCJhcmd1bWVudHMiLCJBcnJheSIsImtleSIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJnSW5kZXgiLCJtZXNzYWdlIiwicmVwbGFjZSIsImNvbnNvbGUiLCJlcnJvciIsIngiLCJjcmVhdGVMb2NhdGlvbiIsImxvY2F0aW9uc0FyZUVxdWFsIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Jlc29sdmVfcGF0aG5hbWVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV92YWx1ZV9lcXVhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19QYXRoVXRpbHNfXyIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwic3RhdGUiLCJjdXJyZW50TG9jYXRpb24iLCJkZWNvZGVVUkkiLCJlIiwiVVJJRXJyb3IiLCJhIiwiYiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF93YXJuaW5nX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfd2FybmluZ19fX2RlZmF1bHQiLCJwcm9tcHQiLCJsaXN0ZW5lcnMiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiY29uZmlybVRyYW5zaXRpb25UbyIsImFjdGlvbiIsImdldFVzZXJDb25maXJtYXRpb24iLCJjYWxsYmFjayIsInJlc3VsdCIsImFwcGVuZExpc3RlbmVyIiwiZm4iLCJpc0FjdGl2ZSIsImxpc3RlbmVyIiwiYXBwbHkiLCJwdXNoIiwiZmlsdGVyIiwiaXRlbSIsIm5vdGlmeUxpc3RlbmVycyIsIl9sZW4iLCJfa2V5IiwiZm9yRWFjaCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwidGhpcyIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJmIiwiZnJhbWVzVG9Qb3AiLCJjYW5Vc2VET00iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldENvbmZpcm1hdGlvbiIsInN1cHBvcnRzSGlzdG9yeSIsInN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJub2RlIiwiZXZlbnQiLCJhdHRhY2hFdmVudCIsImRldGFjaEV2ZW50IiwiY29uZmlybSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaGlzdG9yeSIsInZhbHVlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfX19kZWZhdWx0IiwibWlkZGxld2FyZSIsIm1pZGRsZXdhcmVzIiwiaXNQYXNzZWQiLCJIaXN0b3J5Um91dGVyIiwiW29iamVjdCBPYmplY3RdIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiX3JvdXRlcyIsIl9taWRkbGV3YXJlcyIsInNlbGYiLCJpc1ZlcmlmaWVkIiwiYmxvY2siLCJyb3V0ZXIiLCJyb3V0ZSIsInVybCIsInBhcmFtcyIsInBhcnNlIiwiZGVmaW5pdGlvbiIsImFzc2VydCIsImxpc3RlbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlQnJvd3Nlckhpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY3JlYXRlSGFzaEhpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9pbnZhcmlhbnRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9pbnZhcmlhbnRfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19Mb2NhdGlvblV0aWxzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1BhdGhVdGlsc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19ET01VdGlsc19fIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJnZXRIaXN0b3J5U3RhdGUiLCJwcm9wcyIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5IiwibmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIiLCJfcHJvcHMkZm9yY2VSZWZyZXNoIiwiZm9yY2VSZWZyZXNoIiwiX3Byb3BzJGdldFVzZXJDb25maXJtIiwiX3Byb3BzJGtleUxlbmd0aCIsImtleUxlbmd0aCIsImJhc2VuYW1lIiwiZ2V0RE9NTG9jYXRpb24iLCJoaXN0b3J5U3RhdGUiLCJfcmVmIiwiX3dpbmRvdyRsb2NhdGlvbiIsImNyZWF0ZUtleSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRyYW5zaXRpb25NYW5hZ2VyIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJoYW5kbGVQb3BTdGF0ZSIsImhhbmRsZVBvcCIsImhhbmRsZUhhc2hDaGFuZ2UiLCJmb3JjZU5leHRQb3AiLCJvayIsInJldmVydFBvcCIsImZyb21Mb2NhdGlvbiIsInRvTG9jYXRpb24iLCJ0b0luZGV4IiwiYWxsS2V5cyIsImZyb21JbmRleCIsImRlbHRhIiwiZ28iLCJpbml0aWFsTG9jYXRpb24iLCJjcmVhdGVIcmVmIiwibGlzdGVuZXJDb3VudCIsImNoZWNrRE9NTGlzdGVuZXJzIiwiaXNCbG9ja2VkIiwiaHJlZiIsInB1c2hTdGF0ZSIsInByZXZJbmRleCIsIm5leHRLZXlzIiwicmVwbGFjZVN0YXRlIiwiZ29CYWNrIiwiZ29Gb3J3YXJkIiwidW5ibG9jayIsInVubGlzdGVuIiwiaXNBYnNvbHV0ZSIsInNwbGljZU9uZSIsImxpc3QiLCJpbmRleCIsImsiLCJwb3AiLCJ0byIsImZyb20iLCJ0b1BhcnRzIiwic3BsaXQiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJwYXJ0IiwidW5zaGlmdCIsImpvaW4iLCJ2YWx1ZUVxdWFsIiwiaXNBcnJheSIsImV2ZXJ5IiwiYVR5cGUiLCJhVmFsdWUiLCJ2YWx1ZU9mIiwiYlZhbHVlIiwiYUtleXMiLCJrZXlzIiwiYktleXMiLCJIYXNoUGF0aENvZGVycyIsImhhc2hiYW5nIiwiZW5jb2RlUGF0aCIsImRlY29kZVBhdGgiLCJub3NsYXNoIiwic2xhc2giLCJnZXRIYXNoUGF0aCIsInN1YnN0cmluZyIsInJlcGxhY2VIYXNoUGF0aCIsImNhbkdvV2l0aG91dFJlbG9hZCIsIl9wcm9wcyRoYXNoVHlwZSIsImhhc2hUeXBlIiwiX0hhc2hQYXRoQ29kZXJzJGhhc2hUIiwiaWdub3JlUGF0aCIsImVuY29kZWRQYXRoIiwicHJldkxvY2F0aW9uIiwiYWxsUGF0aHMiLCJsYXN0SW5kZXhPZiIsInB1c2hIYXNoUGF0aCIsIm5leHRQYXRocyIsImdsb2JhbCIsImZhY3RvcnkiLCJUUkFJTElOR19TTEFTSCIsIkxFQURJTkdfU0xBU0giLCJQQVJFTlRIRVNFUyIsIk9QVElPTkFMX1BBUkFNUyIsIlNQTEFUX1BBUkFNUyIsIk5BTUVEX1BBUkFNIiwiTkFNRURfUEFSQU1TIiwiRVNDQVBFIiwiY29tcG9zZVBhdGgiLCJpc0VtcHR5IiwicmVtb3ZlT3B0aW9uYWxQYXJhbXMiLCJyZW1vdmVUcmFpbGluZ1NsYXNoIiwicmVtb3ZlUGFyZW50aGVzZXMiLCJwYXJhbU5hbWVzIiwibWF0Y2giLCJtYXAiLCJhcmciLCJoYXNOYW1lZFBhcmFtIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZUFyZyIsIm1hdGNoZXMiLCJwYXJhbSIsImlzTmFtZWRPclNwbGF0UGFyYW0iLCJyZXBsYWNlQXJncyIsInNtYXJ0Q29uY2F0IiwicmVmIiwiaG9zdCIsInF1ZXJ5IiwicmVmJDEiLCJwYXRoUGFydCIsInF1ZXJ5UGFydCIsInJlbW92ZUxlYWRpbmdTbGFzaCIsInRlc3RQYXJhbWV0ZXIiLCJmaWVsZCIsImdldFBhcmFtc01hdGNoIiwibmFtZWQiLCJzcGxhdCIsInJvdXRlVG9SZWdleCIsIm9wdGlvbmFsIiwiYnVpbGRQYXRoIiwiYnVpbGRRdWVyeSIsInBhcmFtc0FycmF5Mk9iamVjdCIsImNvbXBvc2UiLCJidWlsZCIsInN0YXRzIiwiaXNPcHRpb25hbCIsInJlcXVpcmVkIiwiaGFzT3B0aW9uYWxQYXJhbXMiLCJtaXNzaW5nT3B0aW9uYWxQYXJhbXMiLCJtaXNzaW5nUmVxdWlyZWRQYXJhbXMiLCJtaXNzaW5nUGFyYW1zIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlZ2V4Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFoQixHQUNBLElBQUFTLEVBQUFULEtBQUFpQixXQUNBLFdBQTJCLE9BQUFqQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBUSxFQUFBQyxH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Q0EsU0FBQVgsUUFDQSxJQUFBQSxVQUVBLElBQUFuSixFQUFBbUosRUFBQW5KLEtBQ0ErSixFQUFBWixFQUFBWSxXQUNBN0ssRUFBQWlLLEVBQUFqSyxPQUVBLElBQUFjLElBQUErSixFQUNBLFVBQUFwSSxNQUFBLDZDQUdBLElBRUFrSSxFQUZBNEosRUFBQTFKLEdBRUF3SyxLQUFBdlUsR0FFQSxJQUFBNkosRUFBZ0IsWUFJaEIsSUFBQWpHLEdBRkFpRyxJQUFBdEosTUFBQSxJQUVBNFIsSUFBQSxTQUFBTSxFQUFBeFUsR0FDQSxPQUFBQSxJQUFBNEwsRUFBQXZKLE9BQUEsRUFBa0NtUyxHQUFBLEtBQ2xDQSxFQUFBK0IsbUJBQUEvQixHQUFBLE9BR0EsR0FBQXZULEVBQUEsQ0FDQSxJQUFBNlQsRUFBQW5QLEVBQUF5SyxPQUNBekssRUFBQWlRLEVBQUE5SixFQUFBbkcsSUFDQW1QLFFBR0EsT0FBQW5QLEdBUUFpRyxPQUFBZ0ssRUFDQTdULEtBQUEyVCxFQUNBWixNQUFBYSxFQUNBYSxNQUFBaEIsRUFDQXZCLE1BQUFvQiIsImZpbGUiOiJkaXN0L2hpc3Rvcnktcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDM1OWY4YmJkYzQyZjNiYzY4ZDBkIiwiZXhwb3J0IHZhciBhZGRMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59O1xuXG5leHBvcnQgdmFyIGhhc0Jhc2VuYW1lID0gZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn07XG5cbmV4cG9ydCB2YXIgc3RyaXBCYXNlbmFtZSA9IGZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBwYXJzZVBhdGggPSBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBwYXRoIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgY3JlYXRlUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuXG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvUGF0aFV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5cbmV4cG9ydCB2YXIgY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxuZXhwb3J0IHZhciBsb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiB2YWx1ZUVxdWFsKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL0xvY2F0aW9uVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5cbnZhciBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICB2YXIgc2V0UHJvbXB0ID0gZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICB3YXJuaW5nKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKTtcblxuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjb25maXJtVHJhbnNpdGlvblRvID0gZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xuXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgdmFyIGFwcGVuZExpc3RlbmVyID0gZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgdmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbmV4cG9ydCB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxuZXhwb3J0IHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG5leHBvcnQgdmFyIGdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG5leHBvcnQgdmFyIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQgPSBmdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ3JpT1MnKSA9PT0gLTE7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvRE9NVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZUJyb3dzZXJIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XHJcbmltcG9ydCB1cmwgZnJvbSAndXJsLWNvbXBvc2VyJztcclxuXHJcbi8qKlxyXG4gKiBSdW4gbWlkZGxld2FyZXNcclxuICogXHJcbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIFxyXG4gKi9cclxuZnVuY3Rpb24gbWlkZGxld2FyZShtaWRkbGV3YXJlcykge1xyXG4gIGxldCBpc1Bhc3NlZCA9IGZhbHNlO1xyXG4gIC8qKiBhc3NlcnQgTWlkZGxld2FyZSAqL1xyXG4gIGlmKG1pZGRsZXdhcmVzLmxlbmd0aCkge1xyXG4gICAgZm9yKGxldCBpPTA7IGk8bWlkZGxld2FyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaXNQYXNzZWQgPSBtaWRkbGV3YXJlc1tpXSgpO1xyXG4gICAgICBpZighaXNQYXNzZWQpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc1Bhc3NlZDtcclxuICB9XHJcbiAgZWxzZSByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFzc2VydFxyXG4gKiBcclxuICogQHBhcmFtIHtIaXN0b3J5Um91dGVyfSByb3V0ZXJcclxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcclxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnQocm91dGVyLCBwYXRoLCBzdGF0ZSA9IHVuZGVmaW5lZCkge1xyXG4gIGZvcihsZXQgaT0wOyBpPHJvdXRlci5fcm91dGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgcm91dGUgPSByb3V0ZXIuX3JvdXRlc1tpXSxcclxuICAgICAgICBpc0hpdCA9IHVybC50ZXN0KHJvdXRlci5fb3B0aW9ucy5oYXNoIFxyXG4gICAgICAgICAgPyB7IHBhdGg6IGAvIy8ke3JvdXRlLnBhdGh9YCwgdXJsOiBgLyMvJHtwYXRofWAgfVxyXG4gICAgICAgICAgOiB7IHBhdGg6IHJvdXRlLnBhdGgsIHVybDogcGF0aCB9XHJcbiAgICAgICAgKVxyXG4gICAgO1xyXG4gICAgaWYoaXNIaXQpIHtcclxuICAgICAgbGV0IGlzUGFzc2VkID0gZmFsc2U7XHJcbiAgICAgIC8qKiBHbG9iYWwgbWlkZGxld2FyZXMgKi9cclxuICAgICAgaWYobWlkZGxld2FyZShyb3V0ZXIuX21pZGRsZXdhcmVzKSkge1xyXG4gICAgICAgIC8qKiBSb3V0ZSBtaWRkbGV3YXJlcyAqL1xyXG4gICAgICAgIGlzUGFzc2VkID0gbWlkZGxld2FyZShyb3V0ZS5taWRkbGV3YXJlcyk7XHJcbiAgICAgIH07XHJcblx0XHRcdC8qKiBJdCdzIHBhc3NlZCBhbGwgbWlkZGxld2FyZXM/ICovXHJcbiAgICAgIGlmKGlzUGFzc2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGNhbGxiYWNrOiByb3V0ZS5jYWxsYmFjayxcclxuICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgcGFyYW1zOiB1cmwucGFyc2UoeyBwYXRoLCBkZWZpbml0aW9uOiByb3V0ZS5wYXRoLCBvYmplY3Q6IHRydWUgfSlcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmNsYXNzIEhpc3RvcnlSb3V0ZXIge1xyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgUm91dGVyIEluc3RhbmNlXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgXHJcblx0ICovXHJcblx0IGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xyXG5cclxuXHRcdC8qKiBcclxuXHRcdCAqIHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0dGhpcy5fb3B0aW9ucyA9IHtcclxuXHRcdFx0aGFzaDogb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaGFzaCcpPyBvcHRpb25zLmhhc2g6IHRydWUsXHJcblx0XHRcdGhpc3Rvcnk6IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2hpc3RvcnknKT8gb3B0aW9ucy5oaXN0b3J5OiB7fVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuX3JvdXRlcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0dGhpcy5fbWlkZGxld2FyZXMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHQvKiogXHJcblx0XHQgKiBwdWJsaWNcclxuXHRcdCAqL1xyXG5cclxuXHRcdHRoaXMuaGlzdG9yeSA9IHRoaXMuX29wdGlvbnMuaGFzaFxyXG5cdFx0XHQ/IGNyZWF0ZUhhc2hIaXN0b3J5KHRoaXMuX29wdGlvbnMuaGlzdG9yeSlcclxuXHRcdFx0OiBjcmVhdGVCcm93c2VySGlzdG9yeSh0aGlzLl9vcHRpb25zLmhpc3RvcnkpXHJcblx0XHQ7XHJcblxyXG5cdFx0bGV0IHNlbGYgPSB0aGlzLFxyXG5cdFx0XHRcdGlzVmVyaWZpZWQgPSBmYWxzZVxyXG5cdFx0O1xyXG5cdFx0LyoqIEFzc2VydCBiZWZvcmUgLi4uICovXHJcblx0XHR0aGlzLmhpc3RvcnkuYmxvY2soKGxvY2F0aW9uKSA9PiB7XHJcblx0XHRcdC8qKiBDaGVjayByb3V0ZWQgcGF0aCB3aGV0aGVyIG1pZGRsZXdhcmUgaXMgcGFzc2VkICovXHJcblx0XHRcdHJldHVybiBpc1ZlcmlmaWVkID0gYXNzZXJ0KHNlbGYsIGAke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1gLCBsb2NhdGlvbi5zdGF0ZSk7XHJcblx0XHR9KTtcclxuXHRcdChhc3luYyBmdW5jdGlvbihzZWxmKSB7XHJcblx0XHRcdC8qKiBMaXN0ZW5pbmcgKi9cclxuXHRcdFx0YXdhaXQgc2VsZi5oaXN0b3J5Lmxpc3RlbigobG9jYXRpb24pID0+IHtcclxuXHRcdFx0XHRpZihpc1ZlcmlmaWVkKSB7XHJcblx0XHRcdFx0XHRpc1ZlcmlmaWVkLmNhbGxiYWNrKHsgc3RhdGU6IGlzVmVyaWZpZWQuc3RhdGUsIHBhcmFtczogaXNWZXJpZmllZC5wYXJhbXMgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0LyoqIGluaXQ6ICd3aGVuKCcvJyAuLi4pJyAqL1xyXG5cdFx0XHRzZWxmLmhpc3RvcnkucmVwbGFjZSgnLycpO1xyXG5cdFx0fSkodGhpcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWdpc3RlciBSb3V0ZVxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIFxyXG5cdCAqL1xyXG5cdHdoZW4ocGF0aCwgY2FsbGJhY2ssIG1pZGRsZXdhcmVzID0gW10pIHtcclxuXHRcdC8qKiBSb3V0ZSAqL1xyXG5cdFx0dGhpcy5fcm91dGVzLnB1c2goeyBwYXRoLCBjYWxsYmFjaywgbWlkZGxld2FyZXMgfSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlZ2lzdGVyIGdsb2JhbCBtaWRkbGV3YXJlXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgXHJcblx0ICovXHJcblx0bWlkZGxld2FyZShjYWxsYmFjaykge1xyXG5cdFx0LyoqIEdsb2JhbCBtaWRkbGV3YXJlICovXHJcblx0XHR0aGlzLl9taWRkbGV3YXJlcy5wdXNoKGNhbGxiYWNrKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufVxyXG5cclxuLyoqIE9ubHkgZm9yIENETiwgb3IgQm93ZXIgKi9cclxud2luZG93Lkhpc3RvcnlSb3V0ZXIgPSBIaXN0b3J5Um91dGVyO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSGlzdG9yeVJvdXRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBfY3JlYXRlQnJvd3Nlckhpc3RvcnkgZnJvbSAnLi9jcmVhdGVCcm93c2VySGlzdG9yeSc7XG5leHBvcnQgeyBfY3JlYXRlQnJvd3Nlckhpc3RvcnkgYXMgY3JlYXRlQnJvd3Nlckhpc3RvcnkgfTtcbmltcG9ydCBfY3JlYXRlSGFzaEhpc3RvcnkgZnJvbSAnLi9jcmVhdGVIYXNoSGlzdG9yeSc7XG5leHBvcnQgeyBfY3JlYXRlSGFzaEhpc3RvcnkgYXMgY3JlYXRlSGFzaEhpc3RvcnkgfTtcbmltcG9ydCBfY3JlYXRlTWVtb3J5SGlzdG9yeSBmcm9tICcuL2NyZWF0ZU1lbW9yeUhpc3RvcnknO1xuZXhwb3J0IHsgX2NyZWF0ZU1lbW9yeUhpc3RvcnkgYXMgY3JlYXRlTWVtb3J5SGlzdG9yeSB9O1xuXG5leHBvcnQgeyBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwgfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuZXhwb3J0IHsgcGFyc2VQYXRoLCBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCB7IGNyZWF0ZUxvY2F0aW9uIH0gZnJvbSAnLi9Mb2NhdGlvblV0aWxzJztcbmltcG9ydCB7IGFkZExlYWRpbmdTbGFzaCwgc3RyaXBUcmFpbGluZ1NsYXNoLCBoYXNCYXNlbmFtZSwgc3RyaXBCYXNlbmFtZSwgY3JlYXRlUGF0aCB9IGZyb20gJy4vUGF0aFV0aWxzJztcbmltcG9ydCBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciBmcm9tICcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IGNhblVzZURPTSwgYWRkRXZlbnRMaXN0ZW5lciwgcmVtb3ZlRXZlbnRMaXN0ZW5lciwgZ2V0Q29uZmlybWF0aW9uLCBzdXBwb3J0c0hpc3RvcnksIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UsIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQgfSBmcm9tICcuL0RPTVV0aWxzJztcblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxudmFyIGdldEhpc3RvcnlTdGF0ZSA9IGZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdFRyYWluaW5nL2hpc3RvcnkvcHVsbC8yODlcbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXG4gKiBwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudC5cbiAqL1xudmFyIGNyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgaW52YXJpYW50KGNhblVzZURPTSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gc3VwcG9ydHNIaXN0b3J5KCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICFzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCk7XG5cbiAgdmFyIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBwcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IHByb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHVuZGVmaW5lZCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuXG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcblxuXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cbiAgICB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG5cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGtleSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleSA9IGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGhhbmRsZVBvcFN0YXRlID0gZnVuY3Rpb24gaGFuZGxlUG9wU3RhdGUoZXZlbnQpIHtcbiAgICAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuICAgIGlmIChpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuXG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9O1xuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcblxuICB2YXIgaGFuZGxlUG9wID0gZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG5cbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJldmVydFBvcCA9IGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcblxuICAgIHZhciBmcm9tSW5kZXggPSBhbGxLZXlzLmluZGV4T2YoZnJvbUxvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcblxuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcblxuICAgICAgICAgIG5leHRLZXlzLnB1c2gobG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBhbGxLZXlzID0gbmV4dEtleXM7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVCcm93c2VySGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlUGF0aG5hbWU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcbiAgdmFyIGJUeXBlID0gdHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpO1xuXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBiVmFsdWUgPSBiLnZhbHVlT2YoKTtcblxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XG5cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwgfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuaW1wb3J0IHsgYWRkTGVhZGluZ1NsYXNoLCBzdHJpcExlYWRpbmdTbGFzaCwgc3RyaXBUcmFpbGluZ1NsYXNoLCBoYXNCYXNlbmFtZSwgc3RyaXBCYXNlbmFtZSwgY3JlYXRlUGF0aCB9IGZyb20gJy4vUGF0aFV0aWxzJztcbmltcG9ydCBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciBmcm9tICcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IGNhblVzZURPTSwgYWRkRXZlbnRMaXN0ZW5lciwgcmVtb3ZlRXZlbnRMaXN0ZW5lciwgZ2V0Q29uZmlybWF0aW9uLCBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCB9IGZyb20gJy4vRE9NVXRpbHMnO1xuXG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgSGFzaFBhdGhDb2RlcnMgPSB7XG4gIGhhc2hiYW5nOiB7XG4gICAgZW5jb2RlUGF0aDogZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGggOiAnIS8nICsgc3RyaXBMZWFkaW5nU2xhc2gocGF0aCk7XG4gICAgfSxcbiAgICBkZWNvZGVQYXRoOiBmdW5jdGlvbiBkZWNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xuICAgIH1cbiAgfSxcbiAgbm9zbGFzaDoge1xuICAgIGVuY29kZVBhdGg6IHN0cmlwTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9LFxuICBzbGFzaDoge1xuICAgIGVuY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfVxufTtcblxudmFyIGdldEhhc2hQYXRoID0gZnVuY3Rpb24gZ2V0SGFzaFBhdGgoKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB3aW5kb3cubG9jYXRpb24uaGFzaCBoZXJlIGJlY2F1c2UgaXQncyBub3RcbiAgLy8gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMgLSBGaXJlZm94IHdpbGwgcHJlLWRlY29kZSBpdCFcbiAgdmFyIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgdmFyIGhhc2hJbmRleCA9IGhyZWYuaW5kZXhPZignIycpO1xuICByZXR1cm4gaGFzaEluZGV4ID09PSAtMSA/ICcnIDogaHJlZi5zdWJzdHJpbmcoaGFzaEluZGV4ICsgMSk7XG59O1xuXG52YXIgcHVzaEhhc2hQYXRoID0gZnVuY3Rpb24gcHVzaEhhc2hQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcbn07XG5cbnZhciByZXBsYWNlSGFzaFBhdGggPSBmdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB2YXIgaGFzaEluZGV4ID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpO1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsIGhhc2hJbmRleCA+PSAwID8gaGFzaEluZGV4IDogMCkgKyAnIycgKyBwYXRoKTtcbn07XG5cbnZhciBjcmVhdGVIYXNoSGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gIGludmFyaWFudChjYW5Vc2VET00sICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKTtcblxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuR29XaXRob3V0UmVsb2FkID0gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKTtcblxuICB2YXIgX3Byb3BzJGdldFVzZXJDb25maXJtID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHVuZGVmaW5lZCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRoYXNoVHlwZSA9IHByb3BzLmhhc2hUeXBlLFxuICAgICAgaGFzaFR5cGUgPSBfcHJvcHMkaGFzaFR5cGUgPT09IHVuZGVmaW5lZCA/ICdzbGFzaCcgOiBfcHJvcHMkaGFzaFR5cGU7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICB2YXIgX0hhc2hQYXRoQ29kZXJzJGhhc2hUID0gSGFzaFBhdGhDb2RlcnNbaGFzaFR5cGVdLFxuICAgICAgZW5jb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5lbmNvZGVQYXRoLFxuICAgICAgZGVjb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5kZWNvZGVQYXRoO1xuXG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oKSB7XG4gICAgdmFyIHBhdGggPSBkZWNvZGVQYXRoKGdldEhhc2hQYXRoKCkpO1xuXG4gICAgd2FybmluZyghYmFzZW5hbWUgfHwgaGFzQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpLCAnWW91IGFyZSBhdHRlbXB0aW5nIHRvIHVzZSBhIGJhc2VuYW1lIG9uIGEgcGFnZSB3aG9zZSBVUkwgcGF0aCBkb2VzIG5vdCBiZWdpbiAnICsgJ3dpdGggdGhlIGJhc2VuYW1lLiBFeHBlY3RlZCBwYXRoIFwiJyArIHBhdGggKyAnXCIgdG8gYmVnaW4gd2l0aCBcIicgKyBiYXNlbmFtZSArICdcIi4nKTtcblxuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgdmFyIGlnbm9yZVBhdGggPSBudWxsO1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGFsd2F5cyBoYXZlIGEgcHJvcGVybHktZW5jb2RlZCBoYXNoLlxuICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgICBpZiAoIWZvcmNlTmV4dFBvcCAmJiBsb2NhdGlvbnNBcmVFcXVhbChwcmV2TG9jYXRpb24sIGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBBIGhhc2hjaGFuZ2UgZG9lc24ndCBhbHdheXMgPT0gbG9jYXRpb24gY2hhbmdlLlxuXG4gICAgICBpZiAoaWdub3JlUGF0aCA9PT0gY3JlYXRlUGF0aChsb2NhdGlvbikpIHJldHVybjsgLy8gSWdub3JlIHRoaXMgY2hhbmdlOyB3ZSBhbHJlYWR5IHNldFN0YXRlIGluIHB1c2gvcmVwbGFjZS5cblxuICAgICAgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgICAgIGhhbmRsZVBvcChsb2NhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2YgcGF0aHMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3IgcGF0aHMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aCh0b0xvY2F0aW9uKSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoZnJvbUxvY2F0aW9uKSk7XG5cbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcblxuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEVuc3VyZSB0aGUgaGFzaCBpcyBlbmNvZGVkIHByb3Blcmx5IGJlZm9yZSBkb2luZyBhbnl0aGluZyBlbHNlLlxuICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG5cbiAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICB2YXIgYWxsUGF0aHMgPSBbY3JlYXRlUGF0aChpbml0aWFsTG9jYXRpb24pXTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuICcjJyArIGVuY29kZVBhdGgoYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKSk7XG4gIH07XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUFVTSCwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcHVzaEhhc2hQYXRoKGVuY29kZWRQYXRoKTtcblxuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICAgIHZhciBuZXh0UGF0aHMgPSBhbGxQYXRocy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgIG5leHRQYXRocy5wdXNoKHBhdGgpO1xuICAgICAgICBhbGxQYXRocyA9IG5leHRQYXRocztcblxuICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGg7IGEgbmV3IGVudHJ5IHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrJyk7XG5cbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBSRVBMQUNFLCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMuaW5kZXhPZihjcmVhdGVQYXRoKGhpc3RvcnkubG9jYXRpb24pKTtcblxuICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbFBhdGhzW3ByZXZJbmRleF0gPSBwYXRoO1xuXG4gICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIHdhcm5pbmcoY2FuR29XaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJyk7XG5cbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVIYXNoSGlzdG9yeTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZUhhc2hIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuaW1wb3J0IHsgY3JlYXRlUGF0aCB9IGZyb20gJy4vUGF0aFV0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUxvY2F0aW9uIH0gZnJvbSAnLi9Mb2NhdGlvblV0aWxzJztcbmltcG9ydCBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciBmcm9tICcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJztcblxudmFyIGNsYW1wID0gZnVuY3Rpb24gY2xhbXAobiwgbG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgbG93ZXJCb3VuZCksIHVwcGVyQm91bmQpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCBzdG9yZXMgbG9jYXRpb25zIGluIG1lbW9yeS5cbiAqL1xudmFyIGNyZWF0ZU1lbW9yeUhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPSBwcm9wcy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxFbnRyaWVzID0gX3Byb3BzJGluaXRpYWxFbnRyaWVzID09PSB1bmRlZmluZWQgPyBbJy8nXSA6IF9wcm9wcyRpbml0aWFsRW50cmllcyxcbiAgICAgIF9wcm9wcyRpbml0aWFsSW5kZXggPSBwcm9wcy5pbml0aWFsSW5kZXgsXG4gICAgICBpbml0aWFsSW5kZXggPSBfcHJvcHMkaW5pdGlhbEluZGV4ID09PSB1bmRlZmluZWQgPyAwIDogX3Byb3BzJGluaXRpYWxJbmRleCxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleSA9IGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIGluZGV4ID0gY2xhbXAoaW5pdGlhbEluZGV4LCAwLCBpbml0aWFsRW50cmllcy5sZW5ndGggLSAxKTtcbiAgdmFyIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycgPyBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBjcmVhdGVLZXkoKSkgOiBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBlbnRyeS5rZXkgfHwgY3JlYXRlS2V5KCkpO1xuICB9KTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBjcmVhdGVQYXRoO1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBoaXN0b3J5LmluZGV4O1xuICAgICAgdmFyIG5leHRJbmRleCA9IHByZXZJbmRleCArIDE7XG5cbiAgICAgIHZhciBuZXh0RW50cmllcyA9IGhpc3RvcnkuZW50cmllcy5zbGljZSgwKTtcbiAgICAgIGlmIChuZXh0RW50cmllcy5sZW5ndGggPiBuZXh0SW5kZXgpIHtcbiAgICAgICAgbmV4dEVudHJpZXMuc3BsaWNlKG5leHRJbmRleCwgbmV4dEVudHJpZXMubGVuZ3RoIC0gbmV4dEluZGV4LCBsb2NhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0RW50cmllcy5wdXNoKGxvY2F0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICBpbmRleDogbmV4dEluZGV4LFxuICAgICAgICBlbnRyaWVzOiBuZXh0RW50cmllc1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgaGlzdG9yeS5lbnRyaWVzW2hpc3RvcnkuaW5kZXhdID0gbG9jYXRpb247XG5cbiAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGNsYW1wKGhpc3RvcnkuaW5kZXggKyBuLCAwLCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMSk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgdmFyIGxvY2F0aW9uID0gaGlzdG9yeS5lbnRyaWVzW25leHRJbmRleF07XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKG9rKSB7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgaW5kZXg6IG5leHRJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1pbWljIHRoZSBiZWhhdmlvciBvZiBET00gaGlzdG9yaWVzIGJ5XG4gICAgICAgIC8vIGNhdXNpbmcgYSByZW5kZXIgYWZ0ZXIgYSBjYW5jZWxsZWQgUE9QLlxuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgY2FuR28gPSBmdW5jdGlvbiBjYW5HbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGhpc3RvcnkuaW5kZXggKyBuO1xuICAgIHJldHVybiBuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICB9O1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgIHJldHVybiB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGVudHJpZXMubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGVudHJpZXNbaW5kZXhdLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICBlbnRyaWVzOiBlbnRyaWVzLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBjYW5HbzogY2FuR28sXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVNZW1vcnlIaXN0b3J5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlTWVtb3J5SGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLnVybENvbXBvc2VyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBtb2R1bGUgdXJsLWNvbXBvc2VyXG4gKiBAZGVzY3JpcHRpb24gTW9kdWxlIHRvIGJ1aWxkIGR5bmFtaWMgVVJMcyB3aXRob3V0IGEgZnVzc1xuICovXG5cbi8vXG4vLyBQYXRoIGFuYWx5c2lzIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbi8vXG5cbi8qKlxuICogVHJhaWxpbmcgc2xhc2ggcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVFJBSUxJTkdfU0xBU0ggPSAvXFwvJC87XG4vKipcbiAqIExlYWRpbmcgc2xhc2ggcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTEVBRElOR19TTEFTSCA9IC9eXFwvLztcbi8qKlxuICogUGFyZW50aGVzZXMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIFBBUkVOVEhFU0VTID0gL1soKV0vZztcbi8qKlxuICogT3B0aW9uYWwgcGFyYW1ldGVycyBnbG9iYWwgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgT1BUSU9OQUxfUEFSQU1TID0gL1xcKCguKj8pXFwpL2c7XG4vKipcbiAqIFNwbGF0IHBhcmFtZXRlcnMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIFNQTEFUX1BBUkFNUyA9IC9cXCpcXHcrL2c7XG4vKipcbiAqIE5hbWVkIHBhcmFtZXRlciByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBOQU1FRF9QQVJBTSA9IC8oXFwoXFw/KT86XFx3Ky87XG4vKipcbiAqIE5hbWVkIHBhcmFtZXRlcnMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIE5BTUVEX1BBUkFNUyA9IC8oXFwoXFw/KT86XFx3Ky9nO1xuLyoqXG4gKiBTb21lIHdpZXJkIGVzY2FwZSByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBFU0NBUEUgPSAvWy17fVtcXF0rPy4sXFxcXF4kfCNcXHNdL2c7XG5cbi8vXG4vLyBIZWxwZXIgZnVuY3Rpb25zXG4vL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIG9iamVjdCBpcyBhbiBhcnJheVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7bWl4ZWR9IG9iaiBUaGUgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSAgIGB0cnVlYCBpZiBgb2JqYCBpcyBhbiBhcnJheSBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSAob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gb2JqZWN0IGlzIGVtcHR5XG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSAgICBgdHJ1ZWAgaWYgYG9iamAgaXMgZW1wdHkgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIGlzRW1wdHkgKG9iaikge1xuICBpZiAob2JqID09IG51bGwpIHsgcmV0dXJuIHRydWUgfVxuICBpZiAob2JqLmxlbmd0aCA+IDApIHsgcmV0dXJuIGZhbHNlIH1cbiAgaWYgKG9iai5sZW5ndGggPT09IDApIHsgcmV0dXJuIHRydWUgfVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIHRydWUgfVxuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgcmV0dXJuIGZhbHNlIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbi8vXG4vLyAjIyBQYXRoIHBhcnNpbmcgZnVuY3Rpb25zXG4vL1xuXG4vKipcbiAqIEluamVjdCBhcmd1bWVudHMgaW50byBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uIGFuZCBjbGVhbiB1bnVzZWQgb3B0aW9uYWwgcGFydHNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge21peGVkfSAgYXJncyBPYmplY3Qgb3IgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGluamVjdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICBJZiBpdCBpcyBhbiBhcnJheSwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW4gc2VxdWVudGlhbCBvcmRlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICBGb3IgYW4gb2JqZWN0LCB0aGUgb2JqZWN0IGtleXMgd2lsbCBiZSB1c2VkIHRvIG1hcCB2YWx1ZXMgdG8gdGhlIGR5bmFtaWMgcGFydHMgb2YgdGhlIHBhdGguXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIHBhcnNlZCBwYXRoIHdpdGggaW5qZWN0ZWQgYXJndW1lbnRzXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2VQYXRoIChwYXRoLCBhcmdzKSB7XG4gIHBhdGggPSBwYXRoIHx8ICcnO1xuICBhcmdzID0gYXJncyB8fCBbXTtcblxuICBpZiAoaXNFbXB0eShhcmdzKSkge1xuICAgIHJldHVybiByZW1vdmVPcHRpb25hbFBhcmFtcyhwYXRoKVxuICB9XG5cbiAgcGF0aCA9IHJlcGxhY2VBcmdzKHBhdGgsIGFyZ3MpO1xuXG4gIHJldHVybiByZW1vdmVUcmFpbGluZ1NsYXNoKFxuICAgIHJlbW92ZVBhcmVudGhlc2VzKHBhdGgpXG4gIClcbn1cblxuLyoqXG4gKiBSZXBsYWNlIGR5bmFtaWMgcGFydHMgb2YgYSBwYXRoIGJ5IGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7bWl4ZWR9ICBhcmdzIE9iamVjdCBvciBhcnJheSBvZiBhcmd1bWVudHMgdG8gaW5qZWN0LlxuICogICAgICAgICAgICAgICAgICAgICAgIElmIGl0IGlzIGFuIGFycmF5LCBhcmd1bWVudHMgd2lsbCBiZSBpbmplY3RlZCBpbiBzZXF1ZW50aWFsIG9yZGVyLlxuICogICAgICAgICAgICAgICAgICAgICAgIEZvciBhbiBvYmplY3QsIHRoZSBvYmplY3Qga2V5cyB3aWxsIGJlIHVzZWQgdG8gbWFwIHZhbHVlcyB0byB0aGUgZHluYW1pYyBwYXJ0cyBvZiB0aGUgcGF0aC5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBQYXRoIHdpdGggaW5qZWN0ZWQgYXJndW1lbnRzXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VBcmdzIChwYXRoLCBhcmdzKSB7XG4gIGFyZ3MgPSBhcmdzIHx8IFtdO1xuXG4gIGlmICghaXNBcnJheShhcmdzKSkge1xuICAgIHZhciBwYXJhbU5hbWVzID0gcGF0aC5tYXRjaChOQU1FRF9QQVJBTVMpO1xuICAgIGlmIChwYXJhbU5hbWVzKSB7XG4gICAgICBhcmdzID0gcGFyYW1OYW1lcy5tYXAoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGFyZ3NbbmFtZS5zdWJzdHIoMSldOyB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNBcnJheShhcmdzKSkge1xuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICBpZiAoYXJnKSB7IHBhdGggPSByZXBsYWNlQXJnKHBhdGgsIGFyZyk7IH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtYXRjaGVzID0gcGF0aC5tYXRjaChPUFRJT05BTF9QQVJBTVMpO1xuXG4gIGlmIChtYXRjaGVzKSB7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICBpZiAoaXNOYW1lZE9yU3BsYXRQYXJhbShwYXJ0KSkge1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKHBhcnQsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXRoXG59XG5cbi8qKlxuICogUmVwbGFjZSB0aGUgZmlyc3QgbWF0Y2hpbmcgZHluYW1pYyBwYXJ0IG9mIGEgcGF0aCBieSB0aGUgZ2l2ZW4gYXJndW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge21peGVkfSAgYXJnICBUaGUgdmFsdWUgdG8gaW5qZWN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUFyZyAocGF0aCwgYXJnKSB7XG4gIHZhciBoYXNOYW1lZFBhcmFtID0gcGF0aC5pbmRleE9mKCc6JykgIT09IC0xO1xuICBhcmcgPSBlbmNvZGVVUklDb21wb25lbnQoYXJnKTtcblxuICBpZiAoaGFzTmFtZWRQYXJhbSkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoTkFNRURfUEFSQU0sIGFyZylcbiAgfVxuXG4gIHJldHVybiBwYXRoLnJlcGxhY2UoU1BMQVRfUEFSQU1TLCBhcmcpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIG5leHQgZHluYW1pYyBwYXJ0IGluIGEgcGF0aCBpcyBhIG5hbWVkIG9yIHNwbGF0IHBhcmFtZXRlciBkZWZpbml0aW9uXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhcmFtIER5bmFtaWMgcGFydCBvZiBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcmV0dXJuIHtib29sZWFufSAgICAgIGB0cnVlYCBpZiBgcGFyYW1gIGlzIGEgbmFtZWQgb3Igc3BsYXQgcGFyYW1ldGVyIGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiBpc05hbWVkT3JTcGxhdFBhcmFtIChwYXJhbSkge1xuICByZXR1cm4gTkFNRURfUEFSQU0udGVzdChwYXJhbSkgfHwgU1BMQVRfUEFSQU1TLnRlc3QocGFyYW0pXG59XG5cbi8qKlxuICogU3RyaXAgdGhlIHVuZmlsbGVkIG9wdGlvbmFsIHBhcmFtZXRlcnMgZnJvbSBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCB0byBtb2RpZnlcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgbW9kaWZpZWQgcGF0aFxuICovXG5mdW5jdGlvbiByZW1vdmVPcHRpb25hbFBhcmFtcyAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKE9QVElPTkFMX1BBUkFNUywgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsYXN0IGNoYXJhY3RlciBmcm9tIGEgcGF0aCBpZiBpdCBpcyBhIHNsYXNoXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gbW9kaWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTbGFzaCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKFRSQUlMSU5HX1NMQVNILCAnJylcbn1cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGZpcnN0IGNoYXJhY3RlciBmcm9tIGEgcGF0aCBpZiBpdCBpcyBhIHNsYXNoXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gbW9kaWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTGVhZGluZ1NsYXNoIChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoTEVBRElOR19TTEFTSCwgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlL2NsZWFuIHJlbWFpbmluZyBwYXJlbnRoZXNlcyBmcm9tIGEgcGF0aCBhZnRlciBpdCBoYXMgYmVlbiBwYXJzZWRcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBtb2RpZnkvY2xlYW5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgbW9kaWZpZWQgcGF0aFxuICovXG5mdW5jdGlvbiByZW1vdmVQYXJlbnRoZXNlcyAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKFBBUkVOVEhFU0VTLCAnJylcbn1cblxuLyoqXG4gKiBTbWFydCBjb25jYXRlbmF0aW9uIG9mIGhvc3QsIHBhdGgsIHF1ZXJ5IGFuZCBoYXNoLiBXaWxsIGFkZCB0aGUgY29ycmVjdCBnbHVlIGNoYXJhY3RlciB3aGVuIG5lZWRlZFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIE9iamVjdCBkZXNjcmliaW5nIHRoZSB1cmxcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICBDb25jYXRlbmF0aW9uIG9mIGhvc3QsIHBhdGgsIHF1ZXJ5IGFuZCBoYXNoXG4gKi9cbmZ1bmN0aW9uIHNtYXJ0Q29uY2F0IChyZWYpIHtcbiAgdmFyIGhvc3QgPSByZWYuaG9zdDtcbiAgdmFyIHBhdGggPSByZWYucGF0aDtcbiAgdmFyIHF1ZXJ5ID0gcmVmLnF1ZXJ5O1xuICB2YXIgaGFzaCA9IHJlZi5oYXNoO1xuXG4gIC8vIE5vcm1hbGl6ZSBob3N0XG4gIGhvc3QgPSByZW1vdmVUcmFpbGluZ1NsYXNoKGhvc3QpO1xuXG4gIC8vIFNwbGl0IHBhdGggaW4gY2FzZSBwYXRoIGNvbnRhaW5zIGFuIGV4aXN0aW5nIHF1ZXJ5XG4gIHZhciByZWYkMSA9IHBhdGguc3BsaXQoJz8nKTtcbiAgdmFyIHBhdGhQYXJ0ID0gcmVmJDFbMF07XG4gIHZhciBxdWVyeVBhcnQgPSByZWYkMVsxXTtcblxuICAvLyBOb3JtYWxpemUgcGF0aFxuICBwYXRoID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChcbiAgICByZW1vdmVMZWFkaW5nU2xhc2gocGF0aFBhcnQpXG4gICk7XG5cbiAgLy8gQWRkIHNwZWNpZmljIGdsdWUgY2hhcmFjdGVyc1xuICBwYXRoID0gcGF0aCA/IChcIi9cIiArIHBhdGgpIDogJyc7XG4gIHF1ZXJ5UGFydCA9IHF1ZXJ5UGFydCA/IChxdWVyeVBhcnQgKyBcIiZcIikgOiAnJztcbiAgcXVlcnkgPSBxdWVyeSA/IChcIj9cIiArIHF1ZXJ5UGFydCArIHF1ZXJ5KSA6ICcnO1xuICBoYXNoID0gaGFzaCA/IChcIiNcIiArIGhhc2gpIDogJyc7XG5cbiAgcmV0dXJuIChcIlwiICsgaG9zdCArIHBhdGggKyBxdWVyeSArIGhhc2gpXG59XG5cbi8qKlxuICogVGVzdCB0aGUgZXhpc3RlbmNlIG9mIGNlcnRhaW4gZmllbGRzIGluIHRoZSBzdGF0c1xuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7YXJyYXl9ICBwYXJhbXMgTGlzdCBvZiBhbmFseXplZCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZpZWxkICBOYW1lIG9mIHRoZSBmaWVsZCB0byBhbmFseXplXG4gKiBAcmV0dXJuIHthcnJheX0gICAgICAgICBGaWx0ZXJlZCBhcnJheVxuICovXG5mdW5jdGlvbiB0ZXN0UGFyYW1ldGVyIChwYXJhbXMsIGZpZWxkKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gcGFyYW1zW2ldO1xuICAgIGlmIChwW2ZpZWxkXSAmJiBwLnZhbHVlID09PSAnJykge1xuICAgICAgcmVzdWx0LnB1c2gocCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vL1xuLy8gIyMgUHVibGljIEFQSSBmdW5jdGlvbnNcbi8vXG5cbi8qKlxuICogUmV0cmlldmUgbWF0Y2hlcyBmb3IgbmFtZWQgYW5kIHNwbGF0IHBhcmFtcyBmb3IgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBuYW1lIG1hdGNoXG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggRHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEByZXR1cm4ge29iamVjdH0gICAgICBPYmplY3Qgd2l0aCBhIGBuYW1lZGAgYW5kIGBzcGxhdGAgYXJyYXkgY29udGFpbmluZyB0aGUgZXh0cmFjdGVkIHBhcmFtZXRlciBuYW1lc1xuICovXG5mdW5jdGlvbiBnZXRQYXJhbXNNYXRjaCAocGF0aCkge1xuICByZXR1cm4ge1xuICAgIG5hbWVkOiAocGF0aCAmJiBwYXRoLm1hdGNoKE5BTUVEX1BBUkFNUykpIHx8IFtdLFxuICAgIHNwbGF0OiAocGF0aCAmJiBwYXRoLm1hdGNoKFNQTEFUX1BBUkFNUykpIHx8IFtdXG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvbiB0byBhbiBleGVjdXRhYmxlIHJlZ3VsYXIgZXhwcmVzc2lvblxuICpcbiAqIEBuYW1lIHJlZ2V4XG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHJvdXRlIFRoZSByb3V0ZS9wYXRoIHRvIHRyYW5zZm9ybVxuICogQHJldHVybiB7UmVnRXhwfSAgICAgICBUaGUgcmVzdWx0aW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiByb3V0ZVRvUmVnZXggKHJvdXRlKSB7XG4gIHJvdXRlID0gcm91dGUucmVwbGFjZShFU0NBUEUsICdcXFxcJCYnKVxuICAgIC5yZXBsYWNlKE9QVElPTkFMX1BBUkFNUywgJyg/OiQxKT8nKVxuICAgIC5yZXBsYWNlKE5BTUVEX1BBUkFNUywgZnVuY3Rpb24gKG1hdGNoLCBvcHRpb25hbCkgeyByZXR1cm4gb3B0aW9uYWwgPyBtYXRjaCA6ICcoW14vP10rKSc7IH0pXG4gICAgLnJlcGxhY2UoU1BMQVRfUEFSQU1TLCAnKFteP10qPyknKTtcblxuICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByb3V0ZSArICcoPzpcXFxcPyhbXFxcXHNcXFxcU10qKSk/JCcpXG59XG5cbi8qKlxuICogQnVpbGQgdGhlIHBhdGggcGFydCBvZiBhIFVSTCB1c2luZyBkeW5hbWljIHBhdGggZGVmaW5pdGlvbnNcbiAqXG4gKiBAbmFtZSBwYXRoXG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYHBhdGhgIGFuZCBgcGFyYW1zYCBrZXlzIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBidWlsZCB0aGUgcmVzdWx0aW5nIHBhdGguXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgVGhlIGJ1aWx0IHBhdGhcbiAqL1xuZnVuY3Rpb24gYnVpbGRQYXRoIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHJldHVybiBjb21wb3NlUGF0aChvcHRpb25zLnBhdGgsIG9wdGlvbnMucGFyYW1zKVxufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBxdWVyeSBwYXJ0IG9mIGEgVVJMXG4gKlxuICogQG5hbWUgcXVlcnlcbiAqIEBmdW5jdGlvblxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBhIGBxdWVyeWAga2V5LiBUaGUgYGtleWAgc2hvdWxkIGJlIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnMgdGhhdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGwgYmUgY29udmVydGVkIHRvIGEgVVJMIHF1ZXJ5IHN0cmluZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICBFbmNvZGVkIFVSTCBxdWVyeSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gYnVpbGRRdWVyeSAob3B0aW9ucykge1xuICB2YXIgcXVlcnkgPSBbXTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMucXVlcnkpIHtcbiAgICB2YXIgcGFyYW0gPSBvcHRpb25zLnF1ZXJ5W2tleV07XG4gICAgcXVlcnkucHVzaCgoa2V5ICsgXCI9XCIgKyAoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtKSkpKTtcbiAgfVxuXG4gIHJldHVybiBxdWVyeS5sZW5ndGggPyBxdWVyeS5qb2luKCcmJykgOiAnJ1xufVxuXG4vKipcbiAqIFRlc3QgYSBVUkwgYWdhaW5zdCBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBBbiBvYmplY3Qgd2l0aCBgcGF0aGAgYW5kIGB1cmxgIGtleXMuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGBwYXRoYCBpcyB0aGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb24gYWdhaW5zdCB3aGljaCB0aGUgYHVybGAgd2lsbCBiZSB0ZXN0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICBgdHJ1ZWAgaWYgYHVybGAgbWF0Y2hlcyB0aGUgYHBhdGhgIGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiB0ZXN0IChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciByZSA9IHJvdXRlVG9SZWdleChvcHRpb25zLnBhdGgpO1xuXG4gIHJldHVybiByZS50ZXN0KG9wdGlvbnMudXJsKVxufVxuXG4vKipcbiAqIEJ1aWxkIGEgY29tcGxldGUgVVJMXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBgaG9zdGAsIGBwYXRoYCwgYHBhcmFtc2AsIGBxdWVyeWAgYW5kIGBoYXNoYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVyeXRoaW5nIGlzIG9wdGlvbmFsLCBjYWxsaW5nIGBidWlsZGAgd2l0aG91dCBhbnkgcGFyYW1ldGVycyB3aWxsIGp1c3QgcmV0dXJuIGFuIGVtcHR5IHN0cmluZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICBUaGUgYnVpbHQgVVJMXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmhvc3QgPSBvcHRpb25zLmhvc3QgfHwgJyc7XG5cbiAgdmFyIHBhdGggPSBidWlsZFBhdGgob3B0aW9ucyk7XG4gIHZhciBxdWVyeSA9IGJ1aWxkUXVlcnkob3B0aW9ucyk7XG5cbiAgcmV0dXJuIHNtYXJ0Q29uY2F0KHsgaG9zdDogb3B0aW9ucy5ob3N0LCBwYXRoOiBwYXRoLCBxdWVyeTogcXVlcnksIGhhc2g6IG9wdGlvbnMuaGFzaCB9KVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcmd1bWVudHMgYXJyYXkgaW50byBhbiBvYmplY3QgdXNpbmcgdGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKlxuICogQG5hbWUgcGFyYW1zXG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHthcnJheX0gIGFyZ3MgQXJndW1lbnRzIGFycmF5XG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgVGhlIHJlc3VsdGluZyBrZXkvdmFsdWUgcGFpcnNcbiAqL1xuZnVuY3Rpb24gcGFyYW1zQXJyYXkyT2JqZWN0IChwYXRoLCBhcmdzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIHBhcmFtcyA9IGdldFBhcmFtc01hdGNoKHBhdGgpO1xuXG4gIHZhciBpID0gMDtcblxuICBwYXJhbXMubmFtZWQuZm9yRWFjaChjb21wb3NlKTtcbiAgcGFyYW1zLnNwbGF0LmZvckVhY2goY29tcG9zZSk7XG5cbiAgcmV0dXJuIHJlc3VsdFxuXG4gIC8vIEhlbHBlclxuXG4gIGZ1bmN0aW9uIGNvbXBvc2UgKG5hbWUpIHtcbiAgICByZXN1bHRbbmFtZS5zbGljZSgxKV0gPSBhcmdzW2krK107XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBzdGF0cyBhYm91dCBhIHBhdGhcbiAqXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIER5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFyZ3MgT2JqZWN0IG9mIGFyZ3VtZW50cyB0byBhbmFseXplIHRoZSBzdGF0ZSBvZiBwYXRoIGlmIGl0IHdhcyBpbmplY3RlZCB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgZGlmZmVyZW50IHN0YXRzIGFib3V0IHRoZSBwYXRoXG4gKi9cbmZ1bmN0aW9uIHN0YXRzIChwYXRoLCBhcmdzKSB7XG4gIHZhciBvcHRpb25hbCA9IHBhdGgubWF0Y2goT1BUSU9OQUxfUEFSQU1TKSB8fCBbXTtcbiAgdmFyIHJlZiA9IGdldFBhcmFtc01hdGNoKHBhdGgpO1xuICB2YXIgbmFtZWQgPSByZWYubmFtZWQ7XG4gIHZhciBzcGxhdCA9IHJlZi5zcGxhdDtcblxuICB2YXIgcGFyYW1zID0gbmFtZWQuY29uY2F0KHNwbGF0KTtcblxuICBhcmdzID0gYXJncyB8fCB7fTtcblxuICBpZiAoaXNBcnJheShhcmdzKSkge1xuICAgIGFyZ3MgPSBwYXJhbXNBcnJheTJPYmplY3QocGF0aCwgYXJncyk7XG4gIH1cblxuICBwYXJhbXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHZhciBpc09wdGlvbmFsID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcCA9IG9wdGlvbmFsW2ldO1xuICAgICAgaWYgKHAuaW5kZXhPZihwYXJhbSkgIT09IC0xKSB7XG4gICAgICAgIGlzT3B0aW9uYWwgPSB0cnVlO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBwYXJhbSxcbiAgICAgIHZhbHVlOiBhcmdzW3BhcmFtLnNsaWNlKDEpXSB8fCAnJyxcbiAgICAgIG9wdGlvbmFsOiBpc09wdGlvbmFsLFxuICAgICAgcmVxdWlyZWQ6ICFpc09wdGlvbmFsXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHBhcmFtczogcGFyYW1zLFxuICAgIGhhc09wdGlvbmFsUGFyYW1zOiBPUFRJT05BTF9QQVJBTVMudGVzdChwYXRoKSxcbiAgICBtaXNzaW5nT3B0aW9uYWxQYXJhbXM6IHRlc3RQYXJhbWV0ZXIocGFyYW1zLCAnb3B0aW9uYWwnKSxcbiAgICBtaXNzaW5nUmVxdWlyZWRQYXJhbXM6IHRlc3RQYXJhbWV0ZXIocGFyYW1zLCAncmVxdWlyZWQnKSxcbiAgICBtaXNzaW5nUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ25hbWUnKVxuICB9XG59XG5cbi8qKlxuICogUGFyc2UgYSBnaXZlbiB1cmwgYHBhdGhgIGFjY29yZGluZyB0byBpdHMgYGRlZmluaXRpb25gIHRvIGV4dHJhY3QgdGhlIHBhcmFtZXRlcnNcbiAqXG4gKiBAcHVibGljXG4gKlxuICogQHRocm93cyB7RXJyb3J9IFRocm93cyBpZiBgb3B0aW9uc2Agb2JqZWN0IGlzIG1pc3NpbmcgYHBhdGhgIG9yIGBkZWZpbml0aW9uYFxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyBhIGBwYXRoYCBhbmQgZHluYW1pYyBwYXRoIGBkZWZpbml0aW9uYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBDYW4gb3B0aW9ubmFseSB0YWtlIGBvYmplY3Q6IHRydWVgIHRvIGNvbnZlcnQgdGhlIHJlc3VsdCB0byBhbiBvYmplY3QsIGRlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiBAcmV0dXJuIHttaXhlZH0gICAgICAgICAgQXJyYXkgb2YgcGFyYW1ldGVyIHZhbHVlcyBleHRyYWN0ZWQgZnJvbSB0aGUgcGF0aCBvciBrZXkvdmFsdWUgcGFpciBvYmplY3QuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJuIGBudWxsYCBpZiB0aGUgYHBhdGhgIGRvZXMgbm90IG1hdGNoIHRoZSBgZGVmaW5pdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChvcHRpb25zKSB7XG4gIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIHZhciBwYXRoID0gb3B0aW9ucy5wYXRoO1xuICB2YXIgZGVmaW5pdGlvbiA9IG9wdGlvbnMuZGVmaW5pdGlvbjtcbiAgdmFyIG9iamVjdCA9IG9wdGlvbnMub2JqZWN0O1xuXG4gIGlmICghcGF0aCAmJiAhZGVmaW5pdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcigndXJsLWNvbXBvc2VyOiBNaXNzaW5nIHBhdGggYW5kIGRlZmluaXRpb24nKVxuICB9XG5cbiAgdmFyIHJlID0gcm91dGVUb1JlZ2V4KGRlZmluaXRpb24pO1xuXG4gIHZhciBwYXJhbXMgPSByZS5leGVjKHBhdGgpO1xuXG4gIGlmICghcGFyYW1zKSB7IHJldHVybiBudWxsIH1cblxuICBwYXJhbXMgPSBwYXJhbXMuc2xpY2UoMSk7XG5cbiAgdmFyIHJlc3VsdCA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpKSB7XG4gICAgaWYgKGkgPT09IHBhcmFtcy5sZW5ndGggLSAxKSB7IHJldHVybiBwYXJhbSB8fCBudWxsIH1cbiAgICByZXR1cm4gcGFyYW0gPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogbnVsbFxuICB9KTtcblxuICBpZiAob2JqZWN0KSB7XG4gICAgdmFyIHF1ZXJ5ID0gcmVzdWx0LnBvcCgpO1xuICAgIHJlc3VsdCA9IHBhcmFtc0FycmF5Mk9iamVjdChkZWZpbml0aW9uLCByZXN1bHQpO1xuICAgIHJlc3VsdC5xdWVyeSA9IHF1ZXJ5O1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG52YXIgaW5kZXggPSB7XG4gIGJ1aWxkOiBidWlsZCxcbiAgdGVzdDogdGVzdCxcbiAgc3RhdHM6IHN0YXRzLFxuICBwYXJzZTogcGFyc2UsXG4gIHBhcmFtczogcGFyYW1zQXJyYXkyT2JqZWN0LFxuICBwYXRoOiBidWlsZFBhdGgsXG4gIHF1ZXJ5OiBidWlsZFF1ZXJ5LFxuICByZWdleDogcm91dGVUb1JlZ2V4LFxuICBtYXRjaDogZ2V0UGFyYW1zTWF0Y2hcbn07XG5cbnJldHVybiBpbmRleDtcblxufSkpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VybC1jb21wb3Nlci9kaXN0L3VybC1jb21wb3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==