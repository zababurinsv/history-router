!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=7)}([function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"f",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"e",function(){return a}),e.d(n,"g",function(){return c}),e.d(n,"d",function(){return u}),e.d(n,"b",function(){return s});var r=function(t){return"/"===t.charAt(0)?t:"/"+t},o=function(t){return"/"===t.charAt(0)?t.substr(1):t},i=function(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)},a=function(t,n){return i(t,n)?t.substr(n.length):t},c=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},u=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}},s=function(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(t,n,e){"use strict";(function(n){var e=function(){};"production"!==n.env.NODE_ENV&&(e=function(t,n,e){var r=arguments.length;e=new Array(r>2?r-2:0);for(var o=2;o<r;o++)e[o-2]=arguments[o];if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(n.length<10||/^[s\W]*$/.test(n))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+n);if(!t){var i=0,a="Warning: "+n.replace(/%s/g,function(){return e[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(t){}}}),t.exports=e}).call(n,e(4))},function(t,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return u});var r=e(11),o=e(12),i=e(0),a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},c=function(t,n,e,o){var c=void 0;"string"==typeof t?(c=Object(i.d)(t)).state=n:(void 0===(c=a({},t)).pathname&&(c.pathname=""),c.search?"?"!==c.search.charAt(0)&&(c.search="?"+c.search):c.search="",c.hash?"#"!==c.hash.charAt(0)&&(c.hash="#"+c.hash):c.hash="",void 0!==n&&void 0===c.state&&(c.state=n));try{c.pathname=decodeURI(c.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+c.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(c.key=e),o?c.pathname?"/"!==c.pathname.charAt(0)&&(c.pathname=Object(r.a)(c.pathname,o.pathname)):c.pathname=o.pathname:c.pathname||(c.pathname="/"),c},u=function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&Object(o.a)(t.state,n.state)}},function(t,n,e){"use strict";var r=e(1),o=e.n(r);n.a=function(){var t=null,n=[];return{setPrompt:function(n){return o()(null==t,"A history supports only one prompt at a time"),t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,e,r,i){if(null!=t){var a="function"==typeof t?t(n,e):t;"string"==typeof a?"function"==typeof r?r(a,i):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function(t){var e=!0,r=function(){e&&t.apply(void 0,arguments)};return n.push(r),function(){e=!1,n=n.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n.forEach(function(t){return t.apply(void 0,e)})}}}},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):h=-1,s.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var n=s.length;n;){for(u=s,s=[];++h<n;)u&&u[h].run();h=-1,n=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||f||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){"use strict";(function(n){t.exports=function(t,e,r,o,i,a,c,u){if("production"!==n.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,i,a,c,u],h=0;(s=new Error(e.replace(/%s/g,function(){return f[h++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}}).call(n,e(4))},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"c",function(){return a}),e.d(n,"g",function(){return c}),e.d(n,"h",function(){return u}),e.d(n,"f",function(){return s}),e.d(n,"d",function(){return f});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o=function(t,n,e){return t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent("on"+n,e)},i=function(t,n,e){return t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent("on"+n,e)},a=function(t,n){return n(window.confirm(t))},c=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},u=function(){return-1===window.navigator.userAgent.indexOf("Trident")},s=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},f=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,n,e){t.exports=e(8)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(9),o=e(15),i=e.n(o);function a(t,{from:n,to:e},r=null){let o=t=>r=t instanceof Function?t():t;if(t.length){for(let i=0;i<t.length;i++)if(t[i]({to:e,from:n,next:o,response:r}),!r)return!1;return r}return!0}async function c(t){let n=!1;t.history.block(e=>n=function(t,n){let e=!1,r=`${n.pathname}${n.search}${n.hash}`,o={to:n,from:t.history.location};for(let n=0;n<t.routes.length;n++){let c=t.routes[n];if(i.a.test(t.options.hash?{path:`/#/${c.path}`,url:`/#/${r}`}:{path:c.path,url:r}))return(e=a(t.middlewares,o))&&c.middlewares.length&&(e=a(c.middlewares,o,e)),!!e&&(t=>c.callback({location:t,params:i.a.parse({path:r,definition:c.path,object:!0}),response:e}))}}(t,e)),await t.history.listen(t=>n?n(t):null),t.history.replace("/")}class u{constructor(t={}){this.options={hash:!t.hasOwnProperty("hash")||t.hash,history:t.hasOwnProperty("history")?t.history:{}},this.middlewares=new Array,this.routes=new Array,this.history=this.options.hash?Object(r.b)(this.options.history):Object(r.a)(this.options.history),c(this)}when(t,n,e=[]){return this.routes.push({path:t,callback:n,middlewares:e}),this}middleware(t){return this.middlewares.push(t),this}}window.HistoryRouter=u,n.default=u},function(t,n,e){"use strict";var r=e(10);e.d(n,"a",function(){return r.a});var o=e(13);e.d(n,"b",function(){return o.a});e(14),e(2),e(0)},function(t,n,e){"use strict";var r=e(1),o=e.n(r),i=e(5),a=e.n(i),c=e(2),u=e(0),s=e(3),f=e(6),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},d=function(){try{return window.history.state||{}}catch(t){return{}}};n.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Browser history needs a DOM");var n=window.history,e=Object(f.g)(),r=!Object(f.h)(),i=t.forceRefresh,p=void 0!==i&&i,v=t.getUserConfirmation,m=void 0===v?f.c:v,b=t.keyLength,y=void 0===b?6:b,g=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",w=function(t){var n=t||{},e=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return o()(!g||Object(u.c)(a,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+g+'".'),g&&(a=Object(u.e)(a,g)),Object(c.a)(a,r,e)},O=function(){return Math.random().toString(36).substr(2,y)},j=Object(s.a)(),P=function(t){l($,t),$.length=n.length,j.notifyListeners($.location,$.action)},x=function(t){Object(f.d)(t)||A(w(t.state))},E=function(){A(w(d()))},T=!1,A=function(t){T?(T=!1,P()):j.confirmTransitionTo(t,"POP",m,function(n){n?P({action:"POP",location:t}):k(t)})},k=function(t){var n=$.location,e=L.indexOf(n.key);-1===e&&(e=0);var r=L.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(T=!0,U(o))},S=w(d()),L=[S.key],R=function(t){return g+Object(u.b)(t)},U=function(t){n.go(t)},H=0,q=function(t){1===(H+=t)?(Object(f.a)(window,"popstate",x),r&&Object(f.a)(window,"hashchange",E)):0===H&&(Object(f.e)(window,"popstate",x),r&&Object(f.e)(window,"hashchange",E))},C=!1,$={length:n.length,action:"POP",location:S,createHref:R,push:function(t,r){o()(!("object"===(void 0===t?"undefined":h(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=Object(c.a)(t,r,O(),$.location);j.confirmTransitionTo(i,"PUSH",m,function(t){if(t){var r=R(i),a=i.key,c=i.state;if(e)if(n.pushState({key:a,state:c},null,r),p)window.location.href=r;else{var u=L.indexOf($.location.key),s=L.slice(0,-1===u?0:u+1);s.push(i.key),L=s,P({action:"PUSH",location:i})}else o()(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(t,r){o()(!("object"===(void 0===t?"undefined":h(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=Object(c.a)(t,r,O(),$.location);j.confirmTransitionTo(i,"REPLACE",m,function(t){if(t){var r=R(i),a=i.key,c=i.state;if(e)if(n.replaceState({key:a,state:c},null,r),p)window.location.replace(r);else{var u=L.indexOf($.location.key);-1!==u&&(L[u]=i.key),P({action:"REPLACE",location:i})}else o()(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=j.setPrompt(t);return C||(q(1),C=!0),function(){return C&&(C=!1,q(-1)),n()}},listen:function(t){var n=j.appendListener(t);return q(1),function(){q(-1),n()}}};return $}},function(t,n,e){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=t&&t.split("/")||[],i=n&&n.split("/")||[],a=t&&r(t),c=n&&r(n),u=a||c;if(t&&r(t)?i=e:e.length&&(i.pop(),i=i.concat(e)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var h=0,l=i.length;l>=0;l--){var d=i[l];"."===d?o(i,l):".."===d?(o(i,l),h++):h&&(o(i,l),h--)}if(!u)for(;h--;h)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a=function t(n,e){if(n===e)return!0;if(null==n||null==e)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(n,r){return t(n,e[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=n.valueOf(),a=e.valueOf();if(i!==n||a!==e)return t(i,a);var c=Object.keys(n),u=Object.keys(e);return c.length===u.length&&c.every(function(r){return t(n[r],e[r])})}return!1}},function(t,n,e){"use strict";var r=e(1),o=e.n(r),i=e(5),a=e.n(i),c=e(2),u=e(0),s=e(3),f=e(6),h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},l={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+Object(u.f)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:u.f,decodePath:u.a},slash:{encodePath:u.a,decodePath:u.a}},d=function(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)},p=function(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)};n.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Hash history needs a DOM");var n=window.history,e=Object(f.f)(),r=t.getUserConfirmation,i=void 0===r?f.c:r,v=t.hashType,m=void 0===v?"slash":v,b=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",y=l[m],g=y.encodePath,w=y.decodePath,O=function(){var t=w(d());return o()(!b||Object(u.c)(t,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+b+'".'),b&&(t=Object(u.e)(t,b)),Object(c.a)(t)},j=Object(s.a)(),P=function(t){h(I,t),I.length=n.length,j.notifyListeners(I.location,I.action)},x=!1,E=null,T=function(){var t=d(),n=g(t);if(t!==n)p(n);else{var e=O(),r=I.location;if(!x&&Object(c.b)(r,e))return;if(E===Object(u.b)(e))return;E=null,A(e)}},A=function(t){x?(x=!1,P()):j.confirmTransitionTo(t,"POP",i,function(n){n?P({action:"POP",location:t}):k(t)})},k=function(t){var n=I.location,e=U.lastIndexOf(Object(u.b)(n));-1===e&&(e=0);var r=U.lastIndexOf(Object(u.b)(t));-1===r&&(r=0);var o=e-r;o&&(x=!0,H(o))},S=d(),L=g(S);S!==L&&p(L);var R=O(),U=[Object(u.b)(R)],H=function(t){o()(e,"Hash history go(n) causes a full page reload in this browser"),n.go(t)},q=0,C=function(t){1===(q+=t)?Object(f.a)(window,"hashchange",T):0===q&&Object(f.e)(window,"hashchange",T)},$=!1,I={length:n.length,action:"POP",location:R,createHref:function(t){return"#"+g(b+Object(u.b)(t))},push:function(t,n){o()(void 0===n,"Hash history cannot push state; it is ignored");var e=Object(c.a)(t,void 0,void 0,I.location);j.confirmTransitionTo(e,"PUSH",i,function(t){if(t){var n=Object(u.b)(e),r=g(b+n);if(d()!==r){E=n,function(t){window.location.hash=t}(r);var i=U.lastIndexOf(Object(u.b)(I.location)),a=U.slice(0,-1===i?0:i+1);a.push(n),U=a,P({action:"PUSH",location:e})}else o()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),P()}})},replace:function(t,n){o()(void 0===n,"Hash history cannot replace state; it is ignored");var e=Object(c.a)(t,void 0,void 0,I.location);j.confirmTransitionTo(e,"REPLACE",i,function(t){if(t){var n=Object(u.b)(e),r=g(b+n);d()!==r&&(E=n,p(r));var o=U.indexOf(Object(u.b)(I.location));-1!==o&&(U[o]=n),P({action:"REPLACE",location:e})}})},go:H,goBack:function(){return H(-1)},goForward:function(){return H(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=j.setPrompt(t);return $||(C(1),$=!0),function(){return $&&($=!1,C(-1)),n()}},listen:function(t){var n=j.appendListener(t);return C(1),function(){C(-1),n()}}};return I}},function(t,n,e){"use strict";var r=e(1);e.n(r),e(0),e(2),e(3),"function"==typeof Symbol&&Symbol.iterator,Object.assign},function(t,n,e){!function(n,e){t.exports=e()}(0,function(){"use strict";var t=/\/$/,n=/^\//,e=/[()]/g,r=/\((.*?)\)/g,o=/\*\w+/g,i=/(\(\?)?:\w+/,a=/(\(\?)?:\w+/g,c=/[-{}[\]+?.,\\^$|#\s]/g;function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,n){return t=t||"",function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var n in t)if(hasOwnProperty.call(t,n))return!1;return!0}(n=n||[])?function(t){return t.replace(r,"")}(t):f(function(t){return t.replace(e,"")}(t=function(t,n){if(!u(n=n||[])){var e=t.match(a);e&&(n=e.map(function(t){return n[t.substr(1)]}))}u(n)&&n.forEach(function(n){n&&(t=function(t,n){var e=-1!==t.indexOf(":");if(n=encodeURIComponent(n),e)return t.replace(i,n);return t.replace(o,n)}(t,n))});var c=t.match(r);c&&c.forEach(function(n){(function(t){return i.test(t)||o.test(t)})(n)&&(t=t.replace(n,""))});return t}(t,n)))}function f(n){return n.replace(t,"")}function h(t){var e=t.host,r=t.path,o=t.query,i=t.hash;e=f(e);var a=r.split("?"),c=a[0],u=a[1];return r=(r=f(function(t){return t.replace(n,"")}(c)))?"/"+r:"",u=u?u+"&":"",""+e+r+(o=o?"?"+u+o:"")+(i=i?"#"+i:"")}function l(t,n){for(var e=[],r=0;r<t.length;r++){var o=t[r];o[n]&&""===o.value&&e.push(o)}return e}function d(t){return{named:t&&t.match(a)||[],splat:t&&t.match(o)||[]}}function p(t){return t=t.replace(c,"\\$&").replace(r,"(?:$1)?").replace(a,function(t,n){return n?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")}function v(t){return s((t=t||{}).path,t.params)}function m(t){var n=[];for(var e in(t=t||{}).query){var r=t.query[e];n.push(e+"="+encodeURIComponent(r))}return n.length?n.join("&"):""}function b(t,n){var e={},r=d(t),o=0;return r.named.forEach(i),r.splat.forEach(i),e;function i(t){e[t.slice(1)]=n[o++]}}return{build:function(t){(t=t||{}).host=t.host||"";var n=v(t),e=m(t);return h({host:t.host,path:n,query:e,hash:t.hash})},test:function(t){return p((t=t||{}).path).test(t.url)},stats:function(t,n){var e=t.match(r)||[],o=d(t),i=o.named,a=o.splat,c=i.concat(a);return u(n=n||{})&&(n=b(t,n)),{params:c=c.map(function(t){for(var r=!1,o=0;o<e.length;o++)if(-1!==e[o].indexOf(t)){r=!0;break}return{name:t,value:n[t.slice(1)]||"",optional:r,required:!r}}),hasOptionalParams:r.test(t),missingOptionalParams:l(c,"optional"),missingRequiredParams:l(c,"required"),missingParams:l(c,"name")}},parse:function(t){void 0===t&&(t={});var n=t.path,e=t.definition,r=t.object;if(!n&&!e)throw new Error("url-composer: Missing path and definition");var o=p(e).exec(n);if(!o)return null;var i=(o=o.slice(1)).map(function(t,n){return n===o.length-1?t||null:t?decodeURIComponent(t):null});if(r){var a=i.pop();(i=b(e,i)).query=a}return i},params:b,path:v,query:m,regex:p,match:d}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzZkMzdiZDE0NWJlZTU4NTY0OTUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvTG9jYXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9ET01VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlSGFzaEhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlTWVtb3J5SGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsLWNvbXBvc2VyL2Rpc3QvdXJsLWNvbXBvc2VyLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiYWRkTGVhZGluZ1NsYXNoIiwic3RyaXBMZWFkaW5nU2xhc2giLCJoYXNCYXNlbmFtZSIsInN0cmlwQmFzZW5hbWUiLCJzdHJpcFRyYWlsaW5nU2xhc2giLCJwYXJzZVBhdGgiLCJjcmVhdGVQYXRoIiwicGF0aCIsImNoYXJBdCIsInN1YnN0ciIsInByZWZpeCIsIlJlZ0V4cCIsInRlc3QiLCJsZW5ndGgiLCJzbGljZSIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsImluZGV4T2YiLCJzZWFyY2hJbmRleCIsImxvY2F0aW9uIiwicHJvY2VzcyIsIndhcm5pbmciLCJlbnYiLCJOT0RFX0VOViIsImNvbmRpdGlvbiIsImZvcm1hdCIsImFyZ3MiLCJsZW4iLCJhcmd1bWVudHMiLCJBcnJheSIsImtleSIsInVuZGVmaW5lZCIsIkVycm9yIiwiYXJnSW5kZXgiLCJtZXNzYWdlIiwicmVwbGFjZSIsImNvbnNvbGUiLCJlcnJvciIsIngiLCJjcmVhdGVMb2NhdGlvbiIsImxvY2F0aW9uc0FyZUVxdWFsIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Jlc29sdmVfcGF0aG5hbWVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV92YWx1ZV9lcXVhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19QYXRoVXRpbHNfXyIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwic3RhdGUiLCJjdXJyZW50TG9jYXRpb24iLCJkZWNvZGVVUkkiLCJlIiwiVVJJRXJyb3IiLCJhIiwiYiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF93YXJuaW5nX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfd2FybmluZ19fX2RlZmF1bHQiLCJwcm9tcHQiLCJsaXN0ZW5lcnMiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiY29uZmlybVRyYW5zaXRpb25UbyIsImFjdGlvbiIsImdldFVzZXJDb25maXJtYXRpb24iLCJjYWxsYmFjayIsInJlc3VsdCIsImFwcGVuZExpc3RlbmVyIiwiZm4iLCJpc0FjdGl2ZSIsImxpc3RlbmVyIiwiYXBwbHkiLCJwdXNoIiwiZmlsdGVyIiwiaXRlbSIsIm5vdGlmeUxpc3RlbmVycyIsIl9sZW4iLCJfa2V5IiwiZm9yRWFjaCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwidGhpcyIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJmIiwiZnJhbWVzVG9Qb3AiLCJjYW5Vc2VET00iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldENvbmZpcm1hdGlvbiIsInN1cHBvcnRzSGlzdG9yeSIsInN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJub2RlIiwiZXZlbnQiLCJhdHRhY2hFdmVudCIsImRldGFjaEV2ZW50IiwiY29uZmlybSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaGlzdG9yeSIsInZhbHVlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfX19kZWZhdWx0IiwibWlkZGxld2FyZSIsIm1pZGRsZXdhcmVzIiwiZnJvbSIsInRvIiwicmVzcG9uc2UiLCJuZXh0IiwiZGF0YSIsIkZ1bmN0aW9uIiwiYXN5bmMiLCJpbml0Iiwicm91dGVyIiwiYmxvY2siLCJ3aGVyZSIsInJvdXRlcyIsInJvdXRlIiwib3B0aW9ucyIsInVybCIsInBhcmFtcyIsInBhcnNlIiwiZGVmaW5pdGlvbiIsImFzc2VydCIsImxpc3RlbiIsIkhpc3RvcnlSb3V0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZUJyb3dzZXJIaXN0b3J5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NyZWF0ZUhhc2hIaXN0b3J5X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfaW52YXJpYW50X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfaW52YXJpYW50X19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fTG9jYXRpb25VdGlsc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19QYXRoVXRpbHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fRE9NVXRpbHNfXyIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiZ2V0SGlzdG9yeVN0YXRlIiwicHJvcHMiLCJnbG9iYWxIaXN0b3J5IiwiY2FuVXNlSGlzdG9yeSIsIm5lZWRzSGFzaENoYW5nZUxpc3RlbmVyIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsIl9wcm9wcyRrZXlMZW5ndGgiLCJrZXlMZW5ndGgiLCJiYXNlbmFtZSIsImdldERPTUxvY2F0aW9uIiwiaGlzdG9yeVN0YXRlIiwiX3JlZiIsIl93aW5kb3ckbG9jYXRpb24iLCJjcmVhdGVLZXkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJ0cmFuc2l0aW9uTWFuYWdlciIsInNldFN0YXRlIiwibmV4dFN0YXRlIiwiaGFuZGxlUG9wU3RhdGUiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwib2siLCJyZXZlcnRQb3AiLCJmcm9tTG9jYXRpb24iLCJ0b0xvY2F0aW9uIiwidG9JbmRleCIsImFsbEtleXMiLCJmcm9tSW5kZXgiLCJkZWx0YSIsImdvIiwiaW5pdGlhbExvY2F0aW9uIiwiY3JlYXRlSHJlZiIsImxpc3RlbmVyQ291bnQiLCJjaGVja0RPTUxpc3RlbmVycyIsImlzQmxvY2tlZCIsImhyZWYiLCJwdXNoU3RhdGUiLCJwcmV2SW5kZXgiLCJuZXh0S2V5cyIsInJlcGxhY2VTdGF0ZSIsImdvQmFjayIsImdvRm9yd2FyZCIsInVuYmxvY2siLCJ1bmxpc3RlbiIsImlzQWJzb2x1dGUiLCJzcGxpY2VPbmUiLCJsaXN0IiwiaW5kZXgiLCJrIiwicG9wIiwidG9QYXJ0cyIsInNwbGl0IiwiZnJvbVBhcnRzIiwiaXNUb0FicyIsImlzRnJvbUFicyIsIm11c3RFbmRBYnMiLCJoYXNUcmFpbGluZ1NsYXNoIiwibGFzdCIsInVwIiwicGFydCIsInVuc2hpZnQiLCJqb2luIiwidmFsdWVFcXVhbCIsImlzQXJyYXkiLCJldmVyeSIsImFUeXBlIiwiYVZhbHVlIiwidmFsdWVPZiIsImJWYWx1ZSIsImFLZXlzIiwia2V5cyIsImJLZXlzIiwiSGFzaFBhdGhDb2RlcnMiLCJoYXNoYmFuZyIsImVuY29kZVBhdGgiLCJkZWNvZGVQYXRoIiwibm9zbGFzaCIsInNsYXNoIiwiZ2V0SGFzaFBhdGgiLCJzdWJzdHJpbmciLCJyZXBsYWNlSGFzaFBhdGgiLCJjYW5Hb1dpdGhvdXRSZWxvYWQiLCJfcHJvcHMkaGFzaFR5cGUiLCJoYXNoVHlwZSIsIl9IYXNoUGF0aENvZGVycyRoYXNoVCIsImlnbm9yZVBhdGgiLCJlbmNvZGVkUGF0aCIsInByZXZMb2NhdGlvbiIsImFsbFBhdGhzIiwibGFzdEluZGV4T2YiLCJwdXNoSGFzaFBhdGgiLCJuZXh0UGF0aHMiLCJnbG9iYWwiLCJmYWN0b3J5IiwiVFJBSUxJTkdfU0xBU0giLCJMRUFESU5HX1NMQVNIIiwiUEFSRU5USEVTRVMiLCJPUFRJT05BTF9QQVJBTVMiLCJTUExBVF9QQVJBTVMiLCJOQU1FRF9QQVJBTSIsIk5BTUVEX1BBUkFNUyIsIkVTQ0FQRSIsImNvbXBvc2VQYXRoIiwiaXNFbXB0eSIsInJlbW92ZU9wdGlvbmFsUGFyYW1zIiwicmVtb3ZlVHJhaWxpbmdTbGFzaCIsInJlbW92ZVBhcmVudGhlc2VzIiwicGFyYW1OYW1lcyIsIm1hdGNoIiwibWFwIiwiYXJnIiwiaGFzTmFtZWRQYXJhbSIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2VBcmciLCJtYXRjaGVzIiwicGFyYW0iLCJpc05hbWVkT3JTcGxhdFBhcmFtIiwicmVwbGFjZUFyZ3MiLCJzbWFydENvbmNhdCIsInJlZiIsImhvc3QiLCJxdWVyeSIsInJlZiQxIiwicGF0aFBhcnQiLCJxdWVyeVBhcnQiLCJyZW1vdmVMZWFkaW5nU2xhc2giLCJ0ZXN0UGFyYW1ldGVyIiwiZmllbGQiLCJnZXRQYXJhbXNNYXRjaCIsIm5hbWVkIiwic3BsYXQiLCJyb3V0ZVRvUmVnZXgiLCJvcHRpb25hbCIsImJ1aWxkUGF0aCIsImJ1aWxkUXVlcnkiLCJwYXJhbXNBcnJheTJPYmplY3QiLCJjb21wb3NlIiwiYnVpbGQiLCJzdGF0cyIsImlzT3B0aW9uYWwiLCJyZXF1aXJlZCIsImhhc09wdGlvbmFsUGFyYW1zIiwibWlzc2luZ09wdGlvbmFsUGFyYW1zIiwibWlzc2luZ1JlcXVpcmVkUGFyYW1zIiwibWlzc2luZ1BhcmFtcyIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZWdleCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBaEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBaUIsV0FDQSxXQUEyQixPQUFBakIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVEsRUFBQUMs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RUFDQUMsVUFBQUQsS0FNQUUsa0JBQUE1QyxFQUFBcFIsS0FBQUwsR0FDQXNVLHNCQUFBaEIsRUFBQXZKLEVBQUEsWUFDQXdLLHNCQUFBakIsRUFBQXZKLEVBQUEsWUFDQXlLLGNBQUFsQixFQUFBdkosRUFBQSxVQXFEQUMsTUFyQ0EsU0FBQUgsUUFDQSxJQUFBQSxVQUVBLElBQUE3SixFQUFBNkosRUFBQTdKLEtBQ0FpSyxFQUFBSixFQUFBSSxXQUNBL0ssRUFBQTJLLEVBQUEzSyxPQUVBLElBQUFjLElBQUFpSyxFQUNBLFVBQUF0SSxNQUFBLDZDQUdBLElBRUFvSSxFQUZBNEosRUFBQTFKLEdBRUF3SyxLQUFBelUsR0FFQSxJQUFBK0osRUFBZ0IsWUFJaEIsSUFBQW5HLEdBRkFtRyxJQUFBeEosTUFBQSxJQUVBOFIsSUFBQSxTQUFBTSxFQUFBMVUsR0FDQSxPQUFBQSxJQUFBOEwsRUFBQXpKLE9BQUEsRUFBa0NxUyxHQUFBLEtBQ2xDQSxFQUFBK0IsbUJBQUEvQixHQUFBLE9BR0EsR0FBQXpULEVBQUEsQ0FDQSxJQUFBK1QsRUFBQXJQLEVBQUE2SyxPQUNBN0ssRUFBQW1RLEVBQUE5SixFQUFBckcsSUFDQXFQLFFBR0EsT0FBQXJQLEdBUUFtRyxPQUFBZ0ssRUFDQS9ULEtBQUE2VCxFQUNBWixNQUFBYSxFQUNBYSxNQUFBaEIsRUFDQXZCLE1BQUFvQiIsImZpbGUiOiJkaXN0L2hpc3Rvcnktcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGM2ZDM3YmQxNDViZWU1ODU2NDk1IiwiZXhwb3J0IHZhciBhZGRMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59O1xuXG5leHBvcnQgdmFyIGhhc0Jhc2VuYW1lID0gZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn07XG5cbmV4cG9ydCB2YXIgc3RyaXBCYXNlbmFtZSA9IGZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBwYXJzZVBhdGggPSBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBwYXRoIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgY3JlYXRlUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuXG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvUGF0aFV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5cbmV4cG9ydCB2YXIgY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxuZXhwb3J0IHZhciBsb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiB2YWx1ZUVxdWFsKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL0xvY2F0aW9uVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5cbnZhciBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICB2YXIgc2V0UHJvbXB0ID0gZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICB3YXJuaW5nKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKTtcblxuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjb25maXJtVHJhbnNpdGlvblRvID0gZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xuXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgdmFyIGFwcGVuZExpc3RlbmVyID0gZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgdmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbmV4cG9ydCB2YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxuZXhwb3J0IHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG5leHBvcnQgdmFyIGdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5leHBvcnQgdmFyIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG5leHBvcnQgdmFyIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQgPSBmdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ3JpT1MnKSA9PT0gLTE7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvRE9NVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZUJyb3dzZXJIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XHJcbmltcG9ydCB1cmwgZnJvbSAndXJsLWNvbXBvc2VyJztcclxuXHJcbi8qKlxyXG4gKiBSdW4gbWlkZGxld2FyZXNcclxuICogXHJcbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIFxyXG4gKi9cclxuZnVuY3Rpb24gbWlkZGxld2FyZShtaWRkbGV3YXJlcywgeyBmcm9tLCB0byB9LCByZXNwb25zZSA9IG51bGwpIHtcclxuXHRsZXQgbmV4dCA9IChkYXRhKSA9PiByZXNwb25zZSA9IGRhdGEgaW5zdGFuY2VvZiBGdW5jdGlvbj8gZGF0YSgpOiBkYXRhO1xyXG5cdC8qKiBhc3NlcnQgTWlkZGxld2FyZSAqL1xyXG5cdGlmKG1pZGRsZXdhcmVzLmxlbmd0aCkge1xyXG5cdFx0Zm9yKGxldCBpPTA7IGk8bWlkZGxld2FyZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bWlkZGxld2FyZXNbaV0oeyB0bywgZnJvbSwgbmV4dCwgcmVzcG9uc2UgfSk7XHJcblx0XHRcdGlmKCFyZXNwb25zZSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0LyoqIFBhc3NlZCBhbGwgbWlkZGxld2FyZXMgKi9cclxuXHRcdHJldHVybiByZXNwb25zZTtcclxuXHR9XHJcblx0LyoqIE1pZGxld2FyZXMgYXJlIGVtcHR5ICovXHJcblx0ZWxzZSByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFzc2VydFxyXG4gKiBcclxuICogQHBhcmFtIHtIaXN0b3J5Um91dGVyfSByb3V0ZXJcclxuICogQHBhcmFtIHtMb2NhdGlvbn0gdG9cclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydChyb3V0ZXIsIHRvKSB7XHJcblx0LyoqIEluaXRpYWxpemUgKi9cclxuXHRsZXQgcmVzcG9uc2UgPSBmYWxzZSxcclxuXHRcdFx0cGF0aCA9IGAke3RvLnBhdGhuYW1lfSR7dG8uc2VhcmNofSR7dG8uaGFzaH1gLFxyXG5cdFx0XHR3aGVyZSA9IHsgXHJcblx0XHRcdFx0dG8sIFxyXG5cdFx0XHRcdGZyb206IHJvdXRlci5oaXN0b3J5LmxvY2F0aW9uIFxyXG5cdFx0XHR9O1xyXG5cdDtcclxuXHRmb3IobGV0IGk9MDsgaTxyb3V0ZXIucm91dGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHQvKiogQ3VycmVudCBSb3V0ZSAqL1xyXG5cdFx0bGV0IHJvdXRlID0gcm91dGVyLnJvdXRlc1tpXSxcclxuXHRcdCBcdFx0aXMgPSB1cmwudGVzdChyb3V0ZXIub3B0aW9ucy5oYXNoIFxyXG5cdFx0XHRcdFx0PyB7IHBhdGg6IGAvIy8ke3JvdXRlLnBhdGh9YCwgdXJsOiBgLyMvJHtwYXRofWAgfVxyXG5cdFx0XHRcdFx0OiB7IHBhdGg6IHJvdXRlLnBhdGgsIHVybDogcGF0aCB9XHJcblx0XHRcdFx0KVxyXG5cdFx0O1xyXG5cdFx0aWYoaXMpIHtcclxuXHRcdFx0LyoqIEdsb2JhbCBtaWRkbGV3YXJlcyAqL1xyXG5cdFx0XHRpZihyZXNwb25zZSA9IG1pZGRsZXdhcmUocm91dGVyLm1pZGRsZXdhcmVzLCB3aGVyZSkpIHtcclxuXHRcdFx0XHQvKiogUm91dGUgbWlkZGxld2FyZXMgKi9cclxuXHRcdFx0XHRpZihyb3V0ZS5taWRkbGV3YXJlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHJlc3BvbnNlID0gbWlkZGxld2FyZShyb3V0ZS5taWRkbGV3YXJlcywgd2hlcmUsIHJlc3BvbnNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlXHJcblx0XHRcdFx0PyAobG9jYXRpb24pID0+IHJvdXRlLmNhbGxiYWNrKHtcclxuXHRcdFx0XHRcdFx0bG9jYXRpb24sIFxyXG5cdFx0XHRcdFx0XHRwYXJhbXM6IHVybC5wYXJzZSh7IHBhdGgsIGRlZmluaXRpb246IHJvdXRlLnBhdGgsIG9iamVjdDogdHJ1ZSB9KSwgXHJcblx0XHRcdFx0XHRcdHJlc3BvbnNlIFxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQ6IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBoaXN0b3J5IGV2ZW50IGhhbmRsZXJzXHJcbiAqIFxyXG4gKiBAcGFyYW0ge0hpc3RvcnlSb3V0ZXJ9IHJvdXRlciBcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQocm91dGVyKSB7XHJcblx0bGV0IHJlc3BvbnNlID0gZmFsc2U7XHJcblx0LyoqIEJsb2NraW5nICovXHJcblx0cm91dGVyLmhpc3RvcnkuYmxvY2soKGxvY2F0aW9uKSA9PiByZXNwb25zZSA9IGFzc2VydChyb3V0ZXIsIGxvY2F0aW9uKSk7XHJcblx0LyoqIExpc3RlbmluZyAqL1xyXG5cdGF3YWl0IHJvdXRlci5oaXN0b3J5Lmxpc3RlbigobG9jYXRpb24pID0+IHJlc3BvbnNlPyByZXNwb25zZShsb2NhdGlvbik6IG51bGwpXHJcblx0LyoqIGluaXQ6ICd3aGVuKCcvJyAuLi4pJyAqL1xyXG5cdHJvdXRlci5oaXN0b3J5LnJlcGxhY2UoJy8nKTtcclxufVxyXG5cclxuY2xhc3MgSGlzdG9yeVJvdXRlciB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBSb3V0ZXIgSW5zdGFuY2VcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBcclxuXHQgKi9cclxuXHQgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcblxyXG5cdFx0LyoqIERlZmF1bHQgKi9cclxuXHRcdHRoaXMub3B0aW9ucyA9IHtcclxuXHRcdFx0aGFzaDogb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaGFzaCcpXHJcblx0XHRcdFx0PyBvcHRpb25zLmhhc2hcclxuXHRcdFx0XHQ6IHRydWUsXHJcblx0XHRcdGhpc3Rvcnk6IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2hpc3RvcnknKVxyXG5cdFx0XHRcdD8gb3B0aW9ucy5oaXN0b3J5XHJcblx0XHRcdFx0OiB7fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKiogR2xvYmFsIG1pZGRsZXdhcmVzICovXHJcblx0XHR0aGlzLm1pZGRsZXdhcmVzID0gbmV3IEFycmF5KCk7IFxyXG5cclxuXHRcdC8qKiBSZWdpc3RlcmVkIHJvdXRlcyAqL1xyXG5cdFx0dGhpcy5yb3V0ZXMgPSBuZXcgQXJyYXkoKTsgXHJcblxyXG5cdFx0LyoqIEhpc3RvcnkgKi9cclxuXHRcdHRoaXMuaGlzdG9yeSA9IHRoaXMub3B0aW9ucy5oYXNoXHJcblx0XHRcdD8gY3JlYXRlSGFzaEhpc3RvcnkodGhpcy5vcHRpb25zLmhpc3RvcnkpXHJcblx0XHRcdDogY3JlYXRlQnJvd3Nlckhpc3RvcnkodGhpcy5vcHRpb25zLmhpc3RvcnkpXHJcblx0XHQ7XHJcblxyXG5cdFx0LyoqIFJlZ2lzdGVyIGhpc3RvcnkgZXZlbnQgaGFuZGxlcnMgKi9cclxuXHRcdGluaXQodGhpcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZWdpc3RlciBSb3V0ZVxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIFxyXG5cdCAqL1xyXG5cdHdoZW4ocGF0aCwgY2FsbGJhY2ssIG1pZGRsZXdhcmVzID0gW10pIHtcclxuXHRcdC8qKiBSb3V0ZSAqL1xyXG5cdFx0dGhpcy5yb3V0ZXMucHVzaCh7IHBhdGgsIGNhbGxiYWNrLCBtaWRkbGV3YXJlcyB9KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVnaXN0ZXIgZ2xvYmFsIG1pZGRsZXdhcmVcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBcclxuXHQgKi9cclxuXHRtaWRkbGV3YXJlKGNhbGxiYWNrKSB7XHJcblx0XHQvKiogR2xvYmFsIG1pZGRsZXdhcmUgKi9cclxuXHRcdHRoaXMubWlkZGxld2FyZXMucHVzaChjYWxsYmFjayk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn1cclxuXHJcbi8qKiBPbmx5IGZvciBDRE4sIG9yIEJvd2VyICovXHJcbndpbmRvdy5IaXN0b3J5Um91dGVyID0gSGlzdG9yeVJvdXRlcjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhpc3RvcnlSb3V0ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IGZyb20gJy4vY3JlYXRlQnJvd3Nlckhpc3RvcnknO1xuZXhwb3J0IHsgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IGFzIGNyZWF0ZUJyb3dzZXJIaXN0b3J5IH07XG5pbXBvcnQgX2NyZWF0ZUhhc2hIaXN0b3J5IGZyb20gJy4vY3JlYXRlSGFzaEhpc3RvcnknO1xuZXhwb3J0IHsgX2NyZWF0ZUhhc2hIaXN0b3J5IGFzIGNyZWF0ZUhhc2hIaXN0b3J5IH07XG5pbXBvcnQgX2NyZWF0ZU1lbW9yeUhpc3RvcnkgZnJvbSAnLi9jcmVhdGVNZW1vcnlIaXN0b3J5JztcbmV4cG9ydCB7IF9jcmVhdGVNZW1vcnlIaXN0b3J5IGFzIGNyZWF0ZU1lbW9yeUhpc3RvcnkgfTtcblxuZXhwb3J0IHsgY3JlYXRlTG9jYXRpb24sIGxvY2F0aW9uc0FyZUVxdWFsIH0gZnJvbSAnLi9Mb2NhdGlvblV0aWxzJztcbmV4cG9ydCB7IHBhcnNlUGF0aCwgY3JlYXRlUGF0aCB9IGZyb20gJy4vUGF0aFV0aWxzJztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbiB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5pbXBvcnQgeyBhZGRMZWFkaW5nU2xhc2gsIHN0cmlwVHJhaWxpbmdTbGFzaCwgaGFzQmFzZW5hbWUsIHN0cmlwQmFzZW5hbWUsIGNyZWF0ZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5pbXBvcnQgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgZnJvbSAnLi9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBjYW5Vc2VET00sIGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIsIGdldENvbmZpcm1hdGlvbiwgc3VwcG9ydHNIaXN0b3J5LCBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlLCBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50IH0gZnJvbSAnLi9ET01VdGlscyc7XG5cbnZhciBQb3BTdGF0ZUV2ZW50ID0gJ3BvcHN0YXRlJztcbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbnZhciBnZXRIaXN0b3J5U3RhdGUgPSBmdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cbnZhciBjcmVhdGVCcm93c2VySGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gIGludmFyaWFudChjYW5Vc2VET00sICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKTtcblxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpO1xuXG4gIHZhciBfcHJvcHMkZm9yY2VSZWZyZXNoID0gcHJvcHMuZm9yY2VSZWZyZXNoLFxuICAgICAgZm9yY2VSZWZyZXNoID0gX3Byb3BzJGZvcmNlUmVmcmVzaCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcHJvcHMkZm9yY2VSZWZyZXNoLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHVuZGVmaW5lZCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBnZXRET01Mb2NhdGlvbiA9IGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHZhciBfcmVmID0gaGlzdG9yeVN0YXRlIHx8IHt9LFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gICAgdmFyIF93aW5kb3ckbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoID0gX3dpbmRvdyRsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc2ggPSBfd2luZG93JGxvY2F0aW9uLmhhc2g7XG5cblxuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuXG4gICAgd2FybmluZyghYmFzZW5hbWUgfHwgaGFzQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpLCAnWW91IGFyZSBhdHRlbXB0aW5nIHRvIHVzZSBhIGJhc2VuYW1lIG9uIGEgcGFnZSB3aG9zZSBVUkwgcGF0aCBkb2VzIG5vdCBiZWdpbiAnICsgJ3dpdGggdGhlIGJhc2VuYW1lLiBFeHBlY3RlZCBwYXRoIFwiJyArIHBhdGggKyAnXCIgdG8gYmVnaW4gd2l0aCBcIicgKyBiYXNlbmFtZSArICdcIi4nKTtcblxuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBoYW5kbGVQb3BTdGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkpIHJldHVybjtcblxuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gIH07XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcblxuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIHZhciBjaGVja0RPTUxpc3RlbmVycyA9IGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfVxuXG4gIGxpc3QucG9wKCk7XG59XG5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gdmFsdWVFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChpdGVtLCBiW2luZGV4XSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYVR5cGUgPSB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSk7XG4gIHZhciBiVHlwZSA9IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihiKTtcblxuICBpZiAoYVR5cGUgIT09IGJUeXBlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSBhLnZhbHVlT2YoKTtcbiAgICB2YXIgYlZhbHVlID0gYi52YWx1ZU9mKCk7XG5cbiAgICBpZiAoYVZhbHVlICE9PSBhIHx8IGJWYWx1ZSAhPT0gYikgcmV0dXJuIHZhbHVlRXF1YWwoYVZhbHVlLCBiVmFsdWUpO1xuXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG5cbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbHVlRXF1YWw7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYXRpb24sIGxvY2F0aW9uc0FyZUVxdWFsIH0gZnJvbSAnLi9Mb2NhdGlvblV0aWxzJztcbmltcG9ydCB7IGFkZExlYWRpbmdTbGFzaCwgc3RyaXBMZWFkaW5nU2xhc2gsIHN0cmlwVHJhaWxpbmdTbGFzaCwgaGFzQmFzZW5hbWUsIHN0cmlwQmFzZW5hbWUsIGNyZWF0ZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5pbXBvcnQgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgZnJvbSAnLi9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBjYW5Vc2VET00sIGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIsIGdldENvbmZpcm1hdGlvbiwgc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggfSBmcm9tICcuL0RPTVV0aWxzJztcblxudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxudmFyIEhhc2hQYXRoQ29kZXJzID0ge1xuICBoYXNoYmFuZzoge1xuICAgIGVuY29kZVBhdGg6IGZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoIDogJyEvJyArIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpO1xuICAgIH0sXG4gICAgZGVjb2RlUGF0aDogZnVuY3Rpb24gZGVjb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbiAgICB9XG4gIH0sXG4gIG5vc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBzdHJpcExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfSxcbiAgc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH1cbn07XG5cbnZhciBnZXRIYXNoUGF0aCA9IGZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIHZhciBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyAnJyA6IGhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xufTtcblxudmFyIHB1c2hIYXNoUGF0aCA9IGZ1bmN0aW9uIHB1c2hIYXNoUGF0aChwYXRoKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGg7XG59O1xuXG52YXIgcmVwbGFjZUhhc2hQYXRoID0gZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKHBhdGgpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMnKTtcblxuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSgwLCBoYXNoSW5kZXggPj0gMCA/IGhhc2hJbmRleCA6IDApICsgJyMnICsgcGF0aCk7XG59O1xuXG52YXIgY3JlYXRlSGFzaEhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBpbnZhcmlhbnQoY2FuVXNlRE9NLCAnSGFzaCBoaXN0b3J5IG5lZWRzIGEgRE9NJyk7XG5cbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhbkdvV2l0aG91dFJlbG9hZCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG5cbiAgdmFyIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB1bmRlZmluZWQgPyBnZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMkaGFzaFR5cGUgPSBwcm9wcy5oYXNoVHlwZSxcbiAgICAgIGhhc2hUeXBlID0gX3Byb3BzJGhhc2hUeXBlID09PSB1bmRlZmluZWQgPyAnc2xhc2gnIDogX3Byb3BzJGhhc2hUeXBlO1xuXG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIF9IYXNoUGF0aENvZGVycyRoYXNoVCA9IEhhc2hQYXRoQ29kZXJzW2hhc2hUeXBlXSxcbiAgICAgIGVuY29kZVBhdGggPSBfSGFzaFBhdGhDb2RlcnMkaGFzaFQuZW5jb2RlUGF0aCxcbiAgICAgIGRlY29kZVBhdGggPSBfSGFzaFBhdGhDb2RlcnMkaGFzaFQuZGVjb2RlUGF0aDtcblxuXG4gIHZhciBnZXRET01Mb2NhdGlvbiA9IGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKCkge1xuICAgIHZhciBwYXRoID0gZGVjb2RlUGF0aChnZXRIYXNoUGF0aCgpKTtcblxuICAgIHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJyk7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gIHZhciBpZ25vcmVQYXRoID0gbnVsbDtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBhbHdheXMgaGF2ZSBhIHByb3Blcmx5LWVuY29kZWQgaGFzaC5cbiAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gICAgICB2YXIgcHJldkxvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgICAgaWYgKCFmb3JjZU5leHRQb3AgJiYgbG9jYXRpb25zQXJlRXF1YWwocHJldkxvY2F0aW9uLCBsb2NhdGlvbikpIHJldHVybjsgLy8gQSBoYXNoY2hhbmdlIGRvZXNuJ3QgYWx3YXlzID09IGxvY2F0aW9uIGNoYW5nZS5cblxuICAgICAgaWYgKGlnbm9yZVBhdGggPT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSByZXR1cm47IC8vIElnbm9yZSB0aGlzIGNoYW5nZTsgd2UgYWxyZWFkeSBzZXRTdGF0ZSBpbiBwdXNoL3JlcGxhY2UuXG5cbiAgICAgIGlnbm9yZVBhdGggPSBudWxsO1xuXG4gICAgICBoYW5kbGVQb3AobG9jYXRpb24pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wID0gZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG5cbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJldmVydFBvcCA9IGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIHBhdGhzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIHBhdGhzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgodG9Mb2NhdGlvbikpO1xuXG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcblxuICAgIHZhciBmcm9tSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGZyb21Mb2NhdGlvbikpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICAvLyBFbnN1cmUgdGhlIGhhc2ggaXMgZW5jb2RlZCBwcm9wZXJseSBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZS5cbiAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuXG4gIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgdmFyIGFsbFBhdGhzID0gW2NyZWF0ZVBhdGgoaW5pdGlhbExvY2F0aW9uKV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiAnIycgKyBlbmNvZGVQYXRoKGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbikpO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFBVU0gsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHB1c2hIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG5cbiAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgICB2YXIgbmV4dFBhdGhzID0gYWxsUGF0aHMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcblxuICAgICAgICBuZXh0UGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgYWxsUGF0aHMgPSBuZXh0UGF0aHM7XG5cbiAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoOyBhIG5ldyBlbnRyeSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgaGlzdG9yeSBzdGFjaycpO1xuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUkVQTEFDRSwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG5cbiAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxQYXRoc1twcmV2SW5kZXhdID0gcGF0aDtcblxuICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB3YXJuaW5nKGNhbkdvV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpO1xuXG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIHZhciBjaGVja0RPTUxpc3RlbmVycyA9IGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlSGFzaEhpc3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9jcmVhdGVIYXNoSGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCB7IGNyZWF0ZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbiB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5pbXBvcnQgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgZnJvbSAnLi9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcic7XG5cbnZhciBjbGFtcCA9IGZ1bmN0aW9uIGNsYW1wKG4sIGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIGxvd2VyQm91bmQpLCB1cHBlckJvdW5kKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuXG4gKi9cbnZhciBjcmVhdGVNZW1vcnlIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGdldFVzZXJDb25maXJtYXRpb24gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgX3Byb3BzJGluaXRpYWxFbnRyaWVzID0gcHJvcHMuaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsRW50cmllcyA9IF9wcm9wcyRpbml0aWFsRW50cmllcyA9PT0gdW5kZWZpbmVkID8gWycvJ10gOiBfcHJvcHMkaW5pdGlhbEVudHJpZXMsXG4gICAgICBfcHJvcHMkaW5pdGlhbEluZGV4ID0gcHJvcHMuaW5pdGlhbEluZGV4LFxuICAgICAgaW5pdGlhbEluZGV4ID0gX3Byb3BzJGluaXRpYWxJbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9wcm9wcyRpbml0aWFsSW5kZXgsXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciBpbmRleCA9IGNsYW1wKGluaXRpYWxJbmRleCwgMCwgaW5pdGlhbEVudHJpZXMubGVuZ3RoIC0gMSk7XG4gIHZhciBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHJldHVybiB0eXBlb2YgZW50cnkgPT09ICdzdHJpbmcnID8gY3JlYXRlTG9jYXRpb24oZW50cnksIHVuZGVmaW5lZCwgY3JlYXRlS2V5KCkpIDogY3JlYXRlTG9jYXRpb24oZW50cnksIHVuZGVmaW5lZCwgZW50cnkua2V5IHx8IGNyZWF0ZUtleSgpKTtcbiAgfSk7XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gY3JlYXRlUGF0aDtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgcHJldkluZGV4ID0gaGlzdG9yeS5pbmRleDtcbiAgICAgIHZhciBuZXh0SW5kZXggPSBwcmV2SW5kZXggKyAxO1xuXG4gICAgICB2YXIgbmV4dEVudHJpZXMgPSBoaXN0b3J5LmVudHJpZXMuc2xpY2UoMCk7XG4gICAgICBpZiAobmV4dEVudHJpZXMubGVuZ3RoID4gbmV4dEluZGV4KSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnNwbGljZShuZXh0SW5kZXgsIG5leHRFbnRyaWVzLmxlbmd0aCAtIG5leHRJbmRleCwgbG9jYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dEVudHJpZXMucHVzaChsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgZW50cmllczogbmV4dEVudHJpZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIGhpc3RvcnkuZW50cmllc1toaXN0b3J5LmluZGV4XSA9IGxvY2F0aW9uO1xuXG4gICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBjbGFtcChoaXN0b3J5LmluZGV4ICsgbiwgMCwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aCAtIDEpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgIHZhciBsb2NhdGlvbiA9IGhpc3RvcnkuZW50cmllc1tuZXh0SW5kZXhdO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmIChvaykge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNaW1pYyB0aGUgYmVoYXZpb3Igb2YgRE9NIGhpc3RvcmllcyBieVxuICAgICAgICAvLyBjYXVzaW5nIGEgcmVuZGVyIGFmdGVyIGEgY2FuY2VsbGVkIFBPUC5cbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGNhbkdvID0gZnVuY3Rpb24gY2FuR28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBoaXN0b3J5LmluZGV4ICsgbjtcbiAgICByZXR1cm4gbmV4dEluZGV4ID49IDAgJiYgbmV4dEluZGV4IDwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcbiAgfTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHJldHVybiB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBlbnRyaWVzLmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBlbnRyaWVzW2luZGV4XSxcbiAgICBpbmRleDogaW5kZXgsXG4gICAgZW50cmllczogZW50cmllcyxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY2FuR286IGNhbkdvLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTWVtb3J5SGlzdG9yeTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZU1lbW9yeUhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC51cmxDb21wb3NlciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbW9kdWxlIHVybC1jb21wb3NlclxuICogQGRlc2NyaXB0aW9uIE1vZHVsZSB0byBidWlsZCBkeW5hbWljIFVSTHMgd2l0aG91dCBhIGZ1c3NcbiAqL1xuXG4vL1xuLy8gUGF0aCBhbmFseXNpcyByZWd1bGFyIGV4cHJlc3Npb25zXG4vL1xuXG4vKipcbiAqIFRyYWlsaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIFRSQUlMSU5HX1NMQVNIID0gL1xcLyQvO1xuLyoqXG4gKiBMZWFkaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIExFQURJTkdfU0xBU0ggPSAvXlxcLy87XG4vKipcbiAqIFBhcmVudGhlc2VzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQQVJFTlRIRVNFUyA9IC9bKCldL2c7XG4vKipcbiAqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIE9QVElPTkFMX1BBUkFNUyA9IC9cXCgoLio/KVxcKS9nO1xuLyoqXG4gKiBTcGxhdCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBTUExBVF9QQVJBTVMgPSAvXFwqXFx3Ky9nO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXIgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfUEFSQU0gPSAvKFxcKFxcPyk/OlxcdysvO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBOQU1FRF9QQVJBTVMgPSAvKFxcKFxcPyk/OlxcdysvZztcbi8qKlxuICogU29tZSB3aWVyZCBlc2NhcGUgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRVNDQVBFID0gL1ste31bXFxdKz8uLFxcXFxeJHwjXFxzXS9nO1xuXG4vL1xuLy8gSGVscGVyIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBvYmplY3QgaXMgYW4gYXJyYXlcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge21peGVkfSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICBgdHJ1ZWAgaWYgYG9iamAgaXMgYW4gYXJyYXkgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSdcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGdpdmVuIG9iamVjdCBpcyBlbXB0eVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICAgYHRydWVgIGlmIGBvYmpgIGlzIGVtcHR5IGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiBpc0VtcHR5IChvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKG9iai5sZW5ndGggPiAwKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChvYmoubGVuZ3RoID09PSAwKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7IHJldHVybiB0cnVlIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHJldHVybiBmYWxzZSB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG4vL1xuLy8gIyMgUGF0aCBwYXJzaW5nIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBJbmplY3QgYXJndW1lbnRzIGludG8gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvbiBhbmQgY2xlYW4gdW51c2VkIG9wdGlvbmFsIHBhcnRzXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZ3MgT2JqZWN0IG9yIGFycmF5IG9mIGFyZ3VtZW50cyB0byBpbmplY3QuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgSWYgaXQgaXMgYW4gYXJyYXksIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGluIHNlcXVlbnRpYWwgb3JkZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgRm9yIGFuIG9iamVjdCwgdGhlIG9iamVjdCBrZXlzIHdpbGwgYmUgdXNlZCB0byBtYXAgdmFsdWVzIHRvIHRoZSBkeW5hbWljIHBhcnRzIG9mIHRoZSBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBwYXJzZWQgcGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBjb21wb3NlUGF0aCAocGF0aCwgYXJncykge1xuICBwYXRoID0gcGF0aCB8fCAnJztcbiAgYXJncyA9IGFyZ3MgfHwgW107XG5cbiAgaWYgKGlzRW1wdHkoYXJncykpIHtcbiAgICByZXR1cm4gcmVtb3ZlT3B0aW9uYWxQYXJhbXMocGF0aClcbiAgfVxuXG4gIHBhdGggPSByZXBsYWNlQXJncyhwYXRoLCBhcmdzKTtcblxuICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChcbiAgICByZW1vdmVQYXJlbnRoZXNlcyhwYXRoKVxuICApXG59XG5cbi8qKlxuICogUmVwbGFjZSBkeW5hbWljIHBhcnRzIG9mIGEgcGF0aCBieSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge21peGVkfSAgYXJncyBPYmplY3Qgb3IgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGluamVjdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICBJZiBpdCBpcyBhbiBhcnJheSwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW4gc2VxdWVudGlhbCBvcmRlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICBGb3IgYW4gb2JqZWN0LCB0aGUgb2JqZWN0IGtleXMgd2lsbCBiZSB1c2VkIHRvIG1hcCB2YWx1ZXMgdG8gdGhlIGR5bmFtaWMgcGFydHMgb2YgdGhlIHBhdGguXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgUGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiByZXBsYWNlQXJncyAocGF0aCwgYXJncykge1xuICBhcmdzID0gYXJncyB8fCBbXTtcblxuICBpZiAoIWlzQXJyYXkoYXJncykpIHtcbiAgICB2YXIgcGFyYW1OYW1lcyA9IHBhdGgubWF0Y2goTkFNRURfUEFSQU1TKTtcbiAgICBpZiAocGFyYW1OYW1lcykge1xuICAgICAgYXJncyA9IHBhcmFtTmFtZXMubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhcmdzW25hbWUuc3Vic3RyKDEpXTsgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgaWYgKGFyZykgeyBwYXRoID0gcmVwbGFjZUFyZyhwYXRoLCBhcmcpOyB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0Y2hlcyA9IHBhdGgubWF0Y2goT1BUSU9OQUxfUEFSQU1TKTtcblxuICBpZiAobWF0Y2hlcykge1xuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgaWYgKGlzTmFtZWRPclNwbGF0UGFyYW0ocGFydCkpIHtcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShwYXJ0LCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGF0aFxufVxuXG4vKipcbiAqIFJlcGxhY2UgdGhlIGZpcnN0IG1hdGNoaW5nIGR5bmFtaWMgcGFydCBvZiBhIHBhdGggYnkgdGhlIGdpdmVuIGFyZ3VtZW50XG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZyAgVGhlIHZhbHVlIHRvIGluamVjdFxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VBcmcgKHBhdGgsIGFyZykge1xuICB2YXIgaGFzTmFtZWRQYXJhbSA9IHBhdGguaW5kZXhPZignOicpICE9PSAtMTtcbiAgYXJnID0gZW5jb2RlVVJJQ29tcG9uZW50KGFyZyk7XG5cbiAgaWYgKGhhc05hbWVkUGFyYW0pIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKE5BTUVEX1BBUkFNLCBhcmcpXG4gIH1cblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgYXJnKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBuZXh0IGR5bmFtaWMgcGFydCBpbiBhIHBhdGggaXMgYSBuYW1lZCBvciBzcGxhdCBwYXJhbWV0ZXIgZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXJhbSBEeW5hbWljIHBhcnQgb2YgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gICAgICBgdHJ1ZWAgaWYgYHBhcmFtYCBpcyBhIG5hbWVkIG9yIHNwbGF0IHBhcmFtZXRlciBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gaXNOYW1lZE9yU3BsYXRQYXJhbSAocGFyYW0pIHtcbiAgcmV0dXJuIE5BTUVEX1BBUkFNLnRlc3QocGFyYW0pIHx8IFNQTEFUX1BBUkFNUy50ZXN0KHBhcmFtKVxufVxuXG4vKipcbiAqIFN0cmlwIHRoZSB1bmZpbGxlZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGZyb20gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggdG8gbW9kaWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlT3B0aW9uYWxQYXJhbXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRyYWlsaW5nU2xhc2ggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSCwgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUxlYWRpbmdTbGFzaCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKExFQURJTkdfU0xBU0gsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZS9jbGVhbiByZW1haW5pbmcgcGFyZW50aGVzZXMgZnJvbSBhIHBhdGggYWZ0ZXIgaXQgaGFzIGJlZW4gcGFyc2VkXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gbW9kaWZ5L2NsZWFuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUGFyZW50aGVzZXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShQQVJFTlRIRVNFUywgJycpXG59XG5cbi8qKlxuICogU21hcnQgY29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaC4gV2lsbCBhZGQgdGhlIGNvcnJlY3QgZ2x1ZSBjaGFyYWN0ZXIgd2hlbiBuZWVkZWRcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBPYmplY3QgZGVzY3JpYmluZyB0aGUgdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgQ29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaFxuICovXG5mdW5jdGlvbiBzbWFydENvbmNhdCAocmVmKSB7XG4gIHZhciBob3N0ID0gcmVmLmhvc3Q7XG4gIHZhciBwYXRoID0gcmVmLnBhdGg7XG4gIHZhciBxdWVyeSA9IHJlZi5xdWVyeTtcbiAgdmFyIGhhc2ggPSByZWYuaGFzaDtcblxuICAvLyBOb3JtYWxpemUgaG9zdFxuICBob3N0ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChob3N0KTtcblxuICAvLyBTcGxpdCBwYXRoIGluIGNhc2UgcGF0aCBjb250YWlucyBhbiBleGlzdGluZyBxdWVyeVxuICB2YXIgcmVmJDEgPSBwYXRoLnNwbGl0KCc/Jyk7XG4gIHZhciBwYXRoUGFydCA9IHJlZiQxWzBdO1xuICB2YXIgcXVlcnlQYXJ0ID0gcmVmJDFbMV07XG5cbiAgLy8gTm9ybWFsaXplIHBhdGhcbiAgcGF0aCA9IHJlbW92ZVRyYWlsaW5nU2xhc2goXG4gICAgcmVtb3ZlTGVhZGluZ1NsYXNoKHBhdGhQYXJ0KVxuICApO1xuXG4gIC8vIEFkZCBzcGVjaWZpYyBnbHVlIGNoYXJhY3RlcnNcbiAgcGF0aCA9IHBhdGggPyAoXCIvXCIgKyBwYXRoKSA6ICcnO1xuICBxdWVyeVBhcnQgPSBxdWVyeVBhcnQgPyAocXVlcnlQYXJ0ICsgXCImXCIpIDogJyc7XG4gIHF1ZXJ5ID0gcXVlcnkgPyAoXCI/XCIgKyBxdWVyeVBhcnQgKyBxdWVyeSkgOiAnJztcbiAgaGFzaCA9IGhhc2ggPyAoXCIjXCIgKyBoYXNoKSA6ICcnO1xuXG4gIHJldHVybiAoXCJcIiArIGhvc3QgKyBwYXRoICsgcXVlcnkgKyBoYXNoKVxufVxuXG4vKipcbiAqIFRlc3QgdGhlIGV4aXN0ZW5jZSBvZiBjZXJ0YWluIGZpZWxkcyBpbiB0aGUgc3RhdHNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge2FycmF5fSAgcGFyYW1zIExpc3Qgb2YgYW5hbHl6ZWQgcGFyYW1ldGVyc1xuICogQHBhcmFtICB7c3RyaW5nfSBmaWVsZCAgTmFtZSBvZiB0aGUgZmllbGQgdG8gYW5hbHl6ZVxuICogQHJldHVybiB7YXJyYXl9ICAgICAgICAgRmlsdGVyZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gdGVzdFBhcmFtZXRlciAocGFyYW1zLCBmaWVsZCkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcCA9IHBhcmFtc1tpXTtcbiAgICBpZiAocFtmaWVsZF0gJiYgcC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy9cbi8vICMjIFB1YmxpYyBBUEkgZnVuY3Rpb25zXG4vL1xuXG4vKipcbiAqIFJldHJpZXZlIG1hdGNoZXMgZm9yIG5hbWVkIGFuZCBzcGxhdCBwYXJhbXMgZm9yIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAbmFtZSBtYXRjaFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIER5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgT2JqZWN0IHdpdGggYSBgbmFtZWRgIGFuZCBgc3BsYXRgIGFycmF5IGNvbnRhaW5pbmcgdGhlIGV4dHJhY3RlZCBwYXJhbWV0ZXIgbmFtZXNcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1zTWF0Y2ggKHBhdGgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lZDogKHBhdGggJiYgcGF0aC5tYXRjaChOQU1FRF9QQVJBTVMpKSB8fCBbXSxcbiAgICBzcGxhdDogKHBhdGggJiYgcGF0aC5tYXRjaChTUExBVF9QQVJBTVMpKSB8fCBbXVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb24gdG8gYW4gZXhlY3V0YWJsZSByZWd1bGFyIGV4cHJlc3Npb25cbiAqXG4gKiBAbmFtZSByZWdleFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSByb3V0ZSBUaGUgcm91dGUvcGF0aCB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm4ge1JlZ0V4cH0gICAgICAgVGhlIHJlc3VsdGluZyByZWd1bGFyIGV4cHJlc3Npb24gaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcm91dGVUb1JlZ2V4IChyb3V0ZSkge1xuICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoRVNDQVBFLCAnXFxcXCQmJylcbiAgICAucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcoPzokMSk/JylcbiAgICAucmVwbGFjZShOQU1FRF9QQVJBTVMsIGZ1bmN0aW9uIChtYXRjaCwgb3B0aW9uYWwpIHsgcmV0dXJuIG9wdGlvbmFsID8gbWF0Y2ggOiAnKFteLz9dKyknOyB9KVxuICAgIC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgJyhbXj9dKj8pJyk7XG5cbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKVxufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBwYXRoIHBhcnQgb2YgYSBVUkwgdXNpbmcgZHluYW1pYyBwYXRoIGRlZmluaXRpb25zXG4gKlxuICogQG5hbWUgcGF0aFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGBwYXRoYCBhbmQgYHBhcmFtc2Aga2V5cyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgdGhlIHJlc3VsdGluZyBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIFRoZSBidWlsdCBwYXRoXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUGF0aCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICByZXR1cm4gY29tcG9zZVBhdGgob3B0aW9ucy5wYXRoLCBvcHRpb25zLnBhcmFtcylcbn1cblxuLyoqXG4gKiBCdWlsZCB0aGUgcXVlcnkgcGFydCBvZiBhIFVSTFxuICpcbiAqIEBuYW1lIHF1ZXJ5XG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBgcXVlcnlgIGtleS4gVGhlIGBrZXlgIHNob3VsZCBiZSBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFVSTCBxdWVyeSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgRW5jb2RlZCBVUkwgcXVlcnkgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUXVlcnkgKG9wdGlvbnMpIHtcbiAgdmFyIHF1ZXJ5ID0gW107XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnF1ZXJ5KSB7XG4gICAgdmFyIHBhcmFtID0gb3B0aW9ucy5xdWVyeVtrZXldO1xuICAgIHF1ZXJ5LnB1c2goKGtleSArIFwiPVwiICsgKGVuY29kZVVSSUNvbXBvbmVudChwYXJhbSkpKSk7XG4gIH1cblxuICByZXR1cm4gcXVlcnkubGVuZ3RoID8gcXVlcnkuam9pbignJicpIDogJydcbn1cblxuLyoqXG4gKiBUZXN0IGEgVVJMIGFnYWluc3QgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggYHBhdGhgIGFuZCBgdXJsYCBrZXlzLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBgcGF0aGAgaXMgdGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uIGFnYWluc3Qgd2hpY2ggdGhlIGB1cmxgIHdpbGwgYmUgdGVzdGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSAgICAgICAgYHRydWVgIGlmIGB1cmxgIG1hdGNoZXMgdGhlIGBwYXRoYCBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gdGVzdCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcmUgPSByb3V0ZVRvUmVnZXgob3B0aW9ucy5wYXRoKTtcblxuICByZXR1cm4gcmUudGVzdChvcHRpb25zLnVybClcbn1cblxuLyoqXG4gKiBCdWlsZCBhIGNvbXBsZXRlIFVSTFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYGhvc3RgLCBgcGF0aGAsIGBwYXJhbXNgLCBgcXVlcnlgIGFuZCBgaGFzaGAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlcnl0aGluZyBpcyBvcHRpb25hbCwgY2FsbGluZyBgYnVpbGRgIHdpdGhvdXQgYW55IHBhcmFtZXRlcnMgd2lsbCBqdXN0IHJldHVybiBhbiBlbXB0eSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgVGhlIGJ1aWx0IFVSTFxuICovXG5mdW5jdGlvbiBidWlsZCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5ob3N0ID0gb3B0aW9ucy5ob3N0IHx8ICcnO1xuXG4gIHZhciBwYXRoID0gYnVpbGRQYXRoKG9wdGlvbnMpO1xuICB2YXIgcXVlcnkgPSBidWlsZFF1ZXJ5KG9wdGlvbnMpO1xuXG4gIHJldHVybiBzbWFydENvbmNhdCh7IGhvc3Q6IG9wdGlvbnMuaG9zdCwgcGF0aDogcGF0aCwgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBvcHRpb25zLmhhc2ggfSlcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJndW1lbnRzIGFycmF5IGludG8gYW4gb2JqZWN0IHVzaW5nIHRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBuYW1lIHBhcmFtc1xuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7YXJyYXl9ICBhcmdzIEFyZ3VtZW50cyBhcnJheVxuICogQHJldHVybiB7b2JqZWN0fSAgICAgIFRoZSByZXN1bHRpbmcga2V5L3ZhbHVlIHBhaXJzXG4gKi9cbmZ1bmN0aW9uIHBhcmFtc0FycmF5Mk9iamVjdCAocGF0aCwgYXJncykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBwYXJhbXMgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcblxuICB2YXIgaSA9IDA7XG5cbiAgcGFyYW1zLm5hbWVkLmZvckVhY2goY29tcG9zZSk7XG4gIHBhcmFtcy5zcGxhdC5mb3JFYWNoKGNvbXBvc2UpO1xuXG4gIHJldHVybiByZXN1bHRcblxuICAvLyBIZWxwZXJcblxuICBmdW5jdGlvbiBjb21wb3NlIChuYW1lKSB7XG4gICAgcmVzdWx0W25hbWUuc2xpY2UoMSldID0gYXJnc1tpKytdO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc3RhdHMgYWJvdXQgYSBwYXRoXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBEeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7b2JqZWN0fSBhcmdzIE9iamVjdCBvZiBhcmd1bWVudHMgdG8gYW5hbHl6ZSB0aGUgc3RhdGUgb2YgcGF0aCBpZiBpdCB3YXMgaW5qZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVyc1xuICogQHJldHVybiB7b2JqZWN0fSAgICAgIE9iamVjdCBjb250YWluaW5nIGRpZmZlcmVudCBzdGF0cyBhYm91dCB0aGUgcGF0aFxuICovXG5mdW5jdGlvbiBzdGF0cyAocGF0aCwgYXJncykge1xuICB2YXIgb3B0aW9uYWwgPSBwYXRoLm1hdGNoKE9QVElPTkFMX1BBUkFNUykgfHwgW107XG4gIHZhciByZWYgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcbiAgdmFyIG5hbWVkID0gcmVmLm5hbWVkO1xuICB2YXIgc3BsYXQgPSByZWYuc3BsYXQ7XG5cbiAgdmFyIHBhcmFtcyA9IG5hbWVkLmNvbmNhdChzcGxhdCk7XG5cbiAgYXJncyA9IGFyZ3MgfHwge307XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzID0gcGFyYW1zQXJyYXkyT2JqZWN0KHBhdGgsIGFyZ3MpO1xuICB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICB2YXIgaXNPcHRpb25hbCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25hbC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHAgPSBvcHRpb25hbFtpXTtcbiAgICAgIGlmIChwLmluZGV4T2YocGFyYW0pICE9PSAtMSkge1xuICAgICAgICBpc09wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogcGFyYW0sXG4gICAgICB2YWx1ZTogYXJnc1twYXJhbS5zbGljZSgxKV0gfHwgJycsXG4gICAgICBvcHRpb25hbDogaXNPcHRpb25hbCxcbiAgICAgIHJlcXVpcmVkOiAhaXNPcHRpb25hbFxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICBoYXNPcHRpb25hbFBhcmFtczogT1BUSU9OQUxfUEFSQU1TLnRlc3QocGF0aCksXG4gICAgbWlzc2luZ09wdGlvbmFsUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ29wdGlvbmFsJyksXG4gICAgbWlzc2luZ1JlcXVpcmVkUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ3JlcXVpcmVkJyksXG4gICAgbWlzc2luZ1BhcmFtczogdGVzdFBhcmFtZXRlcihwYXJhbXMsICduYW1lJylcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgZ2l2ZW4gdXJsIGBwYXRoYCBhY2NvcmRpbmcgdG8gaXRzIGBkZWZpbml0aW9uYCB0byBleHRyYWN0IHRoZSBwYXJhbWV0ZXJzXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgaWYgYG9wdGlvbnNgIG9iamVjdCBpcyBtaXNzaW5nIGBwYXRoYCBvciBgZGVmaW5pdGlvbmBcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgYSBgcGF0aGAgYW5kIGR5bmFtaWMgcGF0aCBgZGVmaW5pdGlvbmAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuIG9wdGlvbm5hbHkgdGFrZSBgb2JqZWN0OiB0cnVlYCB0byBjb252ZXJ0IHRoZSByZXN1bHQgdG8gYW4gb2JqZWN0LCBkZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHJldHVybiB7bWl4ZWR9ICAgICAgICAgIEFycmF5IG9mIHBhcmFtZXRlciB2YWx1ZXMgZXh0cmFjdGVkIGZyb20gdGhlIHBhdGggb3Iga2V5L3ZhbHVlIHBhaXIgb2JqZWN0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybiBgbnVsbGAgaWYgdGhlIGBwYXRoYCBkb2VzIG5vdCBtYXRjaCB0aGUgYGRlZmluaXRpb25gLlxuICovXG5mdW5jdGlvbiBwYXJzZSAob3B0aW9ucykge1xuICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICB2YXIgcGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgdmFyIGRlZmluaXRpb24gPSBvcHRpb25zLmRlZmluaXRpb247XG4gIHZhciBvYmplY3QgPSBvcHRpb25zLm9iamVjdDtcblxuICBpZiAoIXBhdGggJiYgIWRlZmluaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VybC1jb21wb3NlcjogTWlzc2luZyBwYXRoIGFuZCBkZWZpbml0aW9uJylcbiAgfVxuXG4gIHZhciByZSA9IHJvdXRlVG9SZWdleChkZWZpbml0aW9uKTtcblxuICB2YXIgcGFyYW1zID0gcmUuZXhlYyhwYXRoKTtcblxuICBpZiAoIXBhcmFtcykgeyByZXR1cm4gbnVsbCB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLnNsaWNlKDEpO1xuXG4gIHZhciByZXN1bHQgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaSkge1xuICAgIGlmIChpID09PSBwYXJhbXMubGVuZ3RoIC0gMSkgeyByZXR1cm4gcGFyYW0gfHwgbnVsbCB9XG4gICAgcmV0dXJuIHBhcmFtID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSA6IG51bGxcbiAgfSk7XG5cbiAgaWYgKG9iamVjdCkge1xuICAgIHZhciBxdWVyeSA9IHJlc3VsdC5wb3AoKTtcbiAgICByZXN1bHQgPSBwYXJhbXNBcnJheTJPYmplY3QoZGVmaW5pdGlvbiwgcmVzdWx0KTtcbiAgICByZXN1bHQucXVlcnkgPSBxdWVyeTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxudmFyIGluZGV4ID0ge1xuICBidWlsZDogYnVpbGQsXG4gIHRlc3Q6IHRlc3QsXG4gIHN0YXRzOiBzdGF0cyxcbiAgcGFyc2U6IHBhcnNlLFxuICBwYXJhbXM6IHBhcmFtc0FycmF5Mk9iamVjdCxcbiAgcGF0aDogYnVpbGRQYXRoLFxuICBxdWVyeTogYnVpbGRRdWVyeSxcbiAgcmVnZXg6IHJvdXRlVG9SZWdleCxcbiAgbWF0Y2g6IGdldFBhcmFtc01hdGNoXG59O1xuXG5yZXR1cm4gaW5kZXg7XG5cbn0pKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91cmwtY29tcG9zZXIvZGlzdC91cmwtY29tcG9zZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=