!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=2)}([function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):h=-1,s.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var n=s.length;n;){for(u=s,s=[];++h<n;)u&&u[h].run();h=-1,n=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||f||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){!function(n,e){t.exports=e()}(0,function(){"use strict";var t=/\/$/,n=/^\//,e=/[()]/g,r=/\((.*?)\)/g,o=/\*\w+/g,i=/(\(\?)?:\w+/,a=/(\(\?)?:\w+/g,c=/[-{}[\]+?.,\\^$|#\s]/g;function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,n){return t=t||"",function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var n in t)if(hasOwnProperty.call(t,n))return!1;return!0}(n=n||[])?function(t){return t.replace(r,"")}(t):f(function(t){return t.replace(e,"")}(t=function(t,n){if(!u(n=n||[])){var e=t.match(a);e&&(n=e.map(function(t){return n[t.substr(1)]}))}u(n)&&n.forEach(function(n){n&&(t=function(t,n){var e=-1!==t.indexOf(":");if(n=encodeURIComponent(n),e)return t.replace(i,n);return t.replace(o,n)}(t,n))});var c=t.match(r);c&&c.forEach(function(n){(function(t){return i.test(t)||o.test(t)})(n)&&(t=t.replace(n,""))});return t}(t,n)))}function f(n){return n.replace(t,"")}function h(t){var e=t.host,r=t.path,o=t.query,i=t.hash;e=f(e);var a=r.split("?"),c=a[0],u=a[1];return r=(r=f(function(t){return t.replace(n,"")}(c)))?"/"+r:"",u=u?u+"&":"",""+e+r+(o=o?"?"+u+o:"")+(i=i?"#"+i:"")}function l(t,n){for(var e=[],r=0;r<t.length;r++){var o=t[r];o[n]&&""===o.value&&e.push(o)}return e}function d(t){return{named:t&&t.match(a)||[],splat:t&&t.match(o)||[]}}function p(t){return t=t.replace(c,"\\$&").replace(r,"(?:$1)?").replace(a,function(t,n){return n?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")}function v(t){return s((t=t||{}).path,t.params)}function m(t){var n=[];for(var e in(t=t||{}).query){var r=t.query[e];n.push(e+"="+encodeURIComponent(r))}return n.length?n.join("&"):""}function w(t,n){var e={},r=d(t),o=0;return r.named.forEach(i),r.splat.forEach(i),e;function i(t){e[t.slice(1)]=n[o++]}}return{build:function(t){(t=t||{}).host=t.host||"";var n=v(t),e=m(t);return h({host:t.host,path:n,query:e,hash:t.hash})},test:function(t){return p((t=t||{}).path).test(t.url)},stats:function(t,n){var e=t.match(r)||[],o=d(t),i=o.named,a=o.splat,c=i.concat(a);return u(n=n||{})&&(n=w(t,n)),{params:c=c.map(function(t){for(var r=!1,o=0;o<e.length;o++)if(-1!==e[o].indexOf(t)){r=!0;break}return{name:t,value:n[t.slice(1)]||"",optional:r,required:!r}}),hasOptionalParams:r.test(t),missingOptionalParams:l(c,"optional"),missingRequiredParams:l(c,"required"),missingParams:l(c,"name")}},parse:function(t){void 0===t&&(t={});var n=t.path,e=t.definition,r=t.object;if(!n&&!e)throw new Error("url-composer: Missing path and definition");var o=p(e).exec(n);if(!o)return null;var i=(o=o.slice(1)).map(function(t,n){return n===o.length-1?t||null:t?decodeURIComponent(t):null});if(r){var a=i.pop();(i=w(e,i)).query=a}return i},params:w,path:v,query:m,regex:p,match:d}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(3),o=e(1),i=e.n(o),a=e(9),c=e(10);class u{constructor(t){this.history=t?Object(r.b)():Object(r.a)(),this.routes=new Array,this.middlewares=new Array,this.history.block(n=>this._block(n,t))}_block(t,n){let e=`${t.pathname}${t.search}${t.hash}`,r=t,o=this.history.location,a=!1;for(let t=0;t<this.routes.length;t++)if(this.routes[t].validate(e,n))return(a=this._validateFromMiddlewares(this.middlewares,{to:r,from:o}))&&this.routes[t].middlewares.length>0&&a&&(a=this._validateFromMiddlewares(this.routes[t].middlewares,{to:r,from:o},a)),!!a&&this.routes[t].run({to:r,from:o},i.a.parse({path:e,definition:this.routes[t].path,object:!0}),a)}_validateFromMiddlewares(t,{from:n,to:e},r=null){if(t.length>0){for(let o=0;o<t.length;o++)if(!(r=t[o].run({to:e,from:n},r)))return!1;return r}return!0}when(t,n,e=[]){for(let t=0;t<e.length;t++)e[t]=new c.a(e[t]);return this.routes.push(new a.a(t,n,e)),this}middleware(t){return this.middlewares.push(new c.a(t)),this}}window.HistoryRouter=u,n.default=u},function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return O}),e.d(n,"b",function(){return T});var r=e(4),o=e(5),i=e(6),a=e(7),c=e(8);function u(t){return"/"===t.charAt(0)?t:"/"+t}function s(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)}function h(t,n){return f(t,n)?t.substr(n.length):t}function l(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function p(t,n,e,i){var a;"string"==typeof t?(a=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}(t)).state=n:(void 0===(a=Object(r.a)({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(a.key=e),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(o.a)(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(){var n=null;var e=[];return{setPrompt:function(e){return"production"!==t.env.NODE_ENV&&Object(a.a)(null==n,"A history supports only one prompt at a time"),n=e,function(){n===e&&(n=null)}},confirmTransitionTo:function(e,r,o,i){if(null!=n){var c="function"==typeof n?n(e,r):n;"string"==typeof c?"function"==typeof o?o(c,i):("production"!==t.env.NODE_ENV&&Object(a.a)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==c)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}var m=!("undefined"==typeof window||!window.document||!window.document.createElement);function w(t,n){n(window.confirm(t))}var y="popstate",g="hashchange";function b(){try{return window.history.state||{}}catch(t){return{}}}function O(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Browser history needs a DOM"):Object(c.a)(!1));var e=window.history,o=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),s=n,O=s.forceRefresh,E=void 0!==O&&O,P=s.getUserConfirmation,j=void 0===P?w:P,x=s.keyLength,T=void 0===x?6:x,A=n.basename?l(u(n.basename)):"";function k(n){var e=n||{},r=e.key,o=e.state,i=window.location,c=i.pathname+i.search+i.hash;return"production"!==t.env.NODE_ENV&&Object(a.a)(!A||f(c,A),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+A+'".'),A&&(c=h(c,A)),p(c,o,r)}function N(){return Math.random().toString(36).substr(2,T)}var L=v();function _(t){Object(r.a)(F,t),F.length=e.length,L.notifyListeners(F.location,F.action)}function D(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||U(k(t.state))}function S(){U(k(b()))}var R=!1;function U(t){if(R)R=!1,_();else{L.confirmTransitionTo(t,"POP",j,function(n){n?_({action:"POP",location:t}):function(t){var n=F.location,e=H.indexOf(n.key);-1===e&&(e=0);var r=H.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(R=!0,M(o))}(t)})}}var V=k(b()),H=[V.key];function C(t){return A+d(t)}function M(t){e.go(t)}var $=0;function I(t){1===($+=t)&&1===t?(window.addEventListener(y,D),i&&window.addEventListener(g,S)):0===$&&(window.removeEventListener(y,D),i&&window.removeEventListener(g,S))}var q=!1;var F={length:e.length,action:"POP",location:V,createHref:C,push:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),F.location);L.confirmTransitionTo(i,"PUSH",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.pushState({key:c,state:u},null,r),E)window.location.href=r;else{var s=H.indexOf(F.location.key),f=H.slice(0,-1===s?0:s+1);f.push(i.key),H=f,_({action:"PUSH",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),F.location);L.confirmTransitionTo(i,"REPLACE",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.replaceState({key:c,state:u},null,r),E)window.location.replace(r);else{var s=H.indexOf(F.location.key);-1!==s&&(H[s]=i.key),_({action:"REPLACE",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var n=L.setPrompt(t);return q||(I(1),q=!0),function(){return q&&(q=!1,I(-1)),n()}},listen:function(t){var n=L.appendListener(t);return I(1),function(){I(-1),n()}}};return F}var E="hashchange",P={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+s(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:s,decodePath:u},slash:{encodePath:u,decodePath:u}};function j(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)}function x(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)}function T(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Hash history needs a DOM"):Object(c.a)(!1));var e=window.history,o=-1===window.navigator.userAgent.indexOf("Firefox"),s=n,y=s.getUserConfirmation,g=void 0===y?w:y,b=s.hashType,O=void 0===b?"slash":b,T=n.basename?l(u(n.basename)):"",A=P[O],k=A.encodePath,N=A.decodePath;function L(){var n=N(j());return"production"!==t.env.NODE_ENV&&Object(a.a)(!T||f(n,T),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+n+'" to begin with "'+T+'".'),T&&(n=h(n,T)),p(n)}var _=v();function D(t){Object(r.a)(B,t),B.length=e.length,_.notifyListeners(B.location,B.action)}var S=!1,R=null;function U(){var t=j(),n=k(t);if(t!==n)x(n);else{var e=L(),r=B.location;if(!S&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&Object(i.a)(t.state,n.state)}(r,e))return;if(R===d(e))return;R=null,function(t){if(S)S=!1,D();else{_.confirmTransitionTo(t,"POP",g,function(n){n?D({action:"POP",location:t}):function(t){var n=B.location,e=M.lastIndexOf(d(n));-1===e&&(e=0);var r=M.lastIndexOf(d(t));-1===r&&(r=0);var o=e-r;o&&(S=!0,$(o))}(t)})}}(e)}}var V=j(),H=k(V);V!==H&&x(H);var C=L(),M=[d(C)];function $(n){"production"!==t.env.NODE_ENV&&Object(a.a)(o,"Hash history go(n) causes a full page reload in this browser"),e.go(n)}var I=0;function q(t){1===(I+=t)&&1===t?window.addEventListener(E,U):0===I&&window.removeEventListener(E,U)}var F=!1;var B={length:e.length,action:"POP",location:C,createHref:function(t){return"#"+k(T+d(t))},push:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot push state; it is ignored");var r=p(n,void 0,void 0,B.location);_.confirmTransitionTo(r,"PUSH",g,function(n){if(n){var e=d(r),o=k(T+e);if(j()!==o){R=e,function(t){window.location.hash=t}(o);var i=M.lastIndexOf(d(B.location)),c=M.slice(0,-1===i?0:i+1);c.push(e),M=c,D({action:"PUSH",location:r})}else"production"!==t.env.NODE_ENV&&Object(a.a)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),D()}})},replace:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot replace state; it is ignored");var r=p(n,void 0,void 0,B.location);_.confirmTransitionTo(r,"REPLACE",g,function(t){if(t){var n=d(r),e=k(T+n);j()!==e&&(R=n,x(e));var o=M.indexOf(d(B.location));-1!==o&&(M[o]=n),D({action:"REPLACE",location:r})}})},go:$,goBack:function(){$(-1)},goForward:function(){$(1)},block:function(t){void 0===t&&(t=!1);var n=_.setPrompt(t);return F||(q(1),F=!0),function(){return F&&(F=!1,q(-1)),n()}},listen:function(t){var n=_.appendListener(t);return q(1),function(){q(-1),n()}}};return B}}).call(n,e(0))},function(t,n,e){"use strict";function r(){return(r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}n.a=r},function(t,n,e){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=t&&t.split("/")||[],i=n&&n.split("/")||[],a=t&&r(t),c=n&&r(n),u=a||c;if(t&&r(t)?i=e:e.length&&(i.pop(),i=i.concat(e)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var h=0,l=i.length;l>=0;l--){var d=i[l];"."===d?o(i,l):".."===d?(o(i,l),h++):h&&(o(i,l),h--)}if(!u)for(;h--;h)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a=function t(n,e){if(n===e)return!0;if(null==n||null==e)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(n,r){return t(n,e[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=n.valueOf(),a=e.valueOf();if(i!==n||a!==e)return t(i,a);var c=Object.keys(n),u=Object.keys(e);return c.length===u.length&&c.every(function(r){return t(n[r],e[r])})}return!1}},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV;n.a=function(t,n){if(!e){if(t)return;var r="Warning: "+n;"undefined"!=typeof console&&console.warn(r);try{throw Error(r)}catch(t){}}}}).call(n,e(0))},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV,r="Invariant failed";n.a=function(t,n){if(!t)throw e?new Error(r):new Error(r+": "+(n||""))}}).call(n,e(0))},function(t,n,e){"use strict";var r=e(1),o=e.n(r);n.a=class{constructor(t,n,e){this.path=t,this.cb=n,this.middlewares=e}run({to:t,from:n},e,r){this.cb({to:t,from:n,params:e,response:r})}validate(t,n){return o.a.test(n?{path:`/#/${this.path}`,url:`/#/${t}`}:{path:this.path,url:t})}}},function(t,n,e){"use strict";n.a=class{constructor(t){this.cb=t}run({from:t,to:n},e=null){return this.cb({from:t,to:n,response:e})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDczNmVkMmFiMzM3ZDUyMjEwM2IiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsLWNvbXBvc2VyL2Rpc3QvdXJsLWNvbXBvc2VyLmpzIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXBhdGhuYW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS13YXJuaW5nL2Rpc3QvdGlueS13YXJuaW5nLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1pbnZhcmlhbnQvZGlzdC90aW55LWludmFyaWFudC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbGliL1JvdXRlLmpzIiwid2VicGFjazovLy8uL2xpYi9NaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJ0aGlzIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImdsb2JhbCIsImZhY3RvcnkiLCJUUkFJTElOR19TTEFTSCIsIkxFQURJTkdfU0xBU0giLCJQQVJFTlRIRVNFUyIsIk9QVElPTkFMX1BBUkFNUyIsIlNQTEFUX1BBUkFNUyIsIk5BTUVEX1BBUkFNIiwiTkFNRURfUEFSQU1TIiwiRVNDQVBFIiwiaXNBcnJheSIsIm9iaiIsInRvU3RyaW5nIiwiY29tcG9zZVBhdGgiLCJwYXRoIiwia2V5IiwiaXNFbXB0eSIsInJlcGxhY2UiLCJyZW1vdmVPcHRpb25hbFBhcmFtcyIsInJlbW92ZVRyYWlsaW5nU2xhc2giLCJyZW1vdmVQYXJlbnRoZXNlcyIsInBhcmFtTmFtZXMiLCJtYXRjaCIsIm1hcCIsInN1YnN0ciIsImZvckVhY2giLCJhcmciLCJoYXNOYW1lZFBhcmFtIiwiaW5kZXhPZiIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2VBcmciLCJtYXRjaGVzIiwicGFydCIsInBhcmFtIiwidGVzdCIsImlzTmFtZWRPclNwbGF0UGFyYW0iLCJyZXBsYWNlQXJncyIsInNtYXJ0Q29uY2F0IiwicmVmIiwiaG9zdCIsInF1ZXJ5IiwiaGFzaCIsInJlZiQxIiwic3BsaXQiLCJwYXRoUGFydCIsInF1ZXJ5UGFydCIsInJlbW92ZUxlYWRpbmdTbGFzaCIsInRlc3RQYXJhbWV0ZXIiLCJwYXJhbXMiLCJmaWVsZCIsInJlc3VsdCIsInZhbHVlIiwiZ2V0UGFyYW1zTWF0Y2giLCJuYW1lZCIsInNwbGF0Iiwicm91dGVUb1JlZ2V4Iiwicm91dGUiLCJvcHRpb25hbCIsIlJlZ0V4cCIsImJ1aWxkUGF0aCIsIm9wdGlvbnMiLCJidWlsZFF1ZXJ5Iiwiam9pbiIsInBhcmFtc0FycmF5Mk9iamVjdCIsImNvbXBvc2UiLCJzbGljZSIsImJ1aWxkIiwidXJsIiwic3RhdHMiLCJpc09wdGlvbmFsIiwicmVxdWlyZWQiLCJoYXNPcHRpb25hbFBhcmFtcyIsIm1pc3NpbmdPcHRpb25hbFBhcmFtcyIsIm1pc3NpbmdSZXF1aXJlZFBhcmFtcyIsIm1pc3NpbmdQYXJhbXMiLCJwYXJzZSIsImRlZmluaXRpb24iLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicG9wIiwicmVnZXgiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19saWJfUm91dGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbGliX01pZGRsZXdhcmVfXyIsIkhpc3RvcnlSb3V0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJoaXN0b3J5Iiwicm91dGVzIiwibWlkZGxld2FyZXMiLCJibG9jayIsImxvY2F0aW9uIiwiX2Jsb2NrIiwicGF0aG5hbWUiLCJzZWFyY2giLCJ0byIsImZyb20iLCJyZXNwb25zZSIsInZhbGlkYXRlIiwiX3ZhbGlkYXRlRnJvbU1pZGRsZXdhcmVzIiwiYSIsImNiIiwid2luZG93IiwiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCJjcmVhdGVIYXNoSGlzdG9yeSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmFiZWxfcnVudGltZV9oZWxwZXJzX2VzbV9leHRlbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVzb2x2ZV9wYXRobmFtZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3ZhbHVlX2VxdWFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfdGlueV93YXJuaW5nX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfdGlueV9pbnZhcmlhbnRfXyIsImFkZExlYWRpbmdTbGFzaCIsImNoYXJBdCIsInN0cmlwTGVhZGluZ1NsYXNoIiwiaGFzQmFzZW5hbWUiLCJwcmVmaXgiLCJzdHJpcEJhc2VuYW1lIiwic3RyaXBUcmFpbGluZ1NsYXNoIiwiY3JlYXRlUGF0aCIsImNyZWF0ZUxvY2F0aW9uIiwic3RhdGUiLCJjdXJyZW50TG9jYXRpb24iLCJoYXNoSW5kZXgiLCJzZWFyY2hJbmRleCIsInBhcnNlUGF0aCIsInVuZGVmaW5lZCIsImRlY29kZVVSSSIsIlVSSUVycm9yIiwiY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIiLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiTk9ERV9FTlYiLCJjb25maXJtVHJhbnNpdGlvblRvIiwiYWN0aW9uIiwiZ2V0VXNlckNvbmZpcm1hdGlvbiIsImNhbGxiYWNrIiwiYXBwZW5kTGlzdGVuZXIiLCJmbiIsImlzQWN0aXZlIiwibGlzdGVuZXIiLCJmaWx0ZXIiLCJpdGVtIiwibm90aWZ5TGlzdGVuZXJzIiwiX2xlbiIsIl9rZXkiLCJjYW5Vc2VET00iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb25maXJtYXRpb24iLCJtZXNzYWdlIiwiY29uZmlybSIsIlBvcFN0YXRlRXZlbnQiLCJIYXNoQ2hhbmdlRXZlbnQiLCJnZXRIaXN0b3J5U3RhdGUiLCJwcm9wcyIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5IiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0hpc3RvcnkiLCJuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciIsIl9wcm9wcyIsIl9wcm9wcyRmb3JjZVJlZnJlc2giLCJmb3JjZVJlZnJlc2giLCJfcHJvcHMkZ2V0VXNlckNvbmZpcm0iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRyYW5zaXRpb25NYW5hZ2VyIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJoYW5kbGVQb3BTdGF0ZSIsImV2ZW50IiwiaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCIsImhhbmRsZVBvcCIsImhhbmRsZUhhc2hDaGFuZ2UiLCJmb3JjZU5leHRQb3AiLCJvayIsImZyb21Mb2NhdGlvbiIsInRvTG9jYXRpb24iLCJ0b0luZGV4IiwiYWxsS2V5cyIsImZyb21JbmRleCIsImRlbHRhIiwiZ28iLCJyZXZlcnRQb3AiLCJpbml0aWFsTG9jYXRpb24iLCJjcmVhdGVIcmVmIiwibGlzdGVuZXJDb3VudCIsImNoZWNrRE9NTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0Jsb2NrZWQiLCJocmVmIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJ1bmJsb2NrIiwibGlzdGVuIiwidW5saXN0ZW4iLCJIYXNoQ2hhbmdlRXZlbnQkMSIsIkhhc2hQYXRoQ29kZXJzIiwiaGFzaGJhbmciLCJlbmNvZGVQYXRoIiwiZGVjb2RlUGF0aCIsIm5vc2xhc2giLCJzbGFzaCIsImdldEhhc2hQYXRoIiwic3Vic3RyaW5nIiwicmVwbGFjZUhhc2hQYXRoIiwiY2FuR29XaXRob3V0UmVsb2FkIiwiX3Byb3BzJGhhc2hUeXBlIiwiaGFzaFR5cGUiLCJfSGFzaFBhdGhDb2RlcnMkaGFzaFQiLCJpZ25vcmVQYXRoIiwiZW5jb2RlZFBhdGgiLCJwcmV2TG9jYXRpb24iLCJiIiwibG9jYXRpb25zQXJlRXF1YWwiLCJhbGxQYXRocyIsImxhc3RJbmRleE9mIiwicHVzaEhhc2hQYXRoIiwibmV4dFBhdGhzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsImluZGV4IiwiayIsInRvUGFydHMiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJ1bnNoaWZ0IiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJ2YWx1ZUVxdWFsIiwiZXZlcnkiLCJhVHlwZSIsImFWYWx1ZSIsInZhbHVlT2YiLCJiVmFsdWUiLCJhS2V5cyIsImtleXMiLCJiS2V5cyIsImlzUHJvZHVjdGlvbiIsImNvbmRpdGlvbiIsInRleHQiLCJjb25zb2xlIiwid2FybiIsIngiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdXJsX2NvbXBvc2VyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdXJsX2NvbXBvc2VyX19fZGVmYXVsdCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdB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clUsR0FBQSxJQUFBZ1UsRUFBQSxlQUFBaFUsRUFBQWtDLElBQUF3SixTQUNBakIsRUFBQSxtQkFhZW5DLEVBQUEsRUFaZixTQUFBMkwsRUFBQXJILEdBQ0EsSUFBQXFILEVBSUEsTUFBQUQsRUFDQSxJQUFBOVQsTUFBQXVLLEdBRUEsSUFBQXZLLE1BQUF1SyxFQUFBLE1BQUFtQyxHQUFBLG1EQ1ZBLElBQUEwSCxFQUFBblcsRUFBQSxHQUFBb1csRUFBQXBXLEVBQUFtQixFQUFBZ1YsR0FzRGVoTSxFQUFBLFFBNUNmTyxZQUFBMUUsRUFBQXlGLEVBQUFaLEdBSUF4SSxLQUFBMkQsT0FLQTNELEtBQUFvSixLQUtBcEosS0FBQXdJLGNBVUFILEtBQUFTLEdBQU9BLEVBQUFDLFFBQVdsRCxFQUFBbUQsR0FDbEJoSixLQUFBb0osSUFBYU4sS0FBQUMsT0FBQWxELFNBQUFtRCxhQVdiWCxTQUFBMUUsRUFBQTJCLEdBQ0EsT0FBV3lPLEVBQUE1SyxFQUFHcEUsS0FBQU8sR0FDTDNCLFdBQWEzRCxLQUFBMkQsT0FBVXFELFVBQWNyRCxNQUNyQ0EsS0FBQTNELEtBQUEyRCxLQUFBcUQsSUFBQXJELG9DQ3pCTW1FLEVBQUEsUUFwQmZPLFlBQUFlLEdBSUFwSixLQUFBb0osS0FXQWYsS0FBQVUsS0FBT0EsRUFBQUQsTUFBV0UsRUFBQSxNQUNsQixPQUFBaEosS0FBQW9KLElBQW9CTCxPQUFBRCxLQUFBRSIsImZpbGUiOiJkaXN0L2hpc3Rvcnktcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGQ3MzZlZDJhYjMzN2Q1MjIxMDNiIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwudXJsQ29tcG9zZXIgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG1vZHVsZSB1cmwtY29tcG9zZXJcbiAqIEBkZXNjcmlwdGlvbiBNb2R1bGUgdG8gYnVpbGQgZHluYW1pYyBVUkxzIHdpdGhvdXQgYSBmdXNzXG4gKi9cblxuLy9cbi8vIFBhdGggYW5hbHlzaXMgcmVndWxhciBleHByZXNzaW9uc1xuLy9cblxuLyoqXG4gKiBUcmFpbGluZyBzbGFzaCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUUkFJTElOR19TTEFTSCA9IC9cXC8kLztcbi8qKlxuICogTGVhZGluZyBzbGFzaCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBMRUFESU5HX1NMQVNIID0gL15cXC8vO1xuLyoqXG4gKiBQYXJlbnRoZXNlcyBnbG9iYWwgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUEFSRU5USEVTRVMgPSAvWygpXS9nO1xuLyoqXG4gKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBPUFRJT05BTF9QQVJBTVMgPSAvXFwoKC4qPylcXCkvZztcbi8qKlxuICogU3BsYXQgcGFyYW1ldGVycyBnbG9iYWwgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgU1BMQVRfUEFSQU1TID0gL1xcKlxcdysvZztcbi8qKlxuICogTmFtZWQgcGFyYW1ldGVyIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIE5BTUVEX1BBUkFNID0gLyhcXChcXD8pPzpcXHcrLztcbi8qKlxuICogTmFtZWQgcGFyYW1ldGVycyBnbG9iYWwgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfUEFSQU1TID0gLyhcXChcXD8pPzpcXHcrL2c7XG4vKipcbiAqIFNvbWUgd2llcmQgZXNjYXBlIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIEVTQ0FQRSA9IC9bLXt9W1xcXSs/LixcXFxcXiR8I1xcc10vZztcblxuLy9cbi8vIEhlbHBlciBmdW5jdGlvbnNcbi8vXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gb2JqZWN0IGlzIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHttaXhlZH0gb2JqIFRoZSBvYmplY3QgdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgYHRydWVgIGlmIGBvYmpgIGlzIGFuIGFycmF5IGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiBpc0FycmF5IChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiBvYmplY3QgaXMgZW1wdHlcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgIGB0cnVlYCBpZiBgb2JqYCBpcyBlbXB0eSBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gaXNFbXB0eSAob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCkgeyByZXR1cm4gdHJ1ZSB9XG4gIGlmIChvYmoubGVuZ3RoID4gMCkgeyByZXR1cm4gZmFsc2UgfVxuICBpZiAob2JqLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gdHJ1ZSB9XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgeyByZXR1cm4gdHJ1ZSB9XG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyByZXR1cm4gZmFsc2UgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuLy9cbi8vICMjIFBhdGggcGFyc2luZyBmdW5jdGlvbnNcbi8vXG5cbi8qKlxuICogSW5qZWN0IGFyZ3VtZW50cyBpbnRvIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb24gYW5kIGNsZWFuIHVudXNlZCBvcHRpb25hbCBwYXJ0c1xuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7bWl4ZWR9ICBhcmdzIE9iamVjdCBvciBhcnJheSBvZiBhcmd1bWVudHMgdG8gaW5qZWN0LlxuICogICAgICAgICAgICAgICAgICAgICAgIElmIGl0IGlzIGFuIGFycmF5LCBhcmd1bWVudHMgd2lsbCBiZSBpbmplY3RlZCBpbiBzZXF1ZW50aWFsIG9yZGVyLlxuICogICAgICAgICAgICAgICAgICAgICAgIEZvciBhbiBvYmplY3QsIHRoZSBvYmplY3Qga2V5cyB3aWxsIGJlIHVzZWQgdG8gbWFwIHZhbHVlcyB0byB0aGUgZHluYW1pYyBwYXJ0cyBvZiB0aGUgcGF0aC5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgcGFyc2VkIHBhdGggd2l0aCBpbmplY3RlZCBhcmd1bWVudHNcbiAqL1xuZnVuY3Rpb24gY29tcG9zZVBhdGggKHBhdGgsIGFyZ3MpIHtcbiAgcGF0aCA9IHBhdGggfHwgJyc7XG4gIGFyZ3MgPSBhcmdzIHx8IFtdO1xuXG4gIGlmIChpc0VtcHR5KGFyZ3MpKSB7XG4gICAgcmV0dXJuIHJlbW92ZU9wdGlvbmFsUGFyYW1zKHBhdGgpXG4gIH1cblxuICBwYXRoID0gcmVwbGFjZUFyZ3MocGF0aCwgYXJncyk7XG5cbiAgcmV0dXJuIHJlbW92ZVRyYWlsaW5nU2xhc2goXG4gICAgcmVtb3ZlUGFyZW50aGVzZXMocGF0aClcbiAgKVxufVxuXG4vKipcbiAqIFJlcGxhY2UgZHluYW1pYyBwYXJ0cyBvZiBhIHBhdGggYnkgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZ3MgT2JqZWN0IG9yIGFycmF5IG9mIGFyZ3VtZW50cyB0byBpbmplY3QuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgSWYgaXQgaXMgYW4gYXJyYXksIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGluIHNlcXVlbnRpYWwgb3JkZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgRm9yIGFuIG9iamVjdCwgdGhlIG9iamVjdCBrZXlzIHdpbGwgYmUgdXNlZCB0byBtYXAgdmFsdWVzIHRvIHRoZSBkeW5hbWljIHBhcnRzIG9mIHRoZSBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFBhdGggd2l0aCBpbmplY3RlZCBhcmd1bWVudHNcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUFyZ3MgKHBhdGgsIGFyZ3MpIHtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG5cbiAgaWYgKCFpc0FycmF5KGFyZ3MpKSB7XG4gICAgdmFyIHBhcmFtTmFtZXMgPSBwYXRoLm1hdGNoKE5BTUVEX1BBUkFNUyk7XG4gICAgaWYgKHBhcmFtTmFtZXMpIHtcbiAgICAgIGFyZ3MgPSBwYXJhbU5hbWVzLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gYXJnc1tuYW1lLnN1YnN0cigxKV07IH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0FycmF5KGFyZ3MpKSB7XG4gICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIGlmIChhcmcpIHsgcGF0aCA9IHJlcGxhY2VBcmcocGF0aCwgYXJnKTsgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1hdGNoZXMgPSBwYXRoLm1hdGNoKE9QVElPTkFMX1BBUkFNUyk7XG5cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICBtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgIGlmIChpc05hbWVkT3JTcGxhdFBhcmFtKHBhcnQpKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UocGFydCwgJycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhcbn1cblxuLyoqXG4gKiBSZXBsYWNlIHRoZSBmaXJzdCBtYXRjaGluZyBkeW5hbWljIHBhcnQgb2YgYSBwYXRoIGJ5IHRoZSBnaXZlbiBhcmd1bWVudFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7bWl4ZWR9ICBhcmcgIFRoZSB2YWx1ZSB0byBpbmplY3RcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgbW9kaWZpZWQgcGF0aFxuICovXG5mdW5jdGlvbiByZXBsYWNlQXJnIChwYXRoLCBhcmcpIHtcbiAgdmFyIGhhc05hbWVkUGFyYW0gPSBwYXRoLmluZGV4T2YoJzonKSAhPT0gLTE7XG4gIGFyZyA9IGVuY29kZVVSSUNvbXBvbmVudChhcmcpO1xuXG4gIGlmIChoYXNOYW1lZFBhcmFtKSB7XG4gICAgcmV0dXJuIHBhdGgucmVwbGFjZShOQU1FRF9QQVJBTSwgYXJnKVxuICB9XG5cbiAgcmV0dXJuIHBhdGgucmVwbGFjZShTUExBVF9QQVJBTVMsIGFyZylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgbmV4dCBkeW5hbWljIHBhcnQgaW4gYSBwYXRoIGlzIGEgbmFtZWQgb3Igc3BsYXQgcGFyYW1ldGVyIGRlZmluaXRpb25cbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGFyYW0gRHluYW1pYyBwYXJ0IG9mIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgYHRydWVgIGlmIGBwYXJhbWAgaXMgYSBuYW1lZCBvciBzcGxhdCBwYXJhbWV0ZXIgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIGlzTmFtZWRPclNwbGF0UGFyYW0gKHBhcmFtKSB7XG4gIHJldHVybiBOQU1FRF9QQVJBTS50ZXN0KHBhcmFtKSB8fCBTUExBVF9QQVJBTVMudGVzdChwYXJhbSlcbn1cblxuLyoqXG4gKiBTdHJpcCB0aGUgdW5maWxsZWQgb3B0aW9uYWwgcGFyYW1ldGVycyBmcm9tIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZU9wdGlvbmFsUGFyYW1zIChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoT1BUSU9OQUxfUEFSQU1TLCAnJylcbn1cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxhc3QgY2hhcmFjdGVyIGZyb20gYSBwYXRoIGlmIGl0IGlzIGEgc2xhc2hcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBtb2RpZnlcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgbW9kaWZpZWQgcGF0aFxuICovXG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ1NsYXNoIChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0gsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgZmlyc3QgY2hhcmFjdGVyIGZyb20gYSBwYXRoIGlmIGl0IGlzIGEgc2xhc2hcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBtb2RpZnlcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICBUaGUgbW9kaWZpZWQgcGF0aFxuICovXG5mdW5jdGlvbiByZW1vdmVMZWFkaW5nU2xhc2ggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShMRUFESU5HX1NMQVNILCAnJylcbn1cblxuLyoqXG4gKiBSZW1vdmUvY2xlYW4gcmVtYWluaW5nIHBhcmVudGhlc2VzIGZyb20gYSBwYXRoIGFmdGVyIGl0IGhhcyBiZWVuIHBhcnNlZFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeS9jbGVhblxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVBhcmVudGhlc2VzIChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoUEFSRU5USEVTRVMsICcnKVxufVxuXG4vKipcbiAqIFNtYXJ0IGNvbmNhdGVuYXRpb24gb2YgaG9zdCwgcGF0aCwgcXVlcnkgYW5kIGhhc2guIFdpbGwgYWRkIHRoZSBjb3JyZWN0IGdsdWUgY2hhcmFjdGVyIHdoZW4gbmVlZGVkXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgT2JqZWN0IGRlc2NyaWJpbmcgdGhlIHVybFxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIENvbmNhdGVuYXRpb24gb2YgaG9zdCwgcGF0aCwgcXVlcnkgYW5kIGhhc2hcbiAqL1xuZnVuY3Rpb24gc21hcnRDb25jYXQgKHJlZikge1xuICB2YXIgaG9zdCA9IHJlZi5ob3N0O1xuICB2YXIgcGF0aCA9IHJlZi5wYXRoO1xuICB2YXIgcXVlcnkgPSByZWYucXVlcnk7XG4gIHZhciBoYXNoID0gcmVmLmhhc2g7XG5cbiAgLy8gTm9ybWFsaXplIGhvc3RcbiAgaG9zdCA9IHJlbW92ZVRyYWlsaW5nU2xhc2goaG9zdCk7XG5cbiAgLy8gU3BsaXQgcGF0aCBpbiBjYXNlIHBhdGggY29udGFpbnMgYW4gZXhpc3RpbmcgcXVlcnlcbiAgdmFyIHJlZiQxID0gcGF0aC5zcGxpdCgnPycpO1xuICB2YXIgcGF0aFBhcnQgPSByZWYkMVswXTtcbiAgdmFyIHF1ZXJ5UGFydCA9IHJlZiQxWzFdO1xuXG4gIC8vIE5vcm1hbGl6ZSBwYXRoXG4gIHBhdGggPSByZW1vdmVUcmFpbGluZ1NsYXNoKFxuICAgIHJlbW92ZUxlYWRpbmdTbGFzaChwYXRoUGFydClcbiAgKTtcblxuICAvLyBBZGQgc3BlY2lmaWMgZ2x1ZSBjaGFyYWN0ZXJzXG4gIHBhdGggPSBwYXRoID8gKFwiL1wiICsgcGF0aCkgOiAnJztcbiAgcXVlcnlQYXJ0ID0gcXVlcnlQYXJ0ID8gKHF1ZXJ5UGFydCArIFwiJlwiKSA6ICcnO1xuICBxdWVyeSA9IHF1ZXJ5ID8gKFwiP1wiICsgcXVlcnlQYXJ0ICsgcXVlcnkpIDogJyc7XG4gIGhhc2ggPSBoYXNoID8gKFwiI1wiICsgaGFzaCkgOiAnJztcblxuICByZXR1cm4gKFwiXCIgKyBob3N0ICsgcGF0aCArIHF1ZXJ5ICsgaGFzaClcbn1cblxuLyoqXG4gKiBUZXN0IHRoZSBleGlzdGVuY2Ugb2YgY2VydGFpbiBmaWVsZHMgaW4gdGhlIHN0YXRzXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHthcnJheX0gIHBhcmFtcyBMaXN0IG9mIGFuYWx5emVkIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSAge3N0cmluZ30gZmllbGQgIE5hbWUgb2YgdGhlIGZpZWxkIHRvIGFuYWx5emVcbiAqIEByZXR1cm4ge2FycmF5fSAgICAgICAgIEZpbHRlcmVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHRlc3RQYXJhbWV0ZXIgKHBhcmFtcywgZmllbGQpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHAgPSBwYXJhbXNbaV07XG4gICAgaWYgKHBbZmllbGRdICYmIHAudmFsdWUgPT09ICcnKSB7XG4gICAgICByZXN1bHQucHVzaChwKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vXG4vLyAjIyBQdWJsaWMgQVBJIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBSZXRyaWV2ZSBtYXRjaGVzIGZvciBuYW1lZCBhbmQgc3BsYXQgcGFyYW1zIGZvciBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKlxuICogQG5hbWUgbWF0Y2hcbiAqIEBmdW5jdGlvblxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBEeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHJldHVybiB7b2JqZWN0fSAgICAgIE9iamVjdCB3aXRoIGEgYG5hbWVkYCBhbmQgYHNwbGF0YCBhcnJheSBjb250YWluaW5nIHRoZSBleHRyYWN0ZWQgcGFyYW1ldGVyIG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmFtc01hdGNoIChwYXRoKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZWQ6IChwYXRoICYmIHBhdGgubWF0Y2goTkFNRURfUEFSQU1TKSkgfHwgW10sXG4gICAgc3BsYXQ6IChwYXRoICYmIHBhdGgubWF0Y2goU1BMQVRfUEFSQU1TKSkgfHwgW11cbiAgfVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uIHRvIGFuIGV4ZWN1dGFibGUgcmVndWxhciBleHByZXNzaW9uXG4gKlxuICogQG5hbWUgcmVnZXhcbiAqIEBmdW5jdGlvblxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcm91dGUgVGhlIHJvdXRlL3BhdGggdG8gdHJhbnNmb3JtXG4gKiBAcmV0dXJuIHtSZWdFeHB9ICAgICAgIFRoZSByZXN1bHRpbmcgcmVndWxhciBleHByZXNzaW9uIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIHJvdXRlVG9SZWdleCAocm91dGUpIHtcbiAgcm91dGUgPSByb3V0ZS5yZXBsYWNlKEVTQ0FQRSwgJ1xcXFwkJicpXG4gICAgLnJlcGxhY2UoT1BUSU9OQUxfUEFSQU1TLCAnKD86JDEpPycpXG4gICAgLnJlcGxhY2UoTkFNRURfUEFSQU1TLCBmdW5jdGlvbiAobWF0Y2gsIG9wdGlvbmFsKSB7IHJldHVybiBvcHRpb25hbCA/IG1hdGNoIDogJyhbXi8/XSspJzsgfSlcbiAgICAucmVwbGFjZShTUExBVF9QQVJBTVMsICcoW14/XSo/KScpO1xuXG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHJvdXRlICsgJyg/OlxcXFw/KFtcXFxcc1xcXFxTXSopKT8kJylcbn1cblxuLyoqXG4gKiBCdWlsZCB0aGUgcGF0aCBwYXJ0IG9mIGEgVVJMIHVzaW5nIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uc1xuICpcbiAqIEBuYW1lIHBhdGhcbiAqIEBmdW5jdGlvblxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBgcGF0aGAgYW5kIGBwYXJhbXNgIGtleXMgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGJ1aWxkIHRoZSByZXN1bHRpbmcgcGF0aC5cbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICBUaGUgYnVpbHQgcGF0aFxuICovXG5mdW5jdGlvbiBidWlsZFBhdGggKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgcmV0dXJuIGNvbXBvc2VQYXRoKG9wdGlvbnMucGF0aCwgb3B0aW9ucy5wYXJhbXMpXG59XG5cbi8qKlxuICogQnVpbGQgdGhlIHF1ZXJ5IHBhcnQgb2YgYSBVUkxcbiAqXG4gKiBAbmFtZSBxdWVyeVxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGEgYHF1ZXJ5YCBrZXkuIFRoZSBga2V5YCBzaG91bGQgYmUgYW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlycyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIEVuY29kZWQgVVJMIHF1ZXJ5IHN0cmluZ1xuICovXG5mdW5jdGlvbiBidWlsZFF1ZXJ5IChvcHRpb25zKSB7XG4gIHZhciBxdWVyeSA9IFtdO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5xdWVyeSkge1xuICAgIHZhciBwYXJhbSA9IG9wdGlvbnMucXVlcnlba2V5XTtcbiAgICBxdWVyeS5wdXNoKChrZXkgKyBcIj1cIiArIChlbmNvZGVVUklDb21wb25lbnQocGFyYW0pKSkpO1xuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5Lmxlbmd0aCA/IHF1ZXJ5LmpvaW4oJyYnKSA6ICcnXG59XG5cbi8qKlxuICogVGVzdCBhIFVSTCBhZ2FpbnN0IGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCB3aXRoIGBwYXRoYCBhbmQgYHVybGAga2V5cy5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgYHBhdGhgIGlzIHRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvbiBhZ2FpbnN0IHdoaWNoIHRoZSBgdXJsYCB3aWxsIGJlIHRlc3RlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gICAgICAgIGB0cnVlYCBpZiBgdXJsYCBtYXRjaGVzIHRoZSBgcGF0aGAgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIHRlc3QgKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJlID0gcm91dGVUb1JlZ2V4KG9wdGlvbnMucGF0aCk7XG5cbiAgcmV0dXJuIHJlLnRlc3Qob3B0aW9ucy51cmwpXG59XG5cbi8qKlxuICogQnVpbGQgYSBjb21wbGV0ZSBVUkxcbiAqXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGBob3N0YCwgYHBhdGhgLCBgcGFyYW1zYCwgYHF1ZXJ5YCBhbmQgYGhhc2hgLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZXJ5dGhpbmcgaXMgb3B0aW9uYWwsIGNhbGxpbmcgYGJ1aWxkYCB3aXRob3V0IGFueSBwYXJhbWV0ZXJzIHdpbGwganVzdCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIFRoZSBidWlsdCBVUkxcbiAqL1xuZnVuY3Rpb24gYnVpbGQgKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMuaG9zdCA9IG9wdGlvbnMuaG9zdCB8fCAnJztcblxuICB2YXIgcGF0aCA9IGJ1aWxkUGF0aChvcHRpb25zKTtcbiAgdmFyIHF1ZXJ5ID0gYnVpbGRRdWVyeShvcHRpb25zKTtcblxuICByZXR1cm4gc21hcnRDb25jYXQoeyBob3N0OiBvcHRpb25zLmhvc3QsIHBhdGg6IHBhdGgsIHF1ZXJ5OiBxdWVyeSwgaGFzaDogb3B0aW9ucy5oYXNoIH0pXG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGFuIGFyZ3VtZW50cyBhcnJheSBpbnRvIGFuIG9iamVjdCB1c2luZyB0aGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAbmFtZSBwYXJhbXNcbiAqIEBmdW5jdGlvblxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge2FycmF5fSAgYXJncyBBcmd1bWVudHMgYXJyYXlcbiAqIEByZXR1cm4ge29iamVjdH0gICAgICBUaGUgcmVzdWx0aW5nIGtleS92YWx1ZSBwYWlyc1xuICovXG5mdW5jdGlvbiBwYXJhbXNBcnJheTJPYmplY3QgKHBhdGgsIGFyZ3MpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YXIgcGFyYW1zID0gZ2V0UGFyYW1zTWF0Y2gocGF0aCk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIHBhcmFtcy5uYW1lZC5mb3JFYWNoKGNvbXBvc2UpO1xuICBwYXJhbXMuc3BsYXQuZm9yRWFjaChjb21wb3NlKTtcblxuICByZXR1cm4gcmVzdWx0XG5cbiAgLy8gSGVscGVyXG5cbiAgZnVuY3Rpb24gY29tcG9zZSAobmFtZSkge1xuICAgIHJlc3VsdFtuYW1lLnNsaWNlKDEpXSA9IGFyZ3NbaSsrXTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIHN0YXRzIGFib3V0IGEgcGF0aFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggRHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge29iamVjdH0gYXJncyBPYmplY3Qgb2YgYXJndW1lbnRzIHRvIGFuYWx5emUgdGhlIHN0YXRlIG9mIHBhdGggaWYgaXQgd2FzIGluamVjdGVkIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge29iamVjdH0gICAgICBPYmplY3QgY29udGFpbmluZyBkaWZmZXJlbnQgc3RhdHMgYWJvdXQgdGhlIHBhdGhcbiAqL1xuZnVuY3Rpb24gc3RhdHMgKHBhdGgsIGFyZ3MpIHtcbiAgdmFyIG9wdGlvbmFsID0gcGF0aC5tYXRjaChPUFRJT05BTF9QQVJBTVMpIHx8IFtdO1xuICB2YXIgcmVmID0gZ2V0UGFyYW1zTWF0Y2gocGF0aCk7XG4gIHZhciBuYW1lZCA9IHJlZi5uYW1lZDtcbiAgdmFyIHNwbGF0ID0gcmVmLnNwbGF0O1xuXG4gIHZhciBwYXJhbXMgPSBuYW1lZC5jb25jYXQoc3BsYXQpO1xuXG4gIGFyZ3MgPSBhcmdzIHx8IHt9O1xuXG4gIGlmIChpc0FycmF5KGFyZ3MpKSB7XG4gICAgYXJncyA9IHBhcmFtc0FycmF5Mk9iamVjdChwYXRoLCBhcmdzKTtcbiAgfVxuXG4gIHBhcmFtcyA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgdmFyIGlzT3B0aW9uYWwgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9uYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwID0gb3B0aW9uYWxbaV07XG4gICAgICBpZiAocC5pbmRleE9mKHBhcmFtKSAhPT0gLTEpIHtcbiAgICAgICAgaXNPcHRpb25hbCA9IHRydWU7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHBhcmFtLFxuICAgICAgdmFsdWU6IGFyZ3NbcGFyYW0uc2xpY2UoMSldIHx8ICcnLFxuICAgICAgb3B0aW9uYWw6IGlzT3B0aW9uYWwsXG4gICAgICByZXF1aXJlZDogIWlzT3B0aW9uYWxcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgaGFzT3B0aW9uYWxQYXJhbXM6IE9QVElPTkFMX1BBUkFNUy50ZXN0KHBhdGgpLFxuICAgIG1pc3NpbmdPcHRpb25hbFBhcmFtczogdGVzdFBhcmFtZXRlcihwYXJhbXMsICdvcHRpb25hbCcpLFxuICAgIG1pc3NpbmdSZXF1aXJlZFBhcmFtczogdGVzdFBhcmFtZXRlcihwYXJhbXMsICdyZXF1aXJlZCcpLFxuICAgIG1pc3NpbmdQYXJhbXM6IHRlc3RQYXJhbWV0ZXIocGFyYW1zLCAnbmFtZScpXG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBhIGdpdmVuIHVybCBgcGF0aGAgYWNjb3JkaW5nIHRvIGl0cyBgZGVmaW5pdGlvbmAgdG8gZXh0cmFjdCB0aGUgcGFyYW1ldGVyc1xuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGlmIGBvcHRpb25zYCBvYmplY3QgaXMgbWlzc2luZyBgcGF0aGAgb3IgYGRlZmluaXRpb25gXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIGEgYHBhdGhgIGFuZCBkeW5hbWljIHBhdGggYGRlZmluaXRpb25gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIENhbiBvcHRpb25uYWx5IHRha2UgYG9iamVjdDogdHJ1ZWAgdG8gY29udmVydCB0aGUgcmVzdWx0IHRvIGFuIG9iamVjdCwgZGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqIEByZXR1cm4ge21peGVkfSAgICAgICAgICBBcnJheSBvZiBwYXJhbWV0ZXIgdmFsdWVzIGV4dHJhY3RlZCBmcm9tIHRoZSBwYXRoIG9yIGtleS92YWx1ZSBwYWlyIG9iamVjdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm4gYG51bGxgIGlmIHRoZSBgcGF0aGAgZG9lcyBub3QgbWF0Y2ggdGhlIGBkZWZpbml0aW9uYC5cbiAqL1xuZnVuY3Rpb24gcGFyc2UgKG9wdGlvbnMpIHtcbiAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdmFyIHBhdGggPSBvcHRpb25zLnBhdGg7XG4gIHZhciBkZWZpbml0aW9uID0gb3B0aW9ucy5kZWZpbml0aW9uO1xuICB2YXIgb2JqZWN0ID0gb3B0aW9ucy5vYmplY3Q7XG5cbiAgaWYgKCFwYXRoICYmICFkZWZpbml0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1cmwtY29tcG9zZXI6IE1pc3NpbmcgcGF0aCBhbmQgZGVmaW5pdGlvbicpXG4gIH1cblxuICB2YXIgcmUgPSByb3V0ZVRvUmVnZXgoZGVmaW5pdGlvbik7XG5cbiAgdmFyIHBhcmFtcyA9IHJlLmV4ZWMocGF0aCk7XG5cbiAgaWYgKCFwYXJhbXMpIHsgcmV0dXJuIG51bGwgfVxuXG4gIHBhcmFtcyA9IHBhcmFtcy5zbGljZSgxKTtcblxuICB2YXIgcmVzdWx0ID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0sIGkpIHtcbiAgICBpZiAoaSA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpIHsgcmV0dXJuIHBhcmFtIHx8IG51bGwgfVxuICAgIHJldHVybiBwYXJhbSA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbSkgOiBudWxsXG4gIH0pO1xuXG4gIGlmIChvYmplY3QpIHtcbiAgICB2YXIgcXVlcnkgPSByZXN1bHQucG9wKCk7XG4gICAgcmVzdWx0ID0gcGFyYW1zQXJyYXkyT2JqZWN0KGRlZmluaXRpb24sIHJlc3VsdCk7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcXVlcnk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbnZhciBpbmRleCA9IHtcbiAgYnVpbGQ6IGJ1aWxkLFxuICB0ZXN0OiB0ZXN0LFxuICBzdGF0czogc3RhdHMsXG4gIHBhcnNlOiBwYXJzZSxcbiAgcGFyYW1zOiBwYXJhbXNBcnJheTJPYmplY3QsXG4gIHBhdGg6IGJ1aWxkUGF0aCxcbiAgcXVlcnk6IGJ1aWxkUXVlcnksXG4gIHJlZ2V4OiByb3V0ZVRvUmVnZXgsXG4gIG1hdGNoOiBnZXRQYXJhbXNNYXRjaFxufTtcblxucmV0dXJuIGluZGV4O1xuXG59KSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdXJsLWNvbXBvc2VyL2Rpc3QvdXJsLWNvbXBvc2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNyZWF0ZUhhc2hIaXN0b3J5LCBjcmVhdGVCcm93c2VySGlzdG9yeSB9IGZyb20gJ2hpc3RvcnknO1xuaW1wb3J0IHVybCBmcm9tICd1cmwtY29tcG9zZXInO1xuXG5pbXBvcnQgUm91dGUgZnJvbSAnLi9saWIvUm91dGUnO1xuaW1wb3J0IE1pZGRsZXdhcmUgZnJvbSAnLi9saWIvTWlkZGxld2FyZSc7XG5cbmNsYXNzIEhpc3RvcnlSb3V0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIEhpc3RvcnlSb3V0ZXIgSW5zdGFuY2VcbiAgICogXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzaFxuICAgKi9cbiAgIGNvbnN0cnVjdG9yKGhhc2gpIHtcbiAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7SGlzdG9yeX0gaGlzdG9yeVxuICAgICAqL1xuICAgIHRoaXMuaGlzdG9yeSA9IGhhc2g/IGNyZWF0ZUhhc2hIaXN0b3J5KCk6IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCk7XG4gICAgXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtSb3V0ZVtdfVxuICAgICAqL1xuICAgIHRoaXMucm91dGVzID0gbmV3IEFycmF5KCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge01pZGRsZXdhcmVbXX1cbiAgICAgKi9cbiAgICB0aGlzLm1pZGRsZXdhcmVzID0gbmV3IEFycmF5KCk7IFxuXG5cbiAgICAvKiogQmxvY2tpbmcgKi9cbiAgICB0aGlzLmhpc3RvcnkuYmxvY2sobG9jYXRpb24gPT4gdGhpcy5fYmxvY2sobG9jYXRpb24sIGhhc2gpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCbG9ja2luZ1xuICAgKiBcbiAgICogQHBhcmFtIHtMb2NhdGlvbn0gbG9jYXRpb24gXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzaFxuICAgKi9cbiAgX2Jsb2NrKGxvY2F0aW9uLCBoYXNoKSB7XG4gICAgbGV0IHBhdGggPSBgJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9YCxcbiAgICAgICAgdG8gPSBsb2NhdGlvbiwgXG4gICAgICAgIGZyb20gPSB0aGlzLmhpc3RvcnkubG9jYXRpb25cbiAgICA7XG4gICAgbGV0IHJlc3BvbnNlID0gZmFsc2U7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucm91dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih0aGlzLnJvdXRlc1tpXS52YWxpZGF0ZShwYXRoLCBoYXNoKSkge1xuICAgICAgICBpZihyZXNwb25zZSA9IHRoaXMuX3ZhbGlkYXRlRnJvbU1pZGRsZXdhcmVzKHRoaXMubWlkZGxld2FyZXMsIHsgdG8sIGZyb20gfSkpIHtcbiAgICAgICAgICBpZih0aGlzLnJvdXRlc1tpXS5taWRkbGV3YXJlcy5sZW5ndGggPiAwICYmIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuX3ZhbGlkYXRlRnJvbU1pZGRsZXdhcmVzKFxuICAgICAgICAgICAgICB0aGlzLnJvdXRlc1tpXS5taWRkbGV3YXJlcyxcbiAgICAgICAgICAgICAgeyB0bywgZnJvbSB9LFxuICAgICAgICAgICAgICByZXNwb25zZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXNbaV0ucnVuKFxuICAgICAgICAgICAgeyB0bywgZnJvbSB9LCBcbiAgICAgICAgICAgIHVybC5wYXJzZSh7IHBhdGgsIGRlZmluaXRpb246IHRoaXMucm91dGVzW2ldLnBhdGgsIG9iamVjdDogdHJ1ZSB9KSwgXG4gICAgICAgICAgICByZXNwb25zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBmcm9tIG1pZGRsZXdhcmVzXG4gICAqIFxuICAgKiBAcGFyYW0ge01pZGRsZXdhcmVbXX0gbWlkZGxld2FyZXMgXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiBcbiAgICogQHBhcmFtIHsqfSByZXNwb25zZSBcbiAgICovXG4gIF92YWxpZGF0ZUZyb21NaWRkbGV3YXJlcyhtaWRkbGV3YXJlcywgeyBmcm9tLCB0byB9LCByZXNwb25zZSA9IG51bGwpIHtcbiAgICBpZihtaWRkbGV3YXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWlkZGxld2FyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzcG9uc2UgPSBtaWRkbGV3YXJlc1tpXS5ydW4oeyB0bywgZnJvbSB9LCByZXNwb25zZSk7XG4gICAgICAgIGlmKCFyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBSb3V0ZVxuICAgKiBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIFxuICAgKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyBcbiAgICovXG4gIHdoZW4ocGF0aCwgY2IsIG1pZGRsZXdhcmVzID0gW10pIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWlkZGxld2FyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1pZGRsZXdhcmVzW2ldID0gbmV3IE1pZGRsZXdhcmUobWlkZGxld2FyZXNbaV0pXG4gICAgfVxuICAgIC8qKiBSb3V0ZSAqL1xuICAgIHRoaXMucm91dGVzLnB1c2gobmV3IFJvdXRlKHBhdGgsIGNiLCBtaWRkbGV3YXJlcykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGdsb2JhbCBtaWRkbGV3YXJlXG4gICAqIFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBcbiAgICovXG4gIG1pZGRsZXdhcmUoY2IpIHtcbiAgICAvKiogR2xvYmFsIG1pZGRsZXdhcmUgKi9cbiAgICB0aGlzLm1pZGRsZXdhcmVzLnB1c2gobmV3IE1pZGRsZXdhcmUoY2IpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vKiogT25seSBmb3IgQ0ROLCBvciBCb3dlciAqL1xud2luZG93Lkhpc3RvcnlSb3V0ZXIgPSBIaXN0b3J5Um91dGVyO1xuXG5leHBvcnQgZGVmYXVsdCBIaXN0b3J5Um91dGVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHJlc29sdmVQYXRobmFtZSBmcm9tICdyZXNvbHZlLXBhdGhuYW1lJztcbmltcG9ydCB2YWx1ZUVxdWFsIGZyb20gJ3ZhbHVlLWVxdWFsJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcblxuZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn1cbmZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcHJlZml4ICsgJyhcXFxcL3xcXFxcP3wjfCQpJywgJ2knKS50ZXN0KHBhdGgpO1xufVxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcblxuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuXG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgdmFyIHBhdGggPSBwYXRobmFtZSB8fCAnLyc7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb247XG5cbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIC8vIFR3by1hcmcgZm9ybTogcHVzaChwYXRoLCBzdGF0ZSlcbiAgICBsb2NhdGlvbiA9IHBhcnNlUGF0aChwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24ucGF0aG5hbWUgPSAnJztcblxuICAgIGlmIChsb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guY2hhckF0KDApICE9PSAnPycpIGxvY2F0aW9uLnNlYXJjaCA9ICc/JyArIGxvY2F0aW9uLnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uc2VhcmNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBsb2NhdGlvbi5oYXNoID0gJyMnICsgbG9jYXRpb24uaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uaGFzaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9uLnN0YXRlID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB0cnkge1xuICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gZGVjb2RlVVJJKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVUklFcnJvcignUGF0aG5hbWUgXCInICsgbG9jYXRpb24ucGF0aG5hbWUgKyAnXCIgY291bGQgbm90IGJlIGRlY29kZWQuICcgKyAnVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGFuIGludmFsaWQgcGVyY2VudC1lbmNvZGluZy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICBpZiAoa2V5KSBsb2NhdGlvbi5rZXkgPSBrZXk7XG5cbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xuICAgIC8vIFJlc29sdmUgaW5jb21wbGV0ZS9yZWxhdGl2ZSBwYXRobmFtZSByZWxhdGl2ZSB0byBjdXJyZW50IGxvY2F0aW9uLlxuICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gcmVzb2x2ZVBhdGhuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIHByaW9yIGxvY2F0aW9uIGFuZCBwYXRobmFtZSBpcyBlbXB0eSwgc2V0IGl0IHRvIC9cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJiBhLmhhc2ggPT09IGIuaGFzaCAmJiBhLmtleSA9PT0gYi5rZXkgJiYgdmFsdWVFcXVhbChhLnN0YXRlLCBiLnN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJykgOiB2b2lkIDA7XG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpIDogdm9pZCAwO1xuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG5cbmZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICAhY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZm9yY2VSZWZyZXNoID0gX3Byb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkpIHJldHVybjtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH1cblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpIDogdm9pZCAwO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIGdvKC0xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICBnbygxKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSAmJiBkZWx0YSA9PT0gMSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcbiAgICAgIHByb21wdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxudmFyIEhhc2hDaGFuZ2VFdmVudCQxID0gJ2hhc2hjaGFuZ2UnO1xudmFyIEhhc2hQYXRoQ29kZXJzID0ge1xuICBoYXNoYmFuZzoge1xuICAgIGVuY29kZVBhdGg6IGZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoIDogJyEvJyArIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpO1xuICAgIH0sXG4gICAgZGVjb2RlUGF0aDogZnVuY3Rpb24gZGVjb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbiAgICB9XG4gIH0sXG4gIG5vc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBzdHJpcExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfSxcbiAgc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIHZhciBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyAnJyA6IGhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGg7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHZhciBoYXNoSW5kZXggPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJyk7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsIGhhc2hJbmRleCA+PSAwID8gaGFzaEluZGV4IDogMCkgKyAnIycgKyBwYXRoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhbkdvV2l0aG91dFJlbG9hZCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gX3Byb3BzLmhhc2hUeXBlLFxuICAgICAgaGFzaFR5cGUgPSBfcHJvcHMkaGFzaFR5cGUgPT09IHZvaWQgMCA/ICdzbGFzaCcgOiBfcHJvcHMkaGFzaFR5cGU7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXG4gICAgICBlbmNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmVuY29kZVBhdGgsXG4gICAgICBkZWNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmRlY29kZVBhdGg7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oKSB7XG4gICAgdmFyIHBhdGggPSBkZWNvZGVQYXRoKGdldEhhc2hQYXRoKCkpO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgpO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGFsd2F5cyBoYXZlIGEgcHJvcGVybHktZW5jb2RlZCBoYXNoLlxuICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuICAgICAgaWYgKCFmb3JjZU5leHRQb3AgJiYgbG9jYXRpb25zQXJlRXF1YWwocHJldkxvY2F0aW9uLCBsb2NhdGlvbikpIHJldHVybjsgLy8gQSBoYXNoY2hhbmdlIGRvZXNuJ3QgYWx3YXlzID09IGxvY2F0aW9uIGNoYW5nZS5cblxuICAgICAgaWYgKGlnbm9yZVBhdGggPT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSByZXR1cm47IC8vIElnbm9yZSB0aGlzIGNoYW5nZTsgd2UgYWxyZWFkeSBzZXRTdGF0ZSBpbiBwdXNoL3JlcGxhY2UuXG5cbiAgICAgIGlnbm9yZVBhdGggPSBudWxsO1xuICAgICAgaGFuZGxlUG9wKGxvY2F0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjsgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBwYXRocyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuICAgIHZhciBmcm9tSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGZyb21Mb2NhdGlvbikpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9IC8vIEVuc3VyZSB0aGUgaGFzaCBpcyBlbmNvZGVkIHByb3Blcmx5IGJlZm9yZSBkb2luZyBhbnl0aGluZyBlbHNlLlxuXG5cbiAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICB2YXIgYWxsUGF0aHMgPSBbY3JlYXRlUGF0aChpbml0aWFsTG9jYXRpb24pXTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gJyMnICsgZW5jb2RlUGF0aChiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBQVVNILCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICBwdXNoSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICAgIHZhciBuZXh0UGF0aHMgPSBhbGxQYXRocy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuICAgICAgICBuZXh0UGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgYWxsUGF0aHMgPSBuZXh0UGF0aHM7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGg7IGEgbmV3IGVudHJ5IHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrJykgOiB2b2lkIDA7XG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUkVQTEFDRSwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsUGF0aHNbcHJldkluZGV4XSA9IHBhdGg7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoY2FuR29XaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJykgOiB2b2lkIDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wKG4sIGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIGxvd2VyQm91bmQpLCB1cHBlckJvdW5kKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIF9wcm9wcyRpbml0aWFsRW50cmllcyA9IF9wcm9wcy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxFbnRyaWVzID0gX3Byb3BzJGluaXRpYWxFbnRyaWVzID09PSB2b2lkIDAgPyBbJy8nXSA6IF9wcm9wcyRpbml0aWFsRW50cmllcyxcbiAgICAgIF9wcm9wcyRpbml0aWFsSW5kZXggPSBfcHJvcHMuaW5pdGlhbEluZGV4LFxuICAgICAgaW5pdGlhbEluZGV4ID0gX3Byb3BzJGluaXRpYWxJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRpbml0aWFsSW5kZXgsXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gX3Byb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHZvaWQgMCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB2YXIgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJyA/IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGNyZWF0ZUtleSgpKSA6IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGVudHJ5LmtleSB8fCBjcmVhdGVLZXkoKSk7XG4gIH0pOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBjcmVhdGVQYXRoO1xuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcHJldkluZGV4ID0gaGlzdG9yeS5pbmRleDtcbiAgICAgIHZhciBuZXh0SW5kZXggPSBwcmV2SW5kZXggKyAxO1xuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xuXG4gICAgICBpZiAobmV4dEVudHJpZXMubGVuZ3RoID4gbmV4dEluZGV4KSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnNwbGljZShuZXh0SW5kZXgsIG5leHRFbnRyaWVzLmxlbmd0aCAtIG5leHRJbmRleCwgbG9jYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dEVudHJpZXMucHVzaChsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgZW50cmllczogbmV4dEVudHJpZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIGhpc3RvcnkuZW50cmllc1toaXN0b3J5LmluZGV4XSA9IGxvY2F0aW9uO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gY2xhbXAoaGlzdG9yeS5pbmRleCArIG4sIDAsIGhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxKTtcbiAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgdmFyIGxvY2F0aW9uID0gaGlzdG9yeS5lbnRyaWVzW25leHRJbmRleF07XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmIChvaykge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNaW1pYyB0aGUgYmVoYXZpb3Igb2YgRE9NIGhpc3RvcmllcyBieVxuICAgICAgICAvLyBjYXVzaW5nIGEgcmVuZGVyIGFmdGVyIGEgY2FuY2VsbGVkIFBPUC5cbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5HbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGhpc3RvcnkuaW5kZXggKyBuO1xuICAgIHJldHVybiBuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBlbnRyaWVzLmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBlbnRyaWVzW2luZGV4XSxcbiAgICBpbmRleDogaW5kZXgsXG4gICAgZW50cmllczogZW50cmllcyxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY2FuR286IGNhbkdvLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnksIGNyZWF0ZUhhc2hIaXN0b3J5LCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwsIHBhcnNlUGF0aCwgY3JlYXRlUGF0aCB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lc20vaGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlUGF0aG5hbWU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoaXRlbSwgYltpbmRleF0pO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWx1ZUVxdWFsO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3ZhbHVlLWVxdWFsL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xuZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFpc1Byb2R1Y3Rpb24pIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRleHQgPSBcIldhcm5pbmc6IFwiICsgbWVzc2FnZTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2Fybih0ZXh0KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhyb3cgRXJyb3IodGV4dCk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdGlueS13YXJuaW5nL2Rpc3QvdGlueS13YXJuaW5nLmVzbS5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbnZhciBwcmVmaXggPSAnSW52YXJpYW50IGZhaWxlZCc7XG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdGlueS1pbnZhcmlhbnQvZGlzdC90aW55LWludmFyaWFudC5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHVybCBmcm9tICd1cmwtY29tcG9zZXInO1xuXG5jbGFzcyBSb3V0ZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgUm91dGUgSW5zdGFuY2VcbiAgICogXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBcbiAgICogQHBhcmFtIHtNaWRkZWx3YXJlW119IG1pZGRsZXdhcmVzIFxuICAgKi9cbiAgY29uc3RydWN0b3IocGF0aCwgY2IsIG1pZGRsZXdhcmVzKSB7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wYXRoID0gcGF0aDtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5jYiA9IGNiO1xuICAgIFxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7TWlkZGxld2FyZVtdfVxuICAgICAqL1xuICAgIHRoaXMubWlkZGxld2FyZXMgPSBtaWRkbGV3YXJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gcm91dGVcbiAgICogXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiBcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBcbiAgICogQHBhcmFtIHsqfSByZXNwb25zZSBcbiAgICovXG4gIHJ1bih7IHRvLCBmcm9tIH0sIHBhcmFtcywgcmVzcG9uc2UpIHtcbiAgICB0aGlzLmNiKHsgdG8sIGZyb20sIHBhcmFtcywgcmVzcG9uc2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgdXJsIHBhdGhcbiAgICogIFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBcbiAgICogQHBhcmFtIHtTdHJpbmd9IGhhc2ggXG4gICAqIFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGUocGF0aCwgaGFzaCkge1xuICAgIHJldHVybiB1cmwudGVzdChoYXNoIFxuICAgICAgPyB7IHBhdGg6IGAvIy8ke3RoaXMucGF0aH1gLCB1cmw6IGAvIy8ke3BhdGh9YCB9XG4gICAgICA6IHsgcGF0aDogdGhpcy5wYXRoLCB1cmw6IHBhdGggfVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9Sb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjbGFzcyBNaWRkbGV3YXJlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBNaWRkbGV3YXJlIEluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYikge1xuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5jYiA9IGNiO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBtaWRkbGV3YXJlXG4gICAqIFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gXG4gICAqIEBwYXJhbSB7Kn0gcmVzcG9uc2VcbiAgICogXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBydW4oeyBmcm9tLCB0byB9LCByZXNwb25zZSA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5jYih7IGZyb20sIHRvLCByZXNwb25zZSB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWlkZGxld2FyZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9NaWRkbGV3YXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9