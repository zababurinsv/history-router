!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=1)}([function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):h=-1,s.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var n=s.length;n;){for(u=s,s=[];++h<n;)u&&u[h].run();h=-1,n=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||f||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),o=e(8),i=e.n(o);class a{constructor(t={}){this.options={hash:!t.hasOwnProperty("hash")||t.hash},this.history=this.options.hash?Object(r.b)(this.options.history):Object(r.a)(this.options.history),this.history.block(t=>{let n=`${t.pathname}${t.search}${t.hash}`,e={to:t,from:this.history.location},r=!1;for(let o=0;o<this.routes.length;o++){let a=this.routes[o];if(i.a.test(this.options.hash?{path:`/#/${a.path}`,url:`/#/${n}`}:{path:a.path,url:n})){let o=(t,{from:n,to:e},r=null)=>{if(t.length){let o=t=>r=t instanceof Function?t():t;for(let i=0;i<t.length;i++)if(t[i]({to:e,from:n,next:o,response:r}),!r)return!1;return r}return!0};return(r=o(this.middlewares,e))&&a.middlewares.length&&(r=o(a.middlewares,e,r)),!!r&&a.callback({location:t,params:i.a.parse({path:n,definition:a.path,object:!0}),response:r})}}}),this.routes=new Array,this.middlewares=new Array}when(t,n,e=[]){return this.routes.push({path:t,callback:n,middlewares:e}),this}middleware(t){return this.middlewares.push(t),this}}window.HistoryRouter=a,n.default=a},function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return O}),e.d(n,"b",function(){return T});var r=e(3),o=e(4),i=e(5),a=e(6),c=e(7);function u(t){return"/"===t.charAt(0)?t:"/"+t}function s(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)}function h(t,n){return f(t,n)?t.substr(n.length):t}function l(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function p(t,n,e,i){var a;"string"==typeof t?(a=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}(t)).state=n:(void 0===(a=Object(r.a)({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(a.key=e),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(o.a)(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(){var n=null;var e=[];return{setPrompt:function(e){return"production"!==t.env.NODE_ENV&&Object(a.a)(null==n,"A history supports only one prompt at a time"),n=e,function(){n===e&&(n=null)}},confirmTransitionTo:function(e,r,o,i){if(null!=n){var c="function"==typeof n?n(e,r):n;"string"==typeof c?"function"==typeof o?o(c,i):("production"!==t.env.NODE_ENV&&Object(a.a)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==c)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}var m=!("undefined"==typeof window||!window.document||!window.document.createElement);function w(t,n){n(window.confirm(t))}var y="popstate",g="hashchange";function b(){try{return window.history.state||{}}catch(t){return{}}}function O(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Browser history needs a DOM"):Object(c.a)(!1));var e=window.history,o=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),s=n,O=s.forceRefresh,E=void 0!==O&&O,P=s.getUserConfirmation,j=void 0===P?w:P,x=s.keyLength,T=void 0===x?6:x,A=n.basename?l(u(n.basename)):"";function k(n){var e=n||{},r=e.key,o=e.state,i=window.location,c=i.pathname+i.search+i.hash;return"production"!==t.env.NODE_ENV&&Object(a.a)(!A||f(c,A),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+A+'".'),A&&(c=h(c,A)),p(c,o,r)}function N(){return Math.random().toString(36).substr(2,T)}var L=v();function _(t){Object(r.a)(B,t),B.length=e.length,L.notifyListeners(B.location,B.action)}function D(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||U(k(t.state))}function S(){U(k(b()))}var R=!1;function U(t){if(R)R=!1,_();else{L.confirmTransitionTo(t,"POP",j,function(n){n?_({action:"POP",location:t}):function(t){var n=B.location,e=H.indexOf(n.key);-1===e&&(e=0);var r=H.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(R=!0,$(o))}(t)})}}var V=k(b()),H=[V.key];function C(t){return A+d(t)}function $(t){e.go(t)}var I=0;function q(t){1===(I+=t)&&1===t?(window.addEventListener(y,D),i&&window.addEventListener(g,S)):0===I&&(window.removeEventListener(y,D),i&&window.removeEventListener(g,S))}var M=!1;var B={length:e.length,action:"POP",location:V,createHref:C,push:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),B.location);L.confirmTransitionTo(i,"PUSH",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.pushState({key:c,state:u},null,r),E)window.location.href=r;else{var s=H.indexOf(B.location.key),f=H.slice(0,-1===s?0:s+1);f.push(i.key),H=f,_({action:"PUSH",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),B.location);L.confirmTransitionTo(i,"REPLACE",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.replaceState({key:c,state:u},null,r),E)window.location.replace(r);else{var s=H.indexOf(B.location.key);-1!==s&&(H[s]=i.key),_({action:"REPLACE",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:$,goBack:function(){$(-1)},goForward:function(){$(1)},block:function(t){void 0===t&&(t=!1);var n=L.setPrompt(t);return M||(q(1),M=!0),function(){return M&&(M=!1,q(-1)),n()}},listen:function(t){var n=L.appendListener(t);return q(1),function(){q(-1),n()}}};return B}var E="hashchange",P={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+s(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:s,decodePath:u},slash:{encodePath:u,decodePath:u}};function j(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)}function x(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)}function T(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Hash history needs a DOM"):Object(c.a)(!1));var e=window.history,o=-1===window.navigator.userAgent.indexOf("Firefox"),s=n,y=s.getUserConfirmation,g=void 0===y?w:y,b=s.hashType,O=void 0===b?"slash":b,T=n.basename?l(u(n.basename)):"",A=P[O],k=A.encodePath,N=A.decodePath;function L(){var n=N(j());return"production"!==t.env.NODE_ENV&&Object(a.a)(!T||f(n,T),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+n+'" to begin with "'+T+'".'),T&&(n=h(n,T)),p(n)}var _=v();function D(t){Object(r.a)(F,t),F.length=e.length,_.notifyListeners(F.location,F.action)}var S=!1,R=null;function U(){var t=j(),n=k(t);if(t!==n)x(n);else{var e=L(),r=F.location;if(!S&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&Object(i.a)(t.state,n.state)}(r,e))return;if(R===d(e))return;R=null,function(t){if(S)S=!1,D();else{_.confirmTransitionTo(t,"POP",g,function(n){n?D({action:"POP",location:t}):function(t){var n=F.location,e=$.lastIndexOf(d(n));-1===e&&(e=0);var r=$.lastIndexOf(d(t));-1===r&&(r=0);var o=e-r;o&&(S=!0,I(o))}(t)})}}(e)}}var V=j(),H=k(V);V!==H&&x(H);var C=L(),$=[d(C)];function I(n){"production"!==t.env.NODE_ENV&&Object(a.a)(o,"Hash history go(n) causes a full page reload in this browser"),e.go(n)}var q=0;function M(t){1===(q+=t)&&1===t?window.addEventListener(E,U):0===q&&window.removeEventListener(E,U)}var B=!1;var F={length:e.length,action:"POP",location:C,createHref:function(t){return"#"+k(T+d(t))},push:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot push state; it is ignored");var r=p(n,void 0,void 0,F.location);_.confirmTransitionTo(r,"PUSH",g,function(n){if(n){var e=d(r),o=k(T+e);if(j()!==o){R=e,function(t){window.location.hash=t}(o);var i=$.lastIndexOf(d(F.location)),c=$.slice(0,-1===i?0:i+1);c.push(e),$=c,D({action:"PUSH",location:r})}else"production"!==t.env.NODE_ENV&&Object(a.a)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),D()}})},replace:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot replace state; it is ignored");var r=p(n,void 0,void 0,F.location);_.confirmTransitionTo(r,"REPLACE",g,function(t){if(t){var n=d(r),e=k(T+n);j()!==e&&(R=n,x(e));var o=$.indexOf(d(F.location));-1!==o&&($[o]=n),D({action:"REPLACE",location:r})}})},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var n=_.setPrompt(t);return B||(M(1),B=!0),function(){return B&&(B=!1,M(-1)),n()}},listen:function(t){var n=_.appendListener(t);return M(1),function(){M(-1),n()}}};return F}}).call(n,e(0))},function(t,n,e){"use strict";function r(){return(r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}n.a=r},function(t,n,e){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=t&&t.split("/")||[],i=n&&n.split("/")||[],a=t&&r(t),c=n&&r(n),u=a||c;if(t&&r(t)?i=e:e.length&&(i.pop(),i=i.concat(e)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var h=0,l=i.length;l>=0;l--){var d=i[l];"."===d?o(i,l):".."===d?(o(i,l),h++):h&&(o(i,l),h--)}if(!u)for(;h--;h)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a=function t(n,e){if(n===e)return!0;if(null==n||null==e)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(n,r){return t(n,e[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=n.valueOf(),a=e.valueOf();if(i!==n||a!==e)return t(i,a);var c=Object.keys(n),u=Object.keys(e);return c.length===u.length&&c.every(function(r){return t(n[r],e[r])})}return!1}},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV;n.a=function(t,n){if(!e){if(t)return;var r="Warning: "+n;"undefined"!=typeof console&&console.warn(r);try{throw Error(r)}catch(t){}}}}).call(n,e(0))},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV,r="Invariant failed";n.a=function(t,n){if(!t)throw e?new Error(r):new Error(r+": "+(n||""))}}).call(n,e(0))},function(t,n,e){!function(n,e){t.exports=e()}(0,function(){"use strict";var t=/\/$/,n=/^\//,e=/[()]/g,r=/\((.*?)\)/g,o=/\*\w+/g,i=/(\(\?)?:\w+/,a=/(\(\?)?:\w+/g,c=/[-{}[\]+?.,\\^$|#\s]/g;function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,n){return t=t||"",function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var n in t)if(hasOwnProperty.call(t,n))return!1;return!0}(n=n||[])?function(t){return t.replace(r,"")}(t):f(function(t){return t.replace(e,"")}(t=function(t,n){if(!u(n=n||[])){var e=t.match(a);e&&(n=e.map(function(t){return n[t.substr(1)]}))}u(n)&&n.forEach(function(n){n&&(t=function(t,n){var e=-1!==t.indexOf(":");if(n=encodeURIComponent(n),e)return t.replace(i,n);return t.replace(o,n)}(t,n))});var c=t.match(r);c&&c.forEach(function(n){(function(t){return i.test(t)||o.test(t)})(n)&&(t=t.replace(n,""))});return t}(t,n)))}function f(n){return n.replace(t,"")}function h(t){var e=t.host,r=t.path,o=t.query,i=t.hash;e=f(e);var a=r.split("?"),c=a[0],u=a[1];return r=(r=f(function(t){return t.replace(n,"")}(c)))?"/"+r:"",u=u?u+"&":"",""+e+r+(o=o?"?"+u+o:"")+(i=i?"#"+i:"")}function l(t,n){for(var e=[],r=0;r<t.length;r++){var o=t[r];o[n]&&""===o.value&&e.push(o)}return e}function d(t){return{named:t&&t.match(a)||[],splat:t&&t.match(o)||[]}}function p(t){return t=t.replace(c,"\\$&").replace(r,"(?:$1)?").replace(a,function(t,n){return n?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")}function v(t){return s((t=t||{}).path,t.params)}function m(t){var n=[];for(var e in(t=t||{}).query){var r=t.query[e];n.push(e+"="+encodeURIComponent(r))}return n.length?n.join("&"):""}function w(t,n){var e={},r=d(t),o=0;return r.named.forEach(i),r.splat.forEach(i),e;function i(t){e[t.slice(1)]=n[o++]}}return{build:function(t){(t=t||{}).host=t.host||"";var n=v(t),e=m(t);return h({host:t.host,path:n,query:e,hash:t.hash})},test:function(t){return p((t=t||{}).path).test(t.url)},stats:function(t,n){var e=t.match(r)||[],o=d(t),i=o.named,a=o.splat,c=i.concat(a);return u(n=n||{})&&(n=w(t,n)),{params:c=c.map(function(t){for(var r=!1,o=0;o<e.length;o++)if(-1!==e[o].indexOf(t)){r=!0;break}return{name:t,value:n[t.slice(1)]||"",optional:r,required:!r}}),hasOptionalParams:r.test(t),missingOptionalParams:l(c,"optional"),missingRequiredParams:l(c,"required"),missingParams:l(c,"name")}},parse:function(t){void 0===t&&(t={});var n=t.path,e=t.definition,r=t.object;if(!n&&!e)throw new Error("url-composer: Missing path and definition");var o=p(e).exec(n);if(!o)return null;var i=(o=o.slice(1)).map(function(t,n){return n===o.length-1?t||null:t?decodeURIComponent(t):null});if(r){var a=i.pop();(i=w(e,i)).query=a}return i},params:w,path:v,query:m,regex:p,match:d}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzEzNjUwYzA0OTg4ZTRmYzQxMWQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lc20vaGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvdGlueS1pbnZhcmlhbnQuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwtY29tcG9zZXIvZGlzdC91cmwtY29tcG9zZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiZSIsInRoaXMiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwicHVzaCIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInZhbHVlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfX19kZWZhdWx0IiwiSGlzdG9yeVJvdXRlciIsIltvYmplY3QgT2JqZWN0XSIsIm9wdGlvbnMiLCJoYXNoIiwiaGlzdG9yeSIsImJsb2NrIiwibG9jYXRpb24iLCJwYXRoIiwicGF0aG5hbWUiLCJzZWFyY2giLCJ3aGVyZSIsInRvIiwiZnJvbSIsInJlc3BvbnNlIiwicm91dGVzIiwicm91dGUiLCJhIiwidGVzdCIsInVybCIsIm1pZGRsZXdhcmUiLCJtaWRkbGV3YXJlcyIsIm5leHQiLCJkYXRhIiwiRnVuY3Rpb24iLCJjYWxsYmFjayIsInBhcmFtcyIsInBhcnNlIiwiZGVmaW5pdGlvbiIsIndpbmRvdyIsImNyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiY3JlYXRlSGFzaEhpc3RvcnkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2JhYmVsX3J1bnRpbWVfaGVscGVyc19lc21fZXh0ZW5kc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Jlc29sdmVfcGF0aG5hbWVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl92YWx1ZV9lcXVhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3Rpbnlfd2FybmluZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X3RpbnlfaW52YXJpYW50X18iLCJhZGRMZWFkaW5nU2xhc2giLCJjaGFyQXQiLCJzdHJpcExlYWRpbmdTbGFzaCIsInN1YnN0ciIsImhhc0Jhc2VuYW1lIiwicHJlZml4IiwiUmVnRXhwIiwic3RyaXBCYXNlbmFtZSIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInNsaWNlIiwiY3JlYXRlUGF0aCIsImNyZWF0ZUxvY2F0aW9uIiwic3RhdGUiLCJrZXkiLCJjdXJyZW50TG9jYXRpb24iLCJoYXNoSW5kZXgiLCJpbmRleE9mIiwic2VhcmNoSW5kZXgiLCJwYXJzZVBhdGgiLCJ1bmRlZmluZWQiLCJkZWNvZGVVUkkiLCJVUklFcnJvciIsImNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwicHJvbXB0Iiwic2V0UHJvbXB0IiwibmV4dFByb21wdCIsIk5PREVfRU5WIiwiY29uZmlybVRyYW5zaXRpb25UbyIsImFjdGlvbiIsImdldFVzZXJDb25maXJtYXRpb24iLCJyZXN1bHQiLCJhcHBlbmRMaXN0ZW5lciIsImZuIiwiaXNBY3RpdmUiLCJsaXN0ZW5lciIsImZpbHRlciIsIml0ZW0iLCJub3RpZnlMaXN0ZW5lcnMiLCJfbGVuIiwiX2tleSIsImZvckVhY2giLCJjYW5Vc2VET00iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb25maXJtYXRpb24iLCJtZXNzYWdlIiwiY29uZmlybSIsIlBvcFN0YXRlRXZlbnQiLCJIYXNoQ2hhbmdlRXZlbnQiLCJnZXRIaXN0b3J5U3RhdGUiLCJwcm9wcyIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5IiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0hpc3RvcnkiLCJuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciIsIl9wcm9wcyIsIl9wcm9wcyRmb3JjZVJlZnJlc2giLCJmb3JjZVJlZnJlc2giLCJfcHJvcHMkZ2V0VXNlckNvbmZpcm0iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJzZXRTdGF0ZSIsIm5leHRTdGF0ZSIsImhhbmRsZVBvcFN0YXRlIiwiZXZlbnQiLCJpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50IiwiaGFuZGxlUG9wIiwiaGFuZGxlSGFzaENoYW5nZSIsImZvcmNlTmV4dFBvcCIsIm9rIiwiZnJvbUxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsInRvSW5kZXgiLCJhbGxLZXlzIiwiZnJvbUluZGV4IiwiZGVsdGEiLCJnbyIsInJldmVydFBvcCIsImluaXRpYWxMb2NhdGlvbiIsImNyZWF0ZUhyZWYiLCJsaXN0ZW5lckNvdW50IiwiY2hlY2tET01MaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzQmxvY2tlZCIsImhyZWYiLCJwdXNoU3RhdGUiLCJwcmV2SW5kZXgiLCJuZXh0S2V5cyIsInJlcGxhY2UiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJ1bmJsb2NrIiwibGlzdGVuIiwidW5saXN0ZW4iLCJIYXNoQ2hhbmdlRXZlbnQkMSIsIkhhc2hQYXRoQ29kZXJzIiwiaGFzaGJhbmciLCJlbmNvZGVQYXRoIiwiZGVjb2RlUGF0aCIsIm5vc2xhc2giLCJzbGFzaCIsImdldEhhc2hQYXRoIiwic3Vic3RyaW5nIiwicmVwbGFjZUhhc2hQYXRoIiwiY2FuR29XaXRob3V0UmVsb2FkIiwiX3Byb3BzJGhhc2hUeXBlIiwiaGFzaFR5cGUiLCJfSGFzaFBhdGhDb2RlcnMkaGFzaFQiLCJpZ25vcmVQYXRoIiwiZW5jb2RlZFBhdGgiLCJwcmV2TG9jYXRpb24iLCJiIiwibG9jYXRpb25zQXJlRXF1YWwiLCJhbGxQYXRocyIsImxhc3RJbmRleE9mIiwicHVzaEhhc2hQYXRoIiwibmV4dFBhdGhzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsImluZGV4IiwiayIsInBvcCIsInRvUGFydHMiLCJzcGxpdCIsImZyb21QYXJ0cyIsImlzVG9BYnMiLCJpc0Zyb21BYnMiLCJtdXN0RW5kQWJzIiwiaGFzVHJhaWxpbmdTbGFzaCIsImxhc3QiLCJ1cCIsInBhcnQiLCJ1bnNoaWZ0Iiwiam9pbiIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwidmFsdWVFcXVhbCIsImlzQXJyYXkiLCJldmVyeSIsImFUeXBlIiwiYVZhbHVlIiwidmFsdWVPZiIsImJWYWx1ZSIsImFLZXlzIiwia2V5cyIsImJLZXlzIiwiaXNQcm9kdWN0aW9uIiwiY29uZGl0aW9uIiwidGV4dCIsImNvbnNvbGUiLCJ3YXJuIiwieCIsImdsb2JhbCIsImZhY3RvcnkiLCJUUkFJTElOR19TTEFTSCIsIkxFQURJTkdfU0xBU0giLCJQQVJFTlRIRVNFUyIsIk9QVElPTkFMX1BBUkFNUyIsIlNQTEFUX1BBUkFNUyIsIk5BTUVEX1BBUkFNIiwiTkFNRURfUEFSQU1TIiwiRVNDQVBFIiwiY29tcG9zZVBhdGgiLCJpc0VtcHR5IiwicmVtb3ZlT3B0aW9uYWxQYXJhbXMiLCJyZW1vdmVUcmFpbGluZ1NsYXNoIiwicmVtb3ZlUGFyZW50aGVzZXMiLCJwYXJhbU5hbWVzIiwibWF0Y2giLCJtYXAiLCJhcmciLCJoYXNOYW1lZFBhcmFtIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZUFyZyIsIm1hdGNoZXMiLCJwYXJhbSIsImlzTmFtZWRPclNwbGF0UGFyYW0iLCJyZXBsYWNlQXJncyIsInNtYXJ0Q29uY2F0IiwicmVmIiwiaG9zdCIsInF1ZXJ5IiwicmVmJDEiLCJwYXRoUGFydCIsInF1ZXJ5UGFydCIsInJlbW92ZUxlYWRpbmdTbGFzaCIsInRlc3RQYXJhbWV0ZXIiLCJmaWVsZCIsImdldFBhcmFtc01hdGNoIiwibmFtZWQiLCJzcGxhdCIsInJvdXRlVG9SZWdleCIsIm9wdGlvbmFsIiwiYnVpbGRQYXRoIiwiYnVpbGRRdWVyeSIsInBhcmFtc0FycmF5Mk9iamVjdCIsImNvbXBvc2UiLCJidWlsZCIsInN0YXRzIiwiaXNPcHRpb25hbCIsInJlcXVpcmVkIiwiaGFzT3B0aW9uYWxQYXJhbXMiLCJtaXNzaW5nT3B0aW9uYWxQYXJhbXMiLCJtaXNzaW5nUmVxdWlyZWRQYXJhbXMiLCJtaXNzaW5nUGFyYW1zIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlZ2V4Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFoQixHQUNBLElBQUFTLEVBQUFULEtBQUFpQixXQUNBLFdBQTJCLE9BQUFqQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBUSxFQUFBQyxHQUFzRCxPQUFBUixPQUFBUyxVQUFBQyxlQUFBakIsS0FBQWMsRUFBQUMsSUFHdER0QixFQUFBeUIsRUFBQSxJQUdBekIsSUFBQTBCLEVBQUEsbUJDNURBLElBT0FDLEVBQ0FDLEVBUkFDLEVBQUExQixFQUFBRCxXQVVBLFNBQUE0QixJQUNBLFVBQUFDLE1BQUEsbUNBRUEsU0FBQUMsSUFDQSxVQUFBRCxNQUFBLHFDQXNCQSxTQUFBRSxFQUFBQyxHQUNBLEdBQUFQLElBQUFRLFdBRUEsT0FBQUEsV0FBQUQsRUFBQSxHQUdBLElBQUFQLElBQUFHLElBQUFILElBQUFRLFdBRUEsT0FEQVIsRUFBQVEsV0FDQUEsV0FBQUQsRUFBQSxHQUVBLElBRUEsT0FBQVAsRUFBQU8sRUFBQSxHQUNLLE1BQUFFLEdBQ0wsSUFFQSxPQUFBVCxFQUFBcEIsS0FBQSxLQUFBMkIsRUFBQSxHQUNTLE1BQUFFLEdBRVQsT0FBQVQsRUFBQXBCLEtBQUE4QixLQUFBSCxFQUFBLE1BdkNBLFdBQ0EsSUFFQVAsRUFEQSxtQkFBQVEsV0FDQUEsV0FFQUwsRUFFSyxNQUFBTSxHQUNMVCxFQUFBRyxFQUVBLElBRUFGLEVBREEsbUJBQUFVLGFBQ0FBLGFBRUFOLEVBRUssTUFBQUksR0FDTFIsRUFBQUksR0FqQkEsR0F3RUEsSUFFQU8sRUFGQUMsS0FDQUMsR0FBQSxFQUVBQyxHQUFBLEVBRUEsU0FBQUMsSUFDQUYsR0FBQUYsSUFHQUUsR0FBQSxFQUNBRixFQUFBSyxPQUNBSixFQUFBRCxFQUFBTSxPQUFBTCxHQUVBRSxHQUFBLEVBRUFGLEVBQUFJLFFBQ0FFLEtBSUEsU0FBQUEsSUFDQSxJQUFBTCxFQUFBLENBR0EsSUFBQU0sRUFBQWQsRUFBQVUsR0FDQUYsR0FBQSxFQUdBLElBREEsSUFBQU8sRUFBQVIsRUFBQUksT0FDQUksR0FBQSxDQUdBLElBRkFULEVBQUFDLEVBQ0FBLE9BQ0FFLEVBQUFNLEdBQ0FULEdBQ0FBLEVBQUFHLEdBQUFPLE1BR0FQLEdBQUEsRUFDQU0sRUFBQVIsRUFBQUksT0FFQUwsRUFBQSxLQUNBRSxHQUFBLEVBbkVBLFNBQUFTLEdBQ0EsR0FBQXRCLElBQUFVLGFBRUEsT0FBQUEsYUFBQVksR0FHQSxJQUFBdEIsSUFBQUksSUFBQUosSUFBQVUsYUFFQSxPQURBVixFQUFBVSxhQUNBQSxhQUFBWSxHQUVBLElBRUF0QixFQUFBc0IsR0FDSyxNQUFBZCxHQUNMLElBRUEsT0FBQVIsRUFBQXJCLEtBQUEsS0FBQTJDLEdBQ1MsTUFBQWQsR0FHVCxPQUFBUixFQUFBckIsS0FBQThCLEtBQUFhLEtBZ0RBQyxDQUFBSixJQWlCQSxTQUFBSyxFQUFBbEIsRUFBQW1CLEdBQ0FoQixLQUFBSCxNQUNBRyxLQUFBZ0IsUUFZQSxTQUFBQyxLQTVCQXpCLEVBQUEwQixTQUFBLFNBQUFyQixHQUNBLElBQUFzQixFQUFBLElBQUFDLE1BQUFDLFVBQUFkLE9BQUEsR0FDQSxHQUFBYyxVQUFBZCxPQUFBLEVBQ0EsUUFBQXhDLEVBQUEsRUFBdUJBLEVBQUFzRCxVQUFBZCxPQUFzQnhDLElBQzdDb0QsRUFBQXBELEVBQUEsR0FBQXNELFVBQUF0RCxHQUdBb0MsRUFBQW1CLEtBQUEsSUFBQVAsRUFBQWxCLEVBQUFzQixJQUNBLElBQUFoQixFQUFBSSxRQUFBSCxHQUNBUixFQUFBYSxJQVNBTSxFQUFBN0IsVUFBQTBCLElBQUEsV0FDQVosS0FBQUgsSUFBQTBCLE1BQUEsS0FBQXZCLEtBQUFnQixRQUVBeEIsRUFBQWdDLE1BQUEsVUFDQWhDLEVBQUFpQyxTQUFBLEVBQ0FqQyxFQUFBa0MsT0FDQWxDLEVBQUFtQyxRQUNBbkMsRUFBQW9DLFFBQUEsR0FDQXBDLEVBQUFxQyxZQUlBckMsRUFBQXNDLEdBQUFiLEVBQ0F6QixFQUFBdUMsWUFBQWQsRUFDQXpCLEVBQUF3QyxLQUFBZixFQUNBekIsRUFBQXlDLElBQUFoQixFQUNBekIsRUFBQTBDLGVBQUFqQixFQUNBekIsRUFBQTJDLG1CQUFBbEIsRUFDQXpCLEVBQUE0QyxLQUFBbkIsRUFDQXpCLEVBQUE2QyxnQkFBQXBCLEVBQ0F6QixFQUFBOEMsb0JBQUFyQixFQUVBekIsRUFBQStDLFVBQUEsU0FBQWpFLEdBQXFDLFVBRXJDa0IsRUFBQWdELFFBQUEsU0FBQWxFLEdBQ0EsVUFBQW9CLE1BQUEscUNBR0FGLEVBQUFpRCxJQUFBLFdBQTJCLFdBQzNCakQsRUFBQWtELE1BQUEsU0FBQUMsR0FDQSxVQUFBakQsTUFBQSxtQ0FFQUYsRUFBQW9ELE1BQUEsV0FBNEIsd0NDdkw1Qm5FLE9BQUFDLGVBQUFtRSxFQUFBLGNBQUFDLE9BQUEsUUFBQUMsRUFBQXBGLEVBQUEsR0FBQXFGLEVBQUFyRixFQUFBLEdBQUFzRixFQUFBdEYsRUFBQW1CLEVBQUFrRSxTQUdBRSxFQU1BQyxZQUFBQyxNQUdBcEQsS0FBQW9ELFNBQ0FDLE1BQUFELEVBQUFqRSxlQUFBLFNBQ0FpRSxFQUFBQyxNQUtBckQsS0FBQXNELFFBQUF0RCxLQUFBb0QsUUFBQUMsS0FDUTVFLE9BQUFzRSxFQUFBLEVBQUF0RSxDQUFpQnVCLEtBQUFvRCxRQUFBRSxTQUNqQjdFLE9BQUFzRSxFQUFBLEVBQUF0RSxDQUFvQnVCLEtBQUFvRCxRQUFBRSxTQUk1QnRELEtBQUFzRCxRQUFBQyxNQUFBQyxJQUVBLElBQUFDLEtBQW9CRCxFQUFBRSxXQUFvQkYsRUFBQUcsU0FBa0JILEVBQUFILE9BQzFETyxHQUNBQyxHQUFBTCxFQUNBTSxLQUFBOUQsS0FBQXNELFFBQUFFLFVBRUFPLEdBQUEsRUFFQSxRQUFBaEcsRUFBQSxFQUFvQkEsRUFBQWlDLEtBQUFnRSxPQUFBekQsT0FBd0J4QyxJQUFBLENBRTVDLElBQUFrRyxFQUFBakUsS0FBQWdFLE9BQUFqRyxHQU1BLEdBTDJCa0YsRUFBQWlCLEVBQUdDLEtBQUFuRSxLQUFBb0QsUUFBQUMsTUFDYkksV0FBYVEsRUFBQVIsT0FBV1csVUFBY1gsTUFDdENBLEtBQUFRLEVBQUFSLEtBQUFXLElBQUFYLElBR2pCLENBTUEsSUFBQVksRUFBQSxDQUFBQyxHQUEwQ1IsT0FBQUQsTUFBV0UsRUFBQSxRQUVyRCxHQUFBTyxFQUFBL0QsT0FBQSxDQUNBLElBQUFnRSxFQUFBQyxHQUFBVCxFQUFBUyxhQUFBQyxTQUFBRCxNQUNBLFFBQUF6RyxFQUFBLEVBQTRCQSxFQUFBdUcsRUFBQS9ELE9BQXdCeEMsSUFFcEQsR0FEQXVHLEVBQUF2RyxJQUFnQzhGLEtBQUFDLE9BQUFTLE9BQUFSLGNBQ2hDQSxFQUNBLFNBSUEsT0FBQUEsRUFHQSxVQVVBLE9BTkFBLEVBQUFNLEVBQUFyRSxLQUFBc0UsWUFBQVYsS0FFQUssRUFBQUssWUFBQS9ELFNBQ0F3RCxFQUFBTSxFQUFBSixFQUFBSyxZQUFBVixFQUFBRyxNQUdBQSxHQUNBRSxFQUFBUyxVQUNBbEIsV0FDQW1CLE9BQXNCMUIsRUFBQWlCLEVBQUdVLE9BQVFuQixPQUFBb0IsV0FBQVosRUFBQVIsS0FBQXpFLFFBQUEsSUFDakMrRSxpQkFVQS9ELEtBQUFnRSxPQUFBLElBQUE1QyxNQUdBcEIsS0FBQXNFLFlBQUEsSUFBQWxELE1BVUErQixLQUFBTSxFQUFBaUIsRUFBQUosTUFHQSxPQURBdEUsS0FBQWdFLE9BQUExQyxNQUFzQm1DLE9BQUFpQixXQUFBSixnQkFDdEJ0RSxLQVFBbUQsV0FBQXVCLEdBR0EsT0FEQTFFLEtBQUFzRSxZQUFBaEQsS0FBQW9ELEdBQ0ExRSxNQUtBOEUsT0FBQTVCLGdCQUVlTCxFQUFBLHlDQ3hIZixTQUFBckQsR0FBQTdCLEVBQUFVLEVBQUF3RSxFQUFBLHNCQUFBa0MsSUFBQXBILEVBQUFVLEVBQUF3RSxFQUFBLHNCQUFBbUMsSUFBQSxJQUFBQyxFQUFBdEgsRUFBQSxHQUFBdUgsRUFBQXZILEVBQUEsR0FBQXdILEVBQUF4SCxFQUFBLEdBQUF5SCxFQUFBekgsRUFBQSxHQUFBMEgsRUFBQTFILEVBQUEsR0FNQSxTQUFBMkgsRUFBQTdCLEdBQ0EsWUFBQUEsRUFBQThCLE9BQUEsR0FBQTlCLEVBQUEsSUFBQUEsRUFFQSxTQUFBK0IsRUFBQS9CLEdBQ0EsWUFBQUEsRUFBQThCLE9BQUEsR0FBQTlCLEVBQUFnQyxPQUFBLEdBQUFoQyxFQUVBLFNBQUFpQyxFQUFBakMsRUFBQWtDLEdBQ0EsV0FBQUMsT0FBQSxJQUFBRCxFQUFBLHFCQUFBeEIsS0FBQVYsR0FFQSxTQUFBb0MsRUFBQXBDLEVBQUFrQyxHQUNBLE9BQUFELEVBQUFqQyxFQUFBa0MsR0FBQWxDLEVBQUFnQyxPQUFBRSxFQUFBcEYsUUFBQWtELEVBRUEsU0FBQXFDLEVBQUFyQyxHQUNBLFlBQUFBLEVBQUE4QixPQUFBOUIsRUFBQWxELE9BQUEsR0FBQWtELEVBQUFzQyxNQUFBLE1BQUF0QyxFQTBCQSxTQUFBdUMsRUFBQXhDLEdBQ0EsSUFBQUUsRUFBQUYsRUFBQUUsU0FDQUMsRUFBQUgsRUFBQUcsT0FDQU4sRUFBQUcsRUFBQUgsS0FDQUksRUFBQUMsR0FBQSxJQUdBLE9BRkFDLEdBQUEsTUFBQUEsSUFBQUYsR0FBQSxNQUFBRSxFQUFBNEIsT0FBQSxHQUFBNUIsRUFBQSxJQUFBQSxHQUNBTixHQUFBLE1BQUFBLElBQUFJLEdBQUEsTUFBQUosRUFBQWtDLE9BQUEsR0FBQWxDLEVBQUEsSUFBQUEsR0FDQUksRUFHQSxTQUFBd0MsRUFBQXhDLEVBQUF5QyxFQUFBQyxFQUFBQyxHQUNBLElBQUE1QyxFQUVBLGlCQUFBQyxHQUVBRCxFQXZDQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEdBQUEsSUFDQUUsRUFBQSxHQUNBTixFQUFBLEdBQ0FnRCxFQUFBM0MsRUFBQTRDLFFBQUEsTUFFQSxJQUFBRCxJQUNBaEQsRUFBQUssRUFBQStCLE9BQUFZLEdBQ0EzQyxJQUFBK0IsT0FBQSxFQUFBWSxJQUdBLElBQUFFLEVBQUE3QyxFQUFBNEMsUUFBQSxLQU9BLE9BTEEsSUFBQUMsSUFDQTVDLEVBQUFELEVBQUErQixPQUFBYyxHQUNBN0MsSUFBQStCLE9BQUEsRUFBQWMsS0FJQTdDLFdBQ0FDLE9BQUEsTUFBQUEsRUFBQSxHQUFBQSxFQUNBTixLQUFBLE1BQUFBLEVBQUEsR0FBQUEsR0FrQkFtRCxDQUFBL0MsSUFDQXlDLGNBSUFPLEtBREFqRCxFQUFlL0UsT0FBQXdHLEVBQUEsRUFBQXhHLElBQVdnRixJQUMxQkMsV0FBQUYsRUFBQUUsU0FBQSxJQUVBRixFQUFBRyxPQUNBLE1BQUFILEVBQUFHLE9BQUE0QixPQUFBLEtBQUEvQixFQUFBRyxPQUFBLElBQUFILEVBQUFHLFFBRUFILEVBQUFHLE9BQUEsR0FHQUgsRUFBQUgsS0FDQSxNQUFBRyxFQUFBSCxLQUFBa0MsT0FBQSxLQUFBL0IsRUFBQUgsS0FBQSxJQUFBRyxFQUFBSCxNQUVBRyxFQUFBSCxLQUFBLFFBR0FvRCxJQUFBUCxRQUFBTyxJQUFBakQsRUFBQTBDLFFBQUExQyxFQUFBMEMsVUFHQSxJQUNBMUMsRUFBQUUsU0FBQWdELFVBQUFsRCxFQUFBRSxVQUNHLE1BQUEzRCxHQUNILE1BQUFBLGFBQUE0RyxTQUNBLElBQUFBLFNBQUEsYUFBQW5ELEVBQUFFLFNBQUEsaUZBRUEzRCxFQW9CQSxPQWhCQW9HLElBQUEzQyxFQUFBMkMsT0FFQUMsRUFFQTVDLEVBQUFFLFNBRUssTUFBQUYsRUFBQUUsU0FBQTZCLE9BQUEsS0FDTC9CLEVBQUFFLFNBQTBCakYsT0FBQXlHLEVBQUEsRUFBQXpHLENBQWUrRSxFQUFBRSxTQUFBMEMsRUFBQTFDLFdBRnpDRixFQUFBRSxTQUFBMEMsRUFBQTFDLFNBTUFGLEVBQUFFLFdBQ0FGLEVBQUFFLFNBQUEsS0FJQUYsRUFNQSxTQUFBb0QsSUFDQSxJQUFBQyxFQUFBLEtBaUNBLElBQUF0RSxLQTRCQSxPQUNBdUUsVUE1REEsU0FBQUMsR0FHQSxNQUZBLGVBQUF2SCxFQUFBa0MsSUFBQXNGLFVBQTRDdkksT0FBQTJHLEVBQUEsRUFBQTNHLENBQU8sTUFBQW9JLEVBQUEsZ0RBQ25EQSxFQUFBRSxFQUNBLFdBQ0FGLElBQUFFLElBQUFGLEVBQUEsUUF5REFJLG9CQXJEQSxTQUFBekQsRUFBQTBELEVBQUFDLEVBQUF6QyxHQUlBLFNBQUFtQyxFQUFBLENBQ0EsSUFBQU8sRUFBQSxtQkFBQVAsSUFBQXJELEVBQUEwRCxHQUFBTCxFQUVBLGlCQUFBTyxFQUNBLG1CQUFBRCxFQUNBQSxFQUFBQyxFQUFBMUMsSUFFQSxlQUFBbEYsRUFBQWtDLElBQUFzRixVQUFrRHZJLE9BQUEyRyxFQUFBLEVBQUEzRyxFQUFPLHFGQUN6RGlHLEdBQUEsSUFJQUEsR0FBQSxJQUFBMEMsUUFHQTFDLEdBQUEsSUFtQ0EyQyxlQTdCQSxTQUFBQyxHQUNBLElBQUFDLEdBQUEsRUFFQSxTQUFBQyxJQUNBRCxHQUFBRCxFQUFBL0YsV0FBQSxFQUFBRixXQUlBLE9BREFrQixFQUFBakIsS0FBQWtHLEdBQ0EsV0FDQUQsR0FBQSxFQUNBaEYsSUFBQWtGLE9BQUEsU0FBQUMsR0FDQSxPQUFBQSxJQUFBRixNQW1CQUcsZ0JBZEEsV0FDQSxRQUFBQyxFQUFBdkcsVUFBQWQsT0FBQVksRUFBQSxJQUFBQyxNQUFBd0csR0FBQUMsRUFBQSxFQUF1RUEsRUFBQUQsRUFBYUMsSUFDcEYxRyxFQUFBMEcsR0FBQXhHLFVBQUF3RyxHQUdBdEYsRUFBQXVGLFFBQUEsU0FBQU4sR0FDQSxPQUFBQSxFQUFBakcsV0FBQSxFQUFBSixPQVlBLElBQUE0RyxJQUFBLG9CQUFBakQsZ0JBQUFrRCxXQUFBbEQsT0FBQWtELFNBQUFDLGVBQ0EsU0FBQUMsRUFBQUMsRUFBQXpELEdBQ0FBLEVBQUFJLE9BQUFzRCxRQUFBRCxJQXdDQSxJQUFBRSxFQUFBLFdBQ0FDLEVBQUEsYUFFQSxTQUFBQyxJQUNBLElBQ0EsT0FBQXpELE9BQUF4QixRQUFBNEMsVUFDRyxNQUFBbkcsR0FHSCxVQVNBLFNBQUFnRixFQUFBeUQsUUFDQSxJQUFBQSxJQUNBQSxNQUdBVCxJQUFBLGVBQUF2SSxFQUFBa0MsSUFBQXNGLFNBQXVEdkksT0FBQTRHLEVBQUEsRUFBQTVHLEVBQVMsaUNBQXlDQSxPQUFBNEcsRUFBQSxFQUFBNUcsRUFBUyxJQUNsSCxJQUFBZ0ssRUFBQTNELE9BQUF4QixRQUNBb0YsRUF2REEsV0FDQSxJQUFBQyxFQUFBN0QsT0FBQThELFVBQUFDLFVBQ0EsWUFBQUYsRUFBQXJDLFFBQUEsb0JBQUFxQyxFQUFBckMsUUFBQSxxQkFBQXFDLEVBQUFyQyxRQUFBLHVCQUFBcUMsRUFBQXJDLFFBQUEsZ0JBQUFxQyxFQUFBckMsUUFBQSxtQkFDQXhCLE9BQUF4QixTQUFBLGNBQUF3QixPQUFBeEIsUUFvREF3RixHQUNBQyxLQTdDQSxJQUFBakUsT0FBQThELFVBQUFDLFVBQUF2QyxRQUFBLFlBOENBMEMsRUFBQVIsRUFDQVMsRUFBQUQsRUFBQUUsYUFDQUEsT0FBQSxJQUFBRCxLQUNBRSxFQUFBSCxFQUFBN0Isb0JBQ0FBLE9BQUEsSUFBQWdDLEVBQUFqQixFQUFBaUIsRUFDQUMsRUFBQUosRUFBQUssVUFDQUEsT0FBQSxJQUFBRCxFQUFBLEVBQUFBLEVBQ0FFLEVBQUFkLEVBQUFjLFNBQUF4RCxFQUFBUixFQUFBa0QsRUFBQWMsV0FBQSxHQUVBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsTUFDQXJELEVBQUFzRCxFQUFBdEQsSUFDQUQsRUFBQXVELEVBQUF2RCxNQUVBd0QsRUFBQTVFLE9BQUF0QixTQUlBQyxFQUhBaUcsRUFBQWhHLFNBQ0FnRyxFQUFBL0YsT0FDQStGLEVBQUFyRyxLQUlBLE1BRkEsZUFBQTdELEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csRUFBTzZLLEdBQUE1RCxFQUFBakMsRUFBQTZGLEdBQUEsa0hBQUE3RixFQUFBLG9CQUFBNkYsRUFBQSxNQUNuREEsSUFBQTdGLEVBQUFvQyxFQUFBcEMsRUFBQTZGLElBQ0FyRCxFQUFBeEMsRUFBQXlDLEVBQUFDLEdBR0EsU0FBQXdELElBQ0EsT0FBQUMsS0FBQUMsU0FBQUMsU0FBQSxJQUFBckUsT0FBQSxFQUFBNEQsR0FHQSxJQUFBVSxFQUFBbkQsSUFFQSxTQUFBb0QsRUFBQUMsR0FDSXhMLE9BQUF3RyxFQUFBLEVBQUF4RyxDQUFRNkUsRUFBQTJHLEdBRVozRyxFQUFBL0MsT0FBQWtJLEVBQUFsSSxPQUNBd0osRUFBQXBDLGdCQUFBckUsRUFBQUUsU0FBQUYsRUFBQTRELFFBR0EsU0FBQWdELEVBQUFDLElBcEVBLFNBQUFBLFFBQ0ExRCxJQUFBMEQsRUFBQWpFLE9BQUEwQyxVQUFBQyxVQUFBdkMsUUFBQSxVQXFFQThELENBQUFELElBQ0FFLEVBQUFkLEVBQUFZLEVBQUFqRSxRQUdBLFNBQUFvRSxJQUNBRCxFQUFBZCxFQUFBaEIsTUFHQSxJQUFBZ0MsR0FBQSxFQUVBLFNBQUFGLEVBQUE3RyxHQUNBLEdBQUErRyxFQUNBQSxHQUFBLEVBQ0FQLFFBQ0ssQ0FFTEQsRUFBQTlDLG9CQUFBekQsRUFEQSxNQUNBMkQsRUFBQSxTQUFBcUQsR0FDQUEsRUFDQVIsR0FDQTlDLE9BSkEsTUFLQTFELGFBU0EsU0FBQWlILEdBQ0EsSUFBQUMsRUFBQXBILEVBQUFFLFNBSUFtSCxFQUFBQyxFQUFBdEUsUUFBQW9FLEVBQUF2RSxNQUNBLElBQUF3RSxNQUFBLEdBQ0EsSUFBQUUsRUFBQUQsRUFBQXRFLFFBQUFtRSxFQUFBdEUsTUFDQSxJQUFBMEUsTUFBQSxHQUNBLElBQUFDLEVBQUFILEVBQUFFLEVBRUFDLElBQ0FQLEdBQUEsRUFDQVEsRUFBQUQsSUFuQkFFLENBQUF4SCxNQXVCQSxJQUFBeUgsRUFBQTFCLEVBQUFoQixLQUNBcUMsR0FBQUssRUFBQTlFLEtBRUEsU0FBQStFLEVBQUExSCxHQUNBLE9BQUE4RixFQUFBdEQsRUFBQXhDLEdBdUVBLFNBQUF1SCxFQUFBak0sR0FDQTJKLEVBQUFzQyxHQUFBak0sR0FXQSxJQUFBcU0sRUFBQSxFQUVBLFNBQUFDLEVBQUFOLEdBR0EsS0FGQUssR0FBQUwsSUFFQSxJQUFBQSxHQUNBaEcsT0FBQXVHLGlCQUFBaEQsRUFBQTZCLEdBQ0FuQixHQUFBakUsT0FBQXVHLGlCQUFBL0MsRUFBQWdDLElBQ0ssSUFBQWEsSUFDTHJHLE9BQUF3RyxvQkFBQWpELEVBQUE2QixHQUNBbkIsR0FBQWpFLE9BQUF3RyxvQkFBQWhELEVBQUFnQyxJQUlBLElBQUFpQixHQUFBLEVBaUNBLElBQUFqSSxHQUNBL0MsT0FBQWtJLEVBQUFsSSxPQUNBMkcsT0FBQSxNQUNBMUQsU0FBQXlILEVBQ0FDLGFBQ0E1SixLQXBJQSxTQUFBbUMsRUFBQXlDLEdBQ0EsZUFBQTFHLEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csR0FBTyxpQkFBQWdGLFFBQUFnRCxJQUFBaEQsRUFBQXlDLFlBQUFPLElBQUFQLEdBQUEsaUpBQ25ELElBQ0ExQyxFQUFBeUMsRUFBQXhDLEVBQUF5QyxFQUFBeUQsSUFBQXJHLEVBQUFFLFVBQ0F1RyxFQUFBOUMsb0JBQUF6RCxFQUZBLE9BRUEyRCxFQUFBLFNBQUFxRCxHQUNBLEdBQUFBLEVBQUEsQ0FDQSxJQUFBZ0IsRUFBQU4sRUFBQTFILEdBQ0EyQyxFQUFBM0MsRUFBQTJDLElBQ0FELEVBQUExQyxFQUFBMEMsTUFFQSxHQUFBd0MsRUFNQSxHQUxBRCxFQUFBZ0QsV0FDQXRGLE1BQ0FELFNBQ1MsS0FBQXNGLEdBRVR0QyxFQUNBcEUsT0FBQXRCLFNBQUFnSSxXQUNTLENBQ1QsSUFBQUUsRUFBQWQsRUFBQXRFLFFBQUFoRCxFQUFBRSxTQUFBMkMsS0FDQXdGLEVBQUFmLEVBQUE3RSxNQUFBLE9BQUEyRixFQUFBLEVBQUFBLEVBQUEsR0FDQUMsRUFBQXJLLEtBQUFrQyxFQUFBMkMsS0FDQXlFLEVBQUFlLEVBQ0EzQixHQUNBOUMsT0F0QkEsT0F1QkExRCxpQkFJQSxlQUFBaEUsRUFBQWtDLElBQUFzRixVQUFnRHZJLE9BQUEyRyxFQUFBLEVBQUEzRyxNQUFPZ0ksSUFBQVAsRUFBQSxtRkFDdkRwQixPQUFBdEIsU0FBQWdJLFdBdUdBSSxRQWxHQSxTQUFBbkksRUFBQXlDLEdBQ0EsZUFBQTFHLEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csR0FBTyxpQkFBQWdGLFFBQUFnRCxJQUFBaEQsRUFBQXlDLFlBQUFPLElBQUFQLEdBQUEsb0pBQ25ELElBQ0ExQyxFQUFBeUMsRUFBQXhDLEVBQUF5QyxFQUFBeUQsSUFBQXJHLEVBQUFFLFVBQ0F1RyxFQUFBOUMsb0JBQUF6RCxFQUZBLFVBRUEyRCxFQUFBLFNBQUFxRCxHQUNBLEdBQUFBLEVBQUEsQ0FDQSxJQUFBZ0IsRUFBQU4sRUFBQTFILEdBQ0EyQyxFQUFBM0MsRUFBQTJDLElBQ0FELEVBQUExQyxFQUFBMEMsTUFFQSxHQUFBd0MsRUFNQSxHQUxBRCxFQUFBb0QsY0FDQTFGLE1BQ0FELFNBQ1MsS0FBQXNGLEdBRVR0QyxFQUNBcEUsT0FBQXRCLFNBQUFvSSxRQUFBSixPQUNTLENBQ1QsSUFBQUUsRUFBQWQsRUFBQXRFLFFBQUFoRCxFQUFBRSxTQUFBMkMsTUFDQSxJQUFBdUYsSUFBQWQsRUFBQWMsR0FBQWxJLEVBQUEyQyxLQUNBNkQsR0FDQTlDLE9BcEJBLFVBcUJBMUQsaUJBSUEsZUFBQWhFLEVBQUFrQyxJQUFBc0YsVUFBZ0R2SSxPQUFBMkcsRUFBQSxFQUFBM0csTUFBT2dJLElBQUFQLEVBQUEsc0ZBQ3ZEcEIsT0FBQXRCLFNBQUFvSSxRQUFBSixPQXVFQVQsS0FDQWUsT0EvREEsV0FDQWYsR0FBQSxJQStEQWdCLFVBNURBLFdBQ0FoQixFQUFBLElBNERBeEgsTUF6Q0EsU0FBQXNELFFBQ0EsSUFBQUEsSUFDQUEsR0FBQSxHQUdBLElBQUFtRixFQUFBakMsRUFBQWpELFVBQUFELEdBT0EsT0FMQTBFLElBQ0FILEVBQUEsR0FDQUcsR0FBQSxHQUdBLFdBTUEsT0FMQUEsSUFDQUEsR0FBQSxFQUNBSCxHQUFBLElBR0FZLE1Bd0JBQyxPQXBCQSxTQUFBekUsR0FDQSxJQUFBMEUsRUFBQW5DLEVBQUExQyxlQUFBRyxHQUVBLE9BREE0RCxFQUFBLEdBQ0EsV0FDQUEsR0FBQSxHQUNBYyxPQWlCQSxPQUFBNUksRUFHQSxJQUFBNkksRUFBQSxhQUNBQyxHQUNBQyxVQUNBQyxXQUFBLFNBQUE3SSxHQUNBLFlBQUFBLEVBQUE4QixPQUFBLEdBQUE5QixFQUFBLEtBQUErQixFQUFBL0IsSUFFQThJLFdBQUEsU0FBQTlJLEdBQ0EsWUFBQUEsRUFBQThCLE9BQUEsR0FBQTlCLEVBQUFnQyxPQUFBLEdBQUFoQyxJQUdBK0ksU0FDQUYsV0FBQTlHLEVBQ0ErRyxXQUFBakgsR0FFQW1ILE9BQ0FILFdBQUFoSCxFQUNBaUgsV0FBQWpILElBSUEsU0FBQW9ILElBR0EsSUFBQWxCLEVBQUExRyxPQUFBdEIsU0FBQWdJLEtBQ0FuRixFQUFBbUYsRUFBQWxGLFFBQUEsS0FDQSxXQUFBRCxFQUFBLEdBQUFtRixFQUFBbUIsVUFBQXRHLEVBQUEsR0FPQSxTQUFBdUcsRUFBQW5KLEdBQ0EsSUFBQTRDLEVBQUF2QixPQUFBdEIsU0FBQWdJLEtBQUFsRixRQUFBLEtBQ0F4QixPQUFBdEIsU0FBQW9JLFFBQUE5RyxPQUFBdEIsU0FBQWdJLEtBQUF6RixNQUFBLEVBQUFNLEdBQUEsRUFBQUEsRUFBQSxPQUFBNUMsR0FHQSxTQUFBdUIsRUFBQXdELFFBQ0EsSUFBQUEsSUFDQUEsTUFHQVQsSUFBQSxlQUFBdkksRUFBQWtDLElBQUFzRixTQUF1RHZJLE9BQUE0RyxFQUFBLEVBQUE1RyxFQUFTLDhCQUFzQ0EsT0FBQTRHLEVBQUEsRUFBQTVHLEVBQVMsSUFDL0csSUFBQWdLLEVBQUEzRCxPQUFBeEIsUUFDQXVKLEdBOVRBLElBQUEvSCxPQUFBOEQsVUFBQUMsVUFBQXZDLFFBQUEsV0ErVEEwQyxFQUFBUixFQUNBVyxFQUFBSCxFQUFBN0Isb0JBQ0FBLE9BQUEsSUFBQWdDLEVBQUFqQixFQUFBaUIsRUFDQTJELEVBQUE5RCxFQUFBK0QsU0FDQUEsT0FBQSxJQUFBRCxFQUFBLFFBQUFBLEVBQ0F4RCxFQUFBZCxFQUFBYyxTQUFBeEQsRUFBQVIsRUFBQWtELEVBQUFjLFdBQUEsR0FDQTBELEVBQUFaLEVBQUFXLEdBQ0FULEVBQUFVLEVBQUFWLFdBQ0FDLEVBQUFTLEVBQUFULFdBRUEsU0FBQWhELElBQ0EsSUFBQTlGLEVBQUE4SSxFQUFBRyxLQUdBLE1BRkEsZUFBQWxOLEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csRUFBTzZLLEdBQUE1RCxFQUFBakMsRUFBQTZGLEdBQUEsa0hBQUE3RixFQUFBLG9CQUFBNkYsRUFBQSxNQUNuREEsSUFBQTdGLEVBQUFvQyxFQUFBcEMsRUFBQTZGLElBQ0FyRCxFQUFBeEMsR0FHQSxJQUFBc0csRUFBQW5ELElBRUEsU0FBQW9ELEVBQUFDLEdBQ0l4TCxPQUFBd0csRUFBQSxFQUFBeEcsQ0FBUTZFLEVBQUEyRyxHQUVaM0csRUFBQS9DLE9BQUFrSSxFQUFBbEksT0FDQXdKLEVBQUFwQyxnQkFBQXJFLEVBQUFFLFNBQUFGLEVBQUE0RCxRQUdBLElBQUFxRCxHQUFBLEVBQ0EwQyxFQUFBLEtBRUEsU0FBQTNDLElBQ0EsSUFBQTdHLEVBQUFpSixJQUNBUSxFQUFBWixFQUFBN0ksR0FFQSxHQUFBQSxJQUFBeUosRUFFQU4sRUFBQU0sT0FDSyxDQUNMLElBQUExSixFQUFBK0YsSUFDQTRELEVBQUE3SixFQUFBRSxTQUNBLElBQUErRyxHQTljQSxTQUFBckcsRUFBQWtKLEdBQ0EsT0FBQWxKLEVBQUFSLFdBQUEwSixFQUFBMUosVUFBQVEsRUFBQVAsU0FBQXlKLEVBQUF6SixRQUFBTyxFQUFBYixPQUFBK0osRUFBQS9KLE1BQUFhLEVBQUFpQyxNQUFBaUgsRUFBQWpILEtBQXVHMUgsT0FBQTBHLEVBQUEsRUFBQTFHLENBQVV5RixFQUFBZ0MsTUFBQWtILEVBQUFsSCxPQTZjakhtSCxDQUFBRixFQUFBM0osR0FBQSxPQUVBLEdBQUF5SixJQUFBakgsRUFBQXhDLEdBQUEsT0FFQXlKLEVBQUEsS0FLQSxTQUFBekosR0FDQSxHQUFBK0csRUFDQUEsR0FBQSxFQUNBUCxRQUNLLENBRUxELEVBQUE5QyxvQkFBQXpELEVBREEsTUFDQTJELEVBQUEsU0FBQXFELEdBQ0FBLEVBQ0FSLEdBQ0E5QyxPQUpBLE1BS0ExRCxhQVNBLFNBQUFpSCxHQUNBLElBQUFDLEVBQUFwSCxFQUFBRSxTQUlBbUgsRUFBQTJDLEVBQUFDLFlBQUF2SCxFQUFBMEUsS0FDQSxJQUFBQyxNQUFBLEdBQ0EsSUFBQUUsRUFBQXlDLEVBQUFDLFlBQUF2SCxFQUFBeUUsS0FDQSxJQUFBSSxNQUFBLEdBQ0EsSUFBQUMsRUFBQUgsRUFBQUUsRUFFQUMsSUFDQVAsR0FBQSxFQUNBUSxFQUFBRCxJQW5CQUUsQ0FBQXhILE1BakJBNkcsQ0FBQTdHLElBeUNBLElBQUFDLEVBQUFpSixJQUNBUSxFQUFBWixFQUFBN0ksR0FDQUEsSUFBQXlKLEdBQUFOLEVBQUFNLEdBQ0EsSUFBQWpDLEVBQUExQixJQUNBK0QsR0FBQXRILEVBQUFpRixJQWdFQSxTQUFBRixFQUFBak0sR0FDQSxlQUFBVSxFQUFBa0MsSUFBQXNGLFVBQTRDdkksT0FBQTJHLEVBQUEsRUFBQTNHLENBQU9vTyxFQUFBLGdFQUNuRHBFLEVBQUFzQyxHQUFBak0sR0FXQSxJQUFBcU0sRUFBQSxFQUVBLFNBQUFDLEVBQUFOLEdBR0EsS0FGQUssR0FBQUwsSUFFQSxJQUFBQSxFQUNBaEcsT0FBQXVHLGlCQUFBYyxFQUFBN0IsR0FDSyxJQUFBYSxHQUNMckcsT0FBQXdHLG9CQUFBYSxFQUFBN0IsR0FJQSxJQUFBaUIsR0FBQSxFQWlDQSxJQUFBakksR0FDQS9DLE9BQUFrSSxFQUFBbEksT0FDQTJHLE9BQUEsTUFDQTFELFNBQUF5SCxFQUNBQyxXQTVIQSxTQUFBMUgsR0FDQSxVQUFBOEksRUFBQWhELEVBQUF0RCxFQUFBeEMsS0E0SEFsQyxLQXpIQSxTQUFBbUMsRUFBQXlDLEdBQ0EsZUFBQTFHLEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csTUFBT2dJLElBQUFQLEVBQUEsaURBQ25ELElBQ0ExQyxFQUFBeUMsRUFBQXhDLE9BQUFnRCxTQUFBbkQsRUFBQUUsVUFDQXVHLEVBQUE5QyxvQkFBQXpELEVBRkEsT0FFQTJELEVBQUEsU0FBQXFELEdBQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUEvRyxFQUFBdUMsRUFBQXhDLEdBQ0EwSixFQUFBWixFQUFBaEQsRUFBQTdGLEdBR0EsR0FGQWlKLE1BQUFRLEVBRUEsQ0FJQUQsRUFBQXhKLEVBOUhBLFNBQUFBLEdBQ0FxQixPQUFBdEIsU0FBQUgsS0FBQUksRUE4SEErSixDQUFBTixHQUNBLElBQUF4QixFQUFBNEIsRUFBQUMsWUFBQXZILEVBQUExQyxFQUFBRSxXQUNBaUssRUFBQUgsRUFBQXZILE1BQUEsT0FBQTJGLEVBQUEsRUFBQUEsRUFBQSxHQUNBK0IsRUFBQW5NLEtBQUFtQyxHQUNBNkosRUFBQUcsRUFDQXpELEdBQ0E5QyxPQW5CQSxPQW9CQTFELGlCQUdBLGVBQUFoRSxFQUFBa0MsSUFBQXNGLFVBQWdEdkksT0FBQTJHLEVBQUEsRUFBQTNHLEVBQU8sZ0dBQ3ZEdUwsUUFnR0E0QixRQTNGQSxTQUFBbkksRUFBQXlDLEdBQ0EsZUFBQTFHLEVBQUFrQyxJQUFBc0YsVUFBNEN2SSxPQUFBMkcsRUFBQSxFQUFBM0csTUFBT2dJLElBQUFQLEVBQUEsb0RBQ25ELElBQ0ExQyxFQUFBeUMsRUFBQXhDLE9BQUFnRCxTQUFBbkQsRUFBQUUsVUFDQXVHLEVBQUE5QyxvQkFBQXpELEVBRkEsVUFFQTJELEVBQUEsU0FBQXFELEdBQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUEvRyxFQUFBdUMsRUFBQXhDLEdBQ0EwSixFQUFBWixFQUFBaEQsRUFBQTdGLEdBQ0FpSixNQUFBUSxJQU1BRCxFQUFBeEosRUFDQW1KLEVBQUFNLElBR0EsSUFBQXhCLEVBQUE0QixFQUFBaEgsUUFBQU4sRUFBQTFDLEVBQUFFLFlBQ0EsSUFBQWtJLElBQUE0QixFQUFBNUIsR0FBQWpJLEdBQ0F1RyxHQUNBOUMsT0FuQkEsVUFvQkExRCxpQkFzRUF1SCxLQUNBZSxPQTdEQSxXQUNBZixHQUFBLElBNkRBZ0IsVUExREEsV0FDQWhCLEVBQUEsSUEwREF4SCxNQXpDQSxTQUFBc0QsUUFDQSxJQUFBQSxJQUNBQSxHQUFBLEdBR0EsSUFBQW1GLEVBQUFqQyxFQUFBakQsVUFBQUQsR0FPQSxPQUxBMEUsSUFDQUgsRUFBQSxHQUNBRyxHQUFBLEdBR0EsV0FNQSxPQUxBQSxJQUNBQSxHQUFBLEVBQ0FILEdBQUEsSUFHQVksTUF3QkFDLE9BcEJBLFNBQUF6RSxHQUNBLElBQUEwRSxFQUFBbkMsRUFBQTFDLGVBQUFHLEdBRUEsT0FEQTRELEVBQUEsR0FDQSxXQUNBQSxHQUFBLEdBQ0FjLE9BaUJBLE9BQUE1SSxnRENydkJlLFNBQUFvSyxJQWVmLE9BZEFBLEVBQUFqUCxPQUFBa1AsUUFBQSxTQUFBQyxHQUNBLFFBQUE3UCxFQUFBLEVBQW1CQSxFQUFBc0QsVUFBQWQsT0FBc0J4QyxJQUFBLENBQ3pDLElBQUE4UCxFQUFBeE0sVUFBQXRELEdBRUEsUUFBQW9JLEtBQUEwSCxFQUNBcFAsT0FBQVMsVUFBQUMsZUFBQWpCLEtBQUEyUCxFQUFBMUgsS0FDQXlILEVBQUF6SCxHQUFBMEgsRUFBQTFILElBS0EsT0FBQXlILElBR0FyTSxNQUFBdkIsS0FBQXFCLFdBZkF3QixFQUFBLEVBQUE2SyxnQ0NBQSxTQUFBSSxFQUFBcEssR0FDQSxZQUFBQSxFQUFBNkIsT0FBQSxHQUlBLFNBQUF3SSxFQUFBQyxFQUFBQyxHQUNBLFFBQUFsUSxFQUFBa1EsRUFBQUMsRUFBQW5RLEVBQUEsRUFBQWUsRUFBQWtQLEVBQUF6TixPQUFpRDJOLEVBQUFwUCxFQUFPZixHQUFBLEVBQUFtUSxHQUFBLEVBQ3hERixFQUFBalEsR0FBQWlRLEVBQUFFLEdBR0FGLEVBQUFHLE1BMkRldEwsRUFBQSxFQXZEZixTQUFBZ0IsR0FDQSxJQUFBQyxFQUFBekMsVUFBQWQsT0FBQSxRQUFBa0csSUFBQXBGLFVBQUEsR0FBQUEsVUFBQSxNQUVBK00sRUFBQXZLLEtBQUF3SyxNQUFBLFNBQ0FDLEVBQUF4SyxLQUFBdUssTUFBQSxTQUVBRSxFQUFBMUssR0FBQWlLLEVBQUFqSyxHQUNBMkssRUFBQTFLLEdBQUFnSyxFQUFBaEssR0FDQTJLLEVBQUFGLEdBQUFDLEVBV0EsR0FUQTNLLEdBQUFpSyxFQUFBakssR0FFQXlLLEVBQUFGLEVBQ0dBLEVBQUE3TixTQUVIK04sRUFBQUgsTUFDQUcsSUFBQTlOLE9BQUE0TixLQUdBRSxFQUFBL04sT0FBQSxVQUVBLElBQUFtTyxPQUFBLEVBQ0EsR0FBQUosRUFBQS9OLE9BQUEsQ0FDQSxJQUFBb08sRUFBQUwsSUFBQS9OLE9BQUEsR0FDQW1PLEVBQUEsTUFBQUMsR0FBQSxPQUFBQSxHQUFBLEtBQUFBLE9BRUFELEdBQUEsRUFJQSxJQURBLElBQUFFLEVBQUEsRUFDQTdRLEVBQUF1USxFQUFBL04sT0FBZ0N4QyxHQUFBLEVBQVFBLElBQUEsQ0FDeEMsSUFBQThRLEVBQUFQLEVBQUF2USxHQUVBLE1BQUE4USxFQUNBZCxFQUFBTyxFQUFBdlEsR0FDSyxPQUFBOFEsR0FDTGQsRUFBQU8sRUFBQXZRLEdBQ0E2USxLQUNLQSxJQUNMYixFQUFBTyxFQUFBdlEsR0FDQTZRLEtBSUEsSUFBQUgsRUFBQSxLQUF5QkcsSUFBTUEsRUFDL0JOLEVBQUFRLFFBQUEsT0FDR0wsR0FBQSxLQUFBSCxFQUFBLElBQUFBLEVBQUEsSUFBQVIsRUFBQVEsRUFBQSxLQUFBQSxFQUFBUSxRQUFBLElBRUgsSUFBQTFILEVBQUFrSCxFQUFBUyxLQUFBLEtBSUEsT0FGQUwsR0FBQSxNQUFBdEgsRUFBQTNCLFFBQUEsS0FBQTJCLEdBQUEsS0FFQUEsaUNDbEVBLElBQUE0SCxFQUFBLG1CQUFBQyxRQUFBLGlCQUFBQSxPQUFBQyxTQUFBLFNBQUFDLEdBQW9HLGNBQUFBLEdBQXFCLFNBQUFBLEdBQW1CLE9BQUFBLEdBQUEsbUJBQUFGLFFBQUFFLEVBQUFDLGNBQUFILFFBQUFFLElBQUFGLE9BQUEvUCxVQUFBLGdCQUFBaVEsR0FxQzdIdE0sRUFBQSxFQW5DZixTQUFBd00sRUFBQW5MLEVBQUFrSixHQUNBLEdBQUFsSixJQUFBa0osRUFBQSxTQUVBLFNBQUFsSixHQUFBLE1BQUFrSixFQUFBLFNBRUEsR0FBQWhNLE1BQUFrTyxRQUFBcEwsR0FDQSxPQUFBOUMsTUFBQWtPLFFBQUFsQyxJQUFBbEosRUFBQTNELFNBQUE2TSxFQUFBN00sUUFBQTJELEVBQUFxTCxNQUFBLFNBQUE3SCxFQUFBdUcsR0FDQSxPQUFBb0IsRUFBQTNILEVBQUEwRixFQUFBYSxNQUlBLElBQUF1QixPQUFBLElBQUF0TCxFQUFBLFlBQUE4SyxFQUFBOUssR0FHQSxHQUFBc0wsVUFGQSxJQUFBcEMsRUFBQSxZQUFBNEIsRUFBQTVCLElBRUEsU0FFQSxjQUFBb0MsRUFBQSxDQUNBLElBQUFDLEVBQUF2TCxFQUFBd0wsVUFDQUMsRUFBQXZDLEVBQUFzQyxVQUVBLEdBQUFELElBQUF2TCxHQUFBeUwsSUFBQXZDLEVBQUEsT0FBQWlDLEVBQUFJLEVBQUFFLEdBRUEsSUFBQUMsRUFBQW5SLE9BQUFvUixLQUFBM0wsR0FDQTRMLEVBQUFyUixPQUFBb1IsS0FBQXpDLEdBRUEsT0FBQXdDLEVBQUFyUCxTQUFBdVAsRUFBQXZQLFFBRUFxUCxFQUFBTCxNQUFBLFNBQUFwSixHQUNBLE9BQUFrSixFQUFBbkwsRUFBQWlDLEdBQUFpSCxFQUFBakgsTUFJQSx5Q0NsQ0EsU0FBQTNHLEdBQUEsSUFBQXVRLEVBQUEsZUFBQXZRLEVBQUFrQyxJQUFBc0YsU0FtQmVuRSxFQUFBLEVBbEJmLFNBQUFtTixFQUFBN0gsR0FDQSxJQUFBNEgsRUFBQSxDQUNBLEdBQUFDLEVBQ0EsT0FHQSxJQUFBQyxFQUFBLFlBQUE5SCxFQUVBLG9CQUFBK0gsU0FDQUEsUUFBQUMsS0FBQUYsR0FHQSxJQUNBLE1BQUF2USxNQUFBdVEsR0FDSyxNQUFBRyxxRENmTCxTQUFBNVEsR0FBQSxJQUFBdVEsRUFBQSxlQUFBdlEsRUFBQWtDLElBQUFzRixTQUNBckIsRUFBQSxtQkFhZTlDLEVBQUEsRUFaZixTQUFBbU4sRUFBQTdILEdBQ0EsSUFBQTZILEVBSUEsTUFBQUQsRUFDQSxJQUFBclEsTUFBQWlHLEdBRUEsSUFBQWpHLE1BQUFpRyxFQUFBLE1BQUF3QyxHQUFBLHVDQ1ZBLFNBQUFrSSxFQUFBQyxHQUM2RHhTLEVBQUFELFFBQUF5UyxJQUQ3RCxDQUlDdFEsRUFBQSxXQUFxQixhQWV0QixJQUFBdVEsRUFBQSxNQUtBQyxFQUFBLE1BS0FDLEVBQUEsUUFLQUMsRUFBQSxhQUtBQyxFQUFBLFNBS0FDLEVBQUEsY0FLQUMsRUFBQSxlQUtBQyxFQUFBLHdCQWNBLFNBQUF4QixFQUFBSCxHQUNBLHlCQUFBMVEsT0FBQVMsVUFBQTRLLFNBQUE1TCxLQUFBaVIsR0F1Q0EsU0FBQTRCLEVBQUF0TixFQUFBdEMsR0FJQSxPQUhBc0MsS0FBQSxHQTdCQSxTQUFBMEwsR0FDQSxTQUFBQSxFQUFvQixTQUNwQixHQUFBQSxFQUFBNU8sT0FBQSxFQUF1QixTQUN2QixPQUFBNE8sRUFBQTVPLE9BQXlCLFNBQ3pCLG9CQUFBNE8sRUFBZ0MsU0FFaEMsUUFBQWhKLEtBQUFnSixFQUNBLEdBQUFoUSxlQUFBakIsS0FBQWlSLEVBQUFoSixHQUF3QyxTQUd4QyxTQXNCQTZLLENBRkE3UCxTQTZGQSxTQUFBc0MsR0FDQSxPQUFBQSxFQUFBbUksUUFBQThFLEVBQUEsSUEzRkFPLENBQUF4TixHQUtBeU4sRUF5SEEsU0FBQXpOLEdBQ0EsT0FBQUEsRUFBQW1JLFFBQUE2RSxFQUFBLElBekhBVSxDQUhBMU4sRUFrQkEsU0FBQUEsRUFBQXRDLEdBR0EsSUFBQW1PLEVBRkFuTyxTQUVBLENBQ0EsSUFBQWlRLEVBQUEzTixFQUFBNE4sTUFBQVIsR0FDQU8sSUFDQWpRLEVBQUFpUSxFQUFBRSxJQUFBLFNBQUFoVCxHQUE2QyxPQUFBNkMsRUFBQTdDLEVBQUFtSCxPQUFBLE9BSTdDNkosRUFBQW5PLElBQ0FBLEVBQUEyRyxRQUFBLFNBQUF5SixHQUNBQSxJQUFnQjlOLEVBMEJoQixTQUFBQSxFQUFBOE4sR0FDQSxJQUFBQyxHQUFBLElBQUEvTixFQUFBNkMsUUFBQSxLQUdBLEdBRkFpTCxFQUFBRSxtQkFBQUYsR0FFQUMsRUFDQSxPQUFBL04sRUFBQW1JLFFBQUFnRixFQUFBVyxHQUdBLE9BQUE5TixFQUFBbUksUUFBQStFLEVBQUFZLEdBbENnQkcsQ0FBQWpPLEVBQUE4TixNQUloQixJQUFBSSxFQUFBbE8sRUFBQTROLE1BQUFYLEdBRUFpQixHQUNBQSxFQUFBN0osUUFBQSxTQUFBK0csSUFzQ0EsU0FBQStDLEdBQ0EsT0FBQWhCLEVBQUF6TSxLQUFBeU4sSUFBQWpCLEVBQUF4TSxLQUFBeU4sSUF0Q0FDLENBQUFoRCxLQUNBcEwsSUFBQW1JLFFBQUFpRCxFQUFBLE9BS0EsT0FBQXBMLEVBNUNBcU8sQ0FBQXJPLEVBQUF0QyxLQW1HQSxTQUFBK1AsRUFBQXpOLEdBQ0EsT0FBQUEsRUFBQW1JLFFBQUEyRSxFQUFBLElBbUNBLFNBQUF3QixFQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFDLEtBQ0F4TyxFQUFBdU8sRUFBQXZPLEtBQ0F5TyxFQUFBRixFQUFBRSxNQUNBN08sRUFBQTJPLEVBQUEzTyxLQUdBNE8sRUFBQWYsRUFBQWUsR0FHQSxJQUFBRSxFQUFBMU8sRUFBQTRLLE1BQUEsS0FDQStELEVBQUFELEVBQUEsR0FDQUUsRUFBQUYsRUFBQSxHQWFBLE9BTEExTyxHQUxBQSxFQUFBeU4sRUF2Q0EsU0FBQXpOLEdBQ0EsT0FBQUEsRUFBQW1JLFFBQUE0RSxFQUFBLElBdUNBOEIsQ0FBQUYsS0FJQSxJQUFBM08sRUFBQSxHQUNBNE8sTUFBQSxPQUlBLEdBQUFKLEVBQUF4TyxHQUhBeU8sSUFBQSxJQUFBRyxFQUFBSCxFQUFBLEtBQ0E3TyxJQUFBLElBQUFBLEVBQUEsSUFjQSxTQUFBa1AsRUFBQTVOLEVBQUE2TixHQUdBLElBRkEsSUFBQXBMLEtBRUFySixFQUFBLEVBQWlCQSxFQUFBNEcsRUFBQXBFLE9BQW1CeEMsSUFBQSxDQUNwQyxJQUFBcUIsRUFBQXVGLEVBQUE1RyxHQUNBcUIsRUFBQW9ULElBQUEsS0FBQXBULEVBQUEwRCxPQUNBc0UsRUFBQTlGLEtBQUFsQyxHQUlBLE9BQUFnSSxFQWlCQSxTQUFBcUwsRUFBQWhQLEdBQ0EsT0FDQWlQLE1BQUFqUCxLQUFBNE4sTUFBQVIsT0FDQThCLE1BQUFsUCxLQUFBNE4sTUFBQVYsUUFjQSxTQUFBaUMsRUFBQTNPLEdBTUEsT0FMQUEsSUFBQTJILFFBQUFrRixFQUFBLFFBQ0FsRixRQUFBOEUsRUFBQSxXQUNBOUUsUUFBQWlGLEVBQUEsU0FBQVEsRUFBQXdCLEdBQXVELE9BQUFBLEVBQUF4QixFQUFBLGFBQ3ZEekYsUUFBQStFLEVBQUEsWUFFQSxJQUFBL0ssT0FBQSxJQUFBM0IsRUFBQSx3QkFhQSxTQUFBNk8sRUFBQTFQLEdBR0EsT0FBQTJOLEdBRkEzTixTQUVBSyxLQUFBTCxFQUFBdUIsUUFjQSxTQUFBb08sRUFBQTNQLEdBQ0EsSUFBQThPLEtBR0EsUUFBQS9MLEtBRkEvQyxTQUVBOE8sTUFBQSxDQUNBLElBQUFOLEVBQUF4TyxFQUFBOE8sTUFBQS9MLEdBQ0ErTCxFQUFBNVEsS0FBQTZFLEVBQUEsSUFBQXNMLG1CQUFBRyxJQUdBLE9BQUFNLEVBQUEzUixPQUFBMlIsRUFBQW5ELEtBQUEsUUFrREEsU0FBQWlFLEVBQUF2UCxFQUFBdEMsR0FDQSxJQUFBaUcsS0FDQXpDLEVBQUE4TixFQUFBaFAsR0FFQTFGLEVBQUEsRUFLQSxPQUhBNEcsRUFBQStOLE1BQUE1SyxRQUFBbUwsR0FDQXRPLEVBQUFnTyxNQUFBN0ssUUFBQW1MLEdBRUE3TCxFQUlBLFNBQUE2TCxFQUFBM1UsR0FDQThJLEVBQUE5SSxFQUFBeUgsTUFBQSxJQUFBNUUsRUFBQXBELE1BZ0hBLE9BWEFtVixNQXhJQSxTQUFBOVAsSUFDQUEsU0FDQTZPLEtBQUE3TyxFQUFBNk8sTUFBQSxHQUVBLElBQUF4TyxFQUFBcVAsRUFBQTFQLEdBQ0E4TyxFQUFBYSxFQUFBM1AsR0FFQSxPQUFBMk8sR0FBc0JFLEtBQUE3TyxFQUFBNk8sS0FBQXhPLE9BQUF5TyxRQUFBN08sS0FBQUQsRUFBQUMsUUFrSXRCYyxLQTFKQSxTQUFBZixHQUtBLE9BRkF3UCxHQUZBeFAsU0FFQUssTUFFQVUsS0FBQWYsRUFBQWdCLE1Bc0pBK08sTUExRkEsU0FBQTFQLEVBQUF0QyxHQUNBLElBQUEwUixFQUFBcFAsRUFBQTROLE1BQUFYLE9BQ0FzQixFQUFBUyxFQUFBaFAsR0FDQWlQLEVBQUFWLEVBQUFVLE1BQ0FDLEVBQUFYLEVBQUFXLE1BRUFoTyxFQUFBK04sRUFBQWxTLE9BQUFtUyxHQTJCQSxPQXZCQXJELEVBRkFuTyxXQUdBQSxFQUFBNlIsRUFBQXZQLEVBQUF0QyxLQXVCQXdELE9BcEJBQSxJQUFBMk0sSUFBQSxTQUFBTSxHQUdBLElBRkEsSUFBQXdCLEdBQUEsRUFFQXJWLEVBQUEsRUFBbUJBLEVBQUE4VSxFQUFBdFMsT0FBcUJ4QyxJQUV4QyxRQURBOFUsRUFBQTlVLEdBQ0F1SSxRQUFBc0wsR0FBQSxDQUNBd0IsR0FBQSxFQUNBLE1BSUEsT0FDQTlVLEtBQUFzVCxFQUNBOU8sTUFBQTNCLEVBQUF5USxFQUFBN0wsTUFBQSxRQUNBOE0sU0FBQU8sRUFDQUMsVUFBQUQsS0FNQUUsa0JBQUE1QyxFQUFBdk0sS0FBQVYsR0FDQThQLHNCQUFBaEIsRUFBQTVOLEVBQUEsWUFDQTZPLHNCQUFBakIsRUFBQTVOLEVBQUEsWUFDQThPLGNBQUFsQixFQUFBNU4sRUFBQSxVQXFEQUMsTUFyQ0EsU0FBQXhCLFFBQ0EsSUFBQUEsVUFFQSxJQUFBSyxFQUFBTCxFQUFBSyxLQUNBb0IsRUFBQXpCLEVBQUF5QixXQUNBN0YsRUFBQW9FLEVBQUFwRSxPQUVBLElBQUF5RSxJQUFBb0IsRUFDQSxVQUFBbkYsTUFBQSw2Q0FHQSxJQUVBaUYsRUFGQWlPLEVBQUEvTixHQUVBNk8sS0FBQWpRLEdBRUEsSUFBQWtCLEVBQWdCLFlBSWhCLElBQUF5QyxHQUZBekMsSUFBQW9CLE1BQUEsSUFFQXVMLElBQUEsU0FBQU0sRUFBQTdULEdBQ0EsT0FBQUEsSUFBQTRHLEVBQUFwRSxPQUFBLEVBQWtDcVIsR0FBQSxLQUNsQ0EsRUFBQStCLG1CQUFBL0IsR0FBQSxPQUdBLEdBQUE1UyxFQUFBLENBQ0EsSUFBQWtULEVBQUE5SyxFQUFBK0csT0FDQS9HLEVBQUE0TCxFQUFBbk8sRUFBQXVDLElBQ0E4SyxRQUdBLE9BQUE5SyxHQVFBekMsT0FBQXFPLEVBQ0F2UCxLQUFBcVAsRUFDQVosTUFBQWEsRUFDQWEsTUFBQWhCLEVBQ0F2QixNQUFBb0IiLCJmaWxlIjoiZGlzdC9oaXN0b3J5LXJvdXRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBjMTM2NTBjMDQ5ODhlNGZjNDExZCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZUJyb3dzZXJIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybC1jb21wb3Nlcic7XG5cbmNsYXNzIEhpc3RvcnlSb3V0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIHRoaXMgSW5zdGFuY2VcbiAgICogXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgIFxuICAgIC8qKiBEZWZhdWx0ICovXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgaGFzaDogb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnaGFzaCcpXG4gICAgICAgID8gb3B0aW9ucy5oYXNoXG4gICAgICAgIDogdHJ1ZVxuICAgIH07XG4gICAgXG4gICAgLyoqIEhpc3RvcnkgKi9cbiAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLm9wdGlvbnMuaGFzaFxuICAgICAgPyBjcmVhdGVIYXNoSGlzdG9yeSh0aGlzLm9wdGlvbnMuaGlzdG9yeSlcbiAgICAgIDogY3JlYXRlQnJvd3Nlckhpc3RvcnkodGhpcy5vcHRpb25zLmhpc3RvcnkpXG4gICAgO1xuICAgIFxuICAgIC8qKiBCbG9ja2luZyAqL1xuICAgIHRoaXMuaGlzdG9yeS5ibG9jayhsb2NhdGlvbiA9PiB7XG4gICAgICAvKiogSW5pdGlhbGl6ZSAqL1xuICAgICAgbGV0IHBhdGggPSBgJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9YCxcbiAgICAgICAgICB3aGVyZSA9IHsgXG4gICAgICAgICAgICB0bzogbG9jYXRpb24sIFxuICAgICAgICAgICAgZnJvbTogdGhpcy5oaXN0b3J5LmxvY2F0aW9uIFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzcG9uc2UgPSBmYWxzZVxuICAgICAgO1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucm91dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8qKiBDdXJyZW50IFJvdXRlICovXG4gICAgICAgIGxldCByb3V0ZSA9IHRoaXMucm91dGVzW2ldLFxuICAgICAgICAgICAgaXNDb3JyZWN0VXJsID0gdXJsLnRlc3QodGhpcy5vcHRpb25zLmhhc2ggXG4gICAgICAgICAgICAgID8geyBwYXRoOiBgLyMvJHtyb3V0ZS5wYXRofWAsIHVybDogYC8jLyR7cGF0aH1gIH1cbiAgICAgICAgICAgICAgOiB7IHBhdGg6IHJvdXRlLnBhdGgsIHVybDogcGF0aCB9XG4gICAgICAgICAgICApXG4gICAgICAgIDtcbiAgICAgICAgaWYoaXNDb3JyZWN0VXJsKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogUnVuIG1pZGRsZXdhcmVzXG4gICAgICAgICAgICogXG4gICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgXG4gICAgICAgICAgICovXG4gICAgICAgICAgbGV0IG1pZGRsZXdhcmUgPSAobWlkZGxld2FyZXMsIHsgZnJvbSwgdG8gfSwgcmVzcG9uc2UgPSBudWxsKSA9PiB7XG4gICAgICAgICAgICAvKiogYXNzZXJ0IE1pZGRsZXdhcmUgKi9cbiAgICAgICAgICAgIGlmKG1pZGRsZXdhcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsZXQgbmV4dCA9IGRhdGEgPT4gcmVzcG9uc2UgPSBkYXRhIGluc3RhbmNlb2YgRnVuY3Rpb24/IGRhdGEoKTogZGF0YTtcbiAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG1pZGRsZXdhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWlkZGxld2FyZXNbaV0oeyB0bywgZnJvbSwgbmV4dCwgcmVzcG9uc2UgfSk7XG4gICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8qKiBQYXNzZWQgYWxsIG1pZGRsZXdhcmVzICovXG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8qKiBNaWRsZXdhcmVzIGFyZSBlbXB0eSAqL1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIC8qKiBHbG9iYWwgbWlkZGxld2FyZXMgKi9cbiAgICAgICAgICBpZihyZXNwb25zZSA9IG1pZGRsZXdhcmUodGhpcy5taWRkbGV3YXJlcywgd2hlcmUpKSB7XG4gICAgICAgICAgICAvKiogUm91dGUgbWlkZGxld2FyZXMgKi9cbiAgICAgICAgICAgIGlmKHJvdXRlLm1pZGRsZXdhcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXNwb25zZSA9IG1pZGRsZXdhcmUocm91dGUubWlkZGxld2FyZXMsIHdoZXJlLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91dGUuY2FsbGJhY2soe1xuICAgICAgICAgICAgICBsb2NhdGlvbiwgXG4gICAgICAgICAgICAgIHBhcmFtczogdXJsLnBhcnNlKHsgcGF0aCwgZGVmaW5pdGlvbjogcm91dGUucGF0aCwgb2JqZWN0OiB0cnVlIH0pLCBcbiAgICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqIFJlZ2lzdGVyZWQgcm91dGVzICovXG4gICAgdGhpcy5yb3V0ZXMgPSBuZXcgQXJyYXkoKTtcblxuICAgIC8qKiBHbG9iYWwgbWlkZGxld2FyZXMgKi9cbiAgICB0aGlzLm1pZGRsZXdhcmVzID0gbmV3IEFycmF5KCk7IFxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIFJvdXRlXG4gICAqIFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgXG4gICAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIFxuICAgKi9cbiAgd2hlbihwYXRoLCBjYWxsYmFjaywgbWlkZGxld2FyZXMgPSBbXSkge1xuICAgIC8qKiBSb3V0ZSAqL1xuICAgIHRoaXMucm91dGVzLnB1c2goeyBwYXRoLCBjYWxsYmFjaywgbWlkZGxld2FyZXMgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgZ2xvYmFsIG1pZGRsZXdhcmVcbiAgICogXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFxuICAgKi9cbiAgbWlkZGxld2FyZShjYWxsYmFjaykge1xuICAgIC8qKiBHbG9iYWwgbWlkZGxld2FyZSAqL1xuICAgIHRoaXMubWlkZGxld2FyZXMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuLyoqIE9ubHkgZm9yIENETiwgb3IgQm93ZXIgKi9cbndpbmRvdy5IaXN0b3J5Um91dGVyID0gSGlzdG9yeVJvdXRlcjtcblxuZXhwb3J0IGRlZmF1bHQgSGlzdG9yeVJvdXRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5cbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn1cbmZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufVxuZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KHBhdGgubGVuZ3RoIC0gMSkgPT09ICcvJyA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IHBhdGggfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG5cbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcblxuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCA9PT0gJz8nID8gJycgOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCA9PT0gJyMnID8gJycgOiBoYXNoXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gJz8nKSBwYXRoICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09ICc/JyA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRoO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uO1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPbmUtYXJnIGZvcm06IHB1c2gobG9jYXRpb24pXG4gICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgcGF0aCk7XG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmIHZhbHVlRXF1YWwoYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpIDogdm9pZCAwO1xuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKSA6IHZvaWQgMDtcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufVxuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbmZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xuXG5mdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gIXN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKTtcbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IF9wcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBfcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdm9pZCAwID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uOyAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbnZhciBIYXNoQ2hhbmdlRXZlbnQkMSA9ICdoYXNoY2hhbmdlJztcbnZhciBIYXNoUGF0aENvZGVycyA9IHtcbiAgaGFzaGJhbmc6IHtcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aCA6ICchLycgKyBzdHJpcExlYWRpbmdTbGFzaChwYXRoKTtcbiAgICB9LFxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG4gICAgfVxuICB9LFxuICBub3NsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogc3RyaXBMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH0sXG4gIHNsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gJycgOiBocmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbn1cblxuZnVuY3Rpb24gcHVzaEhhc2hQYXRoKHBhdGgpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB2YXIgaGFzaEluZGV4ID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSgwLCBoYXNoSW5kZXggPj0gMCA/IGhhc2hJbmRleCA6IDApICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gICFjYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRoYXNoVHlwZSA9IF9wcm9wcy5oYXNoVHlwZSxcbiAgICAgIGhhc2hUeXBlID0gX3Byb3BzJGhhc2hUeXBlID09PSB2b2lkIDAgPyAnc2xhc2gnIDogX3Byb3BzJGhhc2hUeXBlO1xuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuICB2YXIgX0hhc2hQYXRoQ29kZXJzJGhhc2hUID0gSGFzaFBhdGhDb2RlcnNbaGFzaFR5cGVdLFxuICAgICAgZW5jb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5lbmNvZGVQYXRoLFxuICAgICAgZGVjb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5kZWNvZGVQYXRoO1xuXG4gIGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKCkge1xuICAgIHZhciBwYXRoID0gZGVjb2RlUGF0aChnZXRIYXNoUGF0aCgpKTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgdmFyIGlnbm9yZVBhdGggPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBhbHdheXMgaGF2ZSBhIHByb3Blcmx5LWVuY29kZWQgaGFzaC5cbiAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gICAgICB2YXIgcHJldkxvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcbiAgICAgIGlmICghZm9yY2VOZXh0UG9wICYmIGxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgbG9jYXRpb24pKSByZXR1cm47IC8vIEEgaGFzaGNoYW5nZSBkb2Vzbid0IGFsd2F5cyA9PSBsb2NhdGlvbiBjaGFuZ2UuXG5cbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxuXG4gICAgICBpZ25vcmVQYXRoID0gbnVsbDtcbiAgICAgIGhhbmRsZVBvcChsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2YgcGF0aHMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3IgcGF0aHMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aCh0b0xvY2F0aW9uKSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfSAvLyBFbnN1cmUgdGhlIGhhc2ggaXMgZW5jb2RlZCBwcm9wZXJseSBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZS5cblxuXG4gIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcbiAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgdmFyIGFsbFBhdGhzID0gW2NyZWF0ZVBhdGgoaW5pdGlhbExvY2F0aW9uKV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuICcjJyArIGVuY29kZVBhdGgoYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUFVTSCwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcHVzaEhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgICB2YXIgbmV4dFBhdGhzID0gYWxsUGF0aHMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XG4gICAgICAgIGFsbFBhdGhzID0gbmV4dFBhdGhzO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoOyBhIG5ldyBlbnRyeSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgaGlzdG9yeSBzdGFjaycpIDogdm9pZCAwO1xuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5pbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbFBhdGhzW3ByZXZJbmRleF0gPSBwYXRoO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGNhbkdvV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpIDogdm9pZCAwO1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxICYmIGRlbHRhID09PSAxKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5mdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCBsb3dlckJvdW5kKSwgdXBwZXJCb3VuZCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMuaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsRW50cmllcyA9IF9wcm9wcyRpbml0aWFsRW50cmllcyA9PT0gdm9pZCAwID8gWycvJ10gOiBfcHJvcHMkaW5pdGlhbEVudHJpZXMsXG4gICAgICBfcHJvcHMkaW5pdGlhbEluZGV4ID0gX3Byb3BzLmluaXRpYWxJbmRleCxcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gY2xhbXAoaW5pdGlhbEluZGV4LCAwLCBpbml0aWFsRW50cmllcy5sZW5ndGggLSAxKTtcbiAgdmFyIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycgPyBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBjcmVhdGVLZXkoKSkgOiBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBlbnRyeS5rZXkgfHwgY3JlYXRlS2V5KCkpO1xuICB9KTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gY3JlYXRlUGF0aDtcblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHByZXZJbmRleCA9IGhpc3RvcnkuaW5kZXg7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcbiAgICAgIHZhciBuZXh0RW50cmllcyA9IGhpc3RvcnkuZW50cmllcy5zbGljZSgwKTtcblxuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xuICAgICAgICBuZXh0RW50cmllcy5zcGxpY2UobmV4dEluZGV4LCBuZXh0RW50cmllcy5sZW5ndGggLSBuZXh0SW5kZXgsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGVudHJpZXM6IG5leHRFbnRyaWVzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGNsYW1wKGhpc3RvcnkuaW5kZXggKyBuLCAwLCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMSk7XG4gICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgIHZhciBsb2NhdGlvbiA9IGhpc3RvcnkuZW50cmllc1tuZXh0SW5kZXhdO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAob2spIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBpbmRleDogbmV4dEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWltaWMgdGhlIGJlaGF2aW9yIG9mIERPTSBoaXN0b3JpZXMgYnlcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuR28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBoaXN0b3J5LmluZGV4ICsgbjtcbiAgICByZXR1cm4gbmV4dEluZGV4ID49IDAgJiYgbmV4dEluZGV4IDwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZW50cmllcy5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogZW50cmllc1tpbmRleF0sXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNhbkdvOiBjYW5HbyxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUJyb3dzZXJIaXN0b3J5LCBjcmVhdGVIYXNoSGlzdG9yeSwgY3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlTG9jYXRpb24sIGxvY2F0aW9uc0FyZUVxdWFsLCBwYXJzZVBhdGgsIGNyZWF0ZVBhdGggfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXNtL2hpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfVxuXG4gIGxpc3QucG9wKCk7XG59XG5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcbiAgdmFyIGJUeXBlID0gdHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpO1xuXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBiVmFsdWUgPSBiLnZhbHVlT2YoKTtcblxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XG5cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbmZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghaXNQcm9kdWN0aW9uKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0ID0gXCJXYXJuaW5nOiBcIiArIG1lc3NhZ2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4odGV4dCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRocm93IEVycm9yKHRleHQpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2FybmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG52YXIgcHJlZml4ID0gJ0ludmFyaWFudCBmYWlsZWQnO1xuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoY29uZGl0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXgpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludmFyaWFudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvdGlueS1pbnZhcmlhbnQuZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC51cmxDb21wb3NlciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbW9kdWxlIHVybC1jb21wb3NlclxuICogQGRlc2NyaXB0aW9uIE1vZHVsZSB0byBidWlsZCBkeW5hbWljIFVSTHMgd2l0aG91dCBhIGZ1c3NcbiAqL1xuXG4vL1xuLy8gUGF0aCBhbmFseXNpcyByZWd1bGFyIGV4cHJlc3Npb25zXG4vL1xuXG4vKipcbiAqIFRyYWlsaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIFRSQUlMSU5HX1NMQVNIID0gL1xcLyQvO1xuLyoqXG4gKiBMZWFkaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIExFQURJTkdfU0xBU0ggPSAvXlxcLy87XG4vKipcbiAqIFBhcmVudGhlc2VzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQQVJFTlRIRVNFUyA9IC9bKCldL2c7XG4vKipcbiAqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIE9QVElPTkFMX1BBUkFNUyA9IC9cXCgoLio/KVxcKS9nO1xuLyoqXG4gKiBTcGxhdCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBTUExBVF9QQVJBTVMgPSAvXFwqXFx3Ky9nO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXIgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfUEFSQU0gPSAvKFxcKFxcPyk/OlxcdysvO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBOQU1FRF9QQVJBTVMgPSAvKFxcKFxcPyk/OlxcdysvZztcbi8qKlxuICogU29tZSB3aWVyZCBlc2NhcGUgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRVNDQVBFID0gL1ste31bXFxdKz8uLFxcXFxeJHwjXFxzXS9nO1xuXG4vL1xuLy8gSGVscGVyIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBvYmplY3QgaXMgYW4gYXJyYXlcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge21peGVkfSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICBgdHJ1ZWAgaWYgYG9iamAgaXMgYW4gYXJyYXkgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSdcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGdpdmVuIG9iamVjdCBpcyBlbXB0eVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICAgYHRydWVgIGlmIGBvYmpgIGlzIGVtcHR5IGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiBpc0VtcHR5IChvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKG9iai5sZW5ndGggPiAwKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChvYmoubGVuZ3RoID09PSAwKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7IHJldHVybiB0cnVlIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHJldHVybiBmYWxzZSB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG4vL1xuLy8gIyMgUGF0aCBwYXJzaW5nIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBJbmplY3QgYXJndW1lbnRzIGludG8gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvbiBhbmQgY2xlYW4gdW51c2VkIG9wdGlvbmFsIHBhcnRzXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZ3MgT2JqZWN0IG9yIGFycmF5IG9mIGFyZ3VtZW50cyB0byBpbmplY3QuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgSWYgaXQgaXMgYW4gYXJyYXksIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGluIHNlcXVlbnRpYWwgb3JkZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgRm9yIGFuIG9iamVjdCwgdGhlIG9iamVjdCBrZXlzIHdpbGwgYmUgdXNlZCB0byBtYXAgdmFsdWVzIHRvIHRoZSBkeW5hbWljIHBhcnRzIG9mIHRoZSBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBwYXJzZWQgcGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBjb21wb3NlUGF0aCAocGF0aCwgYXJncykge1xuICBwYXRoID0gcGF0aCB8fCAnJztcbiAgYXJncyA9IGFyZ3MgfHwgW107XG5cbiAgaWYgKGlzRW1wdHkoYXJncykpIHtcbiAgICByZXR1cm4gcmVtb3ZlT3B0aW9uYWxQYXJhbXMocGF0aClcbiAgfVxuXG4gIHBhdGggPSByZXBsYWNlQXJncyhwYXRoLCBhcmdzKTtcblxuICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChcbiAgICByZW1vdmVQYXJlbnRoZXNlcyhwYXRoKVxuICApXG59XG5cbi8qKlxuICogUmVwbGFjZSBkeW5hbWljIHBhcnRzIG9mIGEgcGF0aCBieSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge21peGVkfSAgYXJncyBPYmplY3Qgb3IgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGluamVjdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICBJZiBpdCBpcyBhbiBhcnJheSwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW4gc2VxdWVudGlhbCBvcmRlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICBGb3IgYW4gb2JqZWN0LCB0aGUgb2JqZWN0IGtleXMgd2lsbCBiZSB1c2VkIHRvIG1hcCB2YWx1ZXMgdG8gdGhlIGR5bmFtaWMgcGFydHMgb2YgdGhlIHBhdGguXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgUGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiByZXBsYWNlQXJncyAocGF0aCwgYXJncykge1xuICBhcmdzID0gYXJncyB8fCBbXTtcblxuICBpZiAoIWlzQXJyYXkoYXJncykpIHtcbiAgICB2YXIgcGFyYW1OYW1lcyA9IHBhdGgubWF0Y2goTkFNRURfUEFSQU1TKTtcbiAgICBpZiAocGFyYW1OYW1lcykge1xuICAgICAgYXJncyA9IHBhcmFtTmFtZXMubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhcmdzW25hbWUuc3Vic3RyKDEpXTsgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgaWYgKGFyZykgeyBwYXRoID0gcmVwbGFjZUFyZyhwYXRoLCBhcmcpOyB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0Y2hlcyA9IHBhdGgubWF0Y2goT1BUSU9OQUxfUEFSQU1TKTtcblxuICBpZiAobWF0Y2hlcykge1xuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgaWYgKGlzTmFtZWRPclNwbGF0UGFyYW0ocGFydCkpIHtcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShwYXJ0LCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGF0aFxufVxuXG4vKipcbiAqIFJlcGxhY2UgdGhlIGZpcnN0IG1hdGNoaW5nIGR5bmFtaWMgcGFydCBvZiBhIHBhdGggYnkgdGhlIGdpdmVuIGFyZ3VtZW50XG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZyAgVGhlIHZhbHVlIHRvIGluamVjdFxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VBcmcgKHBhdGgsIGFyZykge1xuICB2YXIgaGFzTmFtZWRQYXJhbSA9IHBhdGguaW5kZXhPZignOicpICE9PSAtMTtcbiAgYXJnID0gZW5jb2RlVVJJQ29tcG9uZW50KGFyZyk7XG5cbiAgaWYgKGhhc05hbWVkUGFyYW0pIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKE5BTUVEX1BBUkFNLCBhcmcpXG4gIH1cblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgYXJnKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBuZXh0IGR5bmFtaWMgcGFydCBpbiBhIHBhdGggaXMgYSBuYW1lZCBvciBzcGxhdCBwYXJhbWV0ZXIgZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXJhbSBEeW5hbWljIHBhcnQgb2YgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gICAgICBgdHJ1ZWAgaWYgYHBhcmFtYCBpcyBhIG5hbWVkIG9yIHNwbGF0IHBhcmFtZXRlciBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gaXNOYW1lZE9yU3BsYXRQYXJhbSAocGFyYW0pIHtcbiAgcmV0dXJuIE5BTUVEX1BBUkFNLnRlc3QocGFyYW0pIHx8IFNQTEFUX1BBUkFNUy50ZXN0KHBhcmFtKVxufVxuXG4vKipcbiAqIFN0cmlwIHRoZSB1bmZpbGxlZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGZyb20gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggdG8gbW9kaWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlT3B0aW9uYWxQYXJhbXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRyYWlsaW5nU2xhc2ggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSCwgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUxlYWRpbmdTbGFzaCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKExFQURJTkdfU0xBU0gsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZS9jbGVhbiByZW1haW5pbmcgcGFyZW50aGVzZXMgZnJvbSBhIHBhdGggYWZ0ZXIgaXQgaGFzIGJlZW4gcGFyc2VkXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gbW9kaWZ5L2NsZWFuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUGFyZW50aGVzZXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShQQVJFTlRIRVNFUywgJycpXG59XG5cbi8qKlxuICogU21hcnQgY29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaC4gV2lsbCBhZGQgdGhlIGNvcnJlY3QgZ2x1ZSBjaGFyYWN0ZXIgd2hlbiBuZWVkZWRcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBPYmplY3QgZGVzY3JpYmluZyB0aGUgdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgQ29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaFxuICovXG5mdW5jdGlvbiBzbWFydENvbmNhdCAocmVmKSB7XG4gIHZhciBob3N0ID0gcmVmLmhvc3Q7XG4gIHZhciBwYXRoID0gcmVmLnBhdGg7XG4gIHZhciBxdWVyeSA9IHJlZi5xdWVyeTtcbiAgdmFyIGhhc2ggPSByZWYuaGFzaDtcblxuICAvLyBOb3JtYWxpemUgaG9zdFxuICBob3N0ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChob3N0KTtcblxuICAvLyBTcGxpdCBwYXRoIGluIGNhc2UgcGF0aCBjb250YWlucyBhbiBleGlzdGluZyBxdWVyeVxuICB2YXIgcmVmJDEgPSBwYXRoLnNwbGl0KCc/Jyk7XG4gIHZhciBwYXRoUGFydCA9IHJlZiQxWzBdO1xuICB2YXIgcXVlcnlQYXJ0ID0gcmVmJDFbMV07XG5cbiAgLy8gTm9ybWFsaXplIHBhdGhcbiAgcGF0aCA9IHJlbW92ZVRyYWlsaW5nU2xhc2goXG4gICAgcmVtb3ZlTGVhZGluZ1NsYXNoKHBhdGhQYXJ0KVxuICApO1xuXG4gIC8vIEFkZCBzcGVjaWZpYyBnbHVlIGNoYXJhY3RlcnNcbiAgcGF0aCA9IHBhdGggPyAoXCIvXCIgKyBwYXRoKSA6ICcnO1xuICBxdWVyeVBhcnQgPSBxdWVyeVBhcnQgPyAocXVlcnlQYXJ0ICsgXCImXCIpIDogJyc7XG4gIHF1ZXJ5ID0gcXVlcnkgPyAoXCI/XCIgKyBxdWVyeVBhcnQgKyBxdWVyeSkgOiAnJztcbiAgaGFzaCA9IGhhc2ggPyAoXCIjXCIgKyBoYXNoKSA6ICcnO1xuXG4gIHJldHVybiAoXCJcIiArIGhvc3QgKyBwYXRoICsgcXVlcnkgKyBoYXNoKVxufVxuXG4vKipcbiAqIFRlc3QgdGhlIGV4aXN0ZW5jZSBvZiBjZXJ0YWluIGZpZWxkcyBpbiB0aGUgc3RhdHNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge2FycmF5fSAgcGFyYW1zIExpc3Qgb2YgYW5hbHl6ZWQgcGFyYW1ldGVyc1xuICogQHBhcmFtICB7c3RyaW5nfSBmaWVsZCAgTmFtZSBvZiB0aGUgZmllbGQgdG8gYW5hbHl6ZVxuICogQHJldHVybiB7YXJyYXl9ICAgICAgICAgRmlsdGVyZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gdGVzdFBhcmFtZXRlciAocGFyYW1zLCBmaWVsZCkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcCA9IHBhcmFtc1tpXTtcbiAgICBpZiAocFtmaWVsZF0gJiYgcC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy9cbi8vICMjIFB1YmxpYyBBUEkgZnVuY3Rpb25zXG4vL1xuXG4vKipcbiAqIFJldHJpZXZlIG1hdGNoZXMgZm9yIG5hbWVkIGFuZCBzcGxhdCBwYXJhbXMgZm9yIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAbmFtZSBtYXRjaFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIER5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgT2JqZWN0IHdpdGggYSBgbmFtZWRgIGFuZCBgc3BsYXRgIGFycmF5IGNvbnRhaW5pbmcgdGhlIGV4dHJhY3RlZCBwYXJhbWV0ZXIgbmFtZXNcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1zTWF0Y2ggKHBhdGgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lZDogKHBhdGggJiYgcGF0aC5tYXRjaChOQU1FRF9QQVJBTVMpKSB8fCBbXSxcbiAgICBzcGxhdDogKHBhdGggJiYgcGF0aC5tYXRjaChTUExBVF9QQVJBTVMpKSB8fCBbXVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb24gdG8gYW4gZXhlY3V0YWJsZSByZWd1bGFyIGV4cHJlc3Npb25cbiAqXG4gKiBAbmFtZSByZWdleFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSByb3V0ZSBUaGUgcm91dGUvcGF0aCB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm4ge1JlZ0V4cH0gICAgICAgVGhlIHJlc3VsdGluZyByZWd1bGFyIGV4cHJlc3Npb24gaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcm91dGVUb1JlZ2V4IChyb3V0ZSkge1xuICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoRVNDQVBFLCAnXFxcXCQmJylcbiAgICAucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcoPzokMSk/JylcbiAgICAucmVwbGFjZShOQU1FRF9QQVJBTVMsIGZ1bmN0aW9uIChtYXRjaCwgb3B0aW9uYWwpIHsgcmV0dXJuIG9wdGlvbmFsID8gbWF0Y2ggOiAnKFteLz9dKyknOyB9KVxuICAgIC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgJyhbXj9dKj8pJyk7XG5cbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKVxufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBwYXRoIHBhcnQgb2YgYSBVUkwgdXNpbmcgZHluYW1pYyBwYXRoIGRlZmluaXRpb25zXG4gKlxuICogQG5hbWUgcGF0aFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGBwYXRoYCBhbmQgYHBhcmFtc2Aga2V5cyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgdGhlIHJlc3VsdGluZyBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIFRoZSBidWlsdCBwYXRoXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUGF0aCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICByZXR1cm4gY29tcG9zZVBhdGgob3B0aW9ucy5wYXRoLCBvcHRpb25zLnBhcmFtcylcbn1cblxuLyoqXG4gKiBCdWlsZCB0aGUgcXVlcnkgcGFydCBvZiBhIFVSTFxuICpcbiAqIEBuYW1lIHF1ZXJ5XG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBgcXVlcnlgIGtleS4gVGhlIGBrZXlgIHNob3VsZCBiZSBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFVSTCBxdWVyeSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgRW5jb2RlZCBVUkwgcXVlcnkgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUXVlcnkgKG9wdGlvbnMpIHtcbiAgdmFyIHF1ZXJ5ID0gW107XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnF1ZXJ5KSB7XG4gICAgdmFyIHBhcmFtID0gb3B0aW9ucy5xdWVyeVtrZXldO1xuICAgIHF1ZXJ5LnB1c2goKGtleSArIFwiPVwiICsgKGVuY29kZVVSSUNvbXBvbmVudChwYXJhbSkpKSk7XG4gIH1cblxuICByZXR1cm4gcXVlcnkubGVuZ3RoID8gcXVlcnkuam9pbignJicpIDogJydcbn1cblxuLyoqXG4gKiBUZXN0IGEgVVJMIGFnYWluc3QgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggYHBhdGhgIGFuZCBgdXJsYCBrZXlzLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBgcGF0aGAgaXMgdGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uIGFnYWluc3Qgd2hpY2ggdGhlIGB1cmxgIHdpbGwgYmUgdGVzdGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSAgICAgICAgYHRydWVgIGlmIGB1cmxgIG1hdGNoZXMgdGhlIGBwYXRoYCBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gdGVzdCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcmUgPSByb3V0ZVRvUmVnZXgob3B0aW9ucy5wYXRoKTtcblxuICByZXR1cm4gcmUudGVzdChvcHRpb25zLnVybClcbn1cblxuLyoqXG4gKiBCdWlsZCBhIGNvbXBsZXRlIFVSTFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYGhvc3RgLCBgcGF0aGAsIGBwYXJhbXNgLCBgcXVlcnlgIGFuZCBgaGFzaGAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlcnl0aGluZyBpcyBvcHRpb25hbCwgY2FsbGluZyBgYnVpbGRgIHdpdGhvdXQgYW55IHBhcmFtZXRlcnMgd2lsbCBqdXN0IHJldHVybiBhbiBlbXB0eSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgVGhlIGJ1aWx0IFVSTFxuICovXG5mdW5jdGlvbiBidWlsZCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5ob3N0ID0gb3B0aW9ucy5ob3N0IHx8ICcnO1xuXG4gIHZhciBwYXRoID0gYnVpbGRQYXRoKG9wdGlvbnMpO1xuICB2YXIgcXVlcnkgPSBidWlsZFF1ZXJ5KG9wdGlvbnMpO1xuXG4gIHJldHVybiBzbWFydENvbmNhdCh7IGhvc3Q6IG9wdGlvbnMuaG9zdCwgcGF0aDogcGF0aCwgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBvcHRpb25zLmhhc2ggfSlcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJndW1lbnRzIGFycmF5IGludG8gYW4gb2JqZWN0IHVzaW5nIHRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBuYW1lIHBhcmFtc1xuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7YXJyYXl9ICBhcmdzIEFyZ3VtZW50cyBhcnJheVxuICogQHJldHVybiB7b2JqZWN0fSAgICAgIFRoZSByZXN1bHRpbmcga2V5L3ZhbHVlIHBhaXJzXG4gKi9cbmZ1bmN0aW9uIHBhcmFtc0FycmF5Mk9iamVjdCAocGF0aCwgYXJncykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBwYXJhbXMgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcblxuICB2YXIgaSA9IDA7XG5cbiAgcGFyYW1zLm5hbWVkLmZvckVhY2goY29tcG9zZSk7XG4gIHBhcmFtcy5zcGxhdC5mb3JFYWNoKGNvbXBvc2UpO1xuXG4gIHJldHVybiByZXN1bHRcblxuICAvLyBIZWxwZXJcblxuICBmdW5jdGlvbiBjb21wb3NlIChuYW1lKSB7XG4gICAgcmVzdWx0W25hbWUuc2xpY2UoMSldID0gYXJnc1tpKytdO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc3RhdHMgYWJvdXQgYSBwYXRoXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBEeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7b2JqZWN0fSBhcmdzIE9iamVjdCBvZiBhcmd1bWVudHMgdG8gYW5hbHl6ZSB0aGUgc3RhdGUgb2YgcGF0aCBpZiBpdCB3YXMgaW5qZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVyc1xuICogQHJldHVybiB7b2JqZWN0fSAgICAgIE9iamVjdCBjb250YWluaW5nIGRpZmZlcmVudCBzdGF0cyBhYm91dCB0aGUgcGF0aFxuICovXG5mdW5jdGlvbiBzdGF0cyAocGF0aCwgYXJncykge1xuICB2YXIgb3B0aW9uYWwgPSBwYXRoLm1hdGNoKE9QVElPTkFMX1BBUkFNUykgfHwgW107XG4gIHZhciByZWYgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcbiAgdmFyIG5hbWVkID0gcmVmLm5hbWVkO1xuICB2YXIgc3BsYXQgPSByZWYuc3BsYXQ7XG5cbiAgdmFyIHBhcmFtcyA9IG5hbWVkLmNvbmNhdChzcGxhdCk7XG5cbiAgYXJncyA9IGFyZ3MgfHwge307XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzID0gcGFyYW1zQXJyYXkyT2JqZWN0KHBhdGgsIGFyZ3MpO1xuICB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICB2YXIgaXNPcHRpb25hbCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25hbC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHAgPSBvcHRpb25hbFtpXTtcbiAgICAgIGlmIChwLmluZGV4T2YocGFyYW0pICE9PSAtMSkge1xuICAgICAgICBpc09wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogcGFyYW0sXG4gICAgICB2YWx1ZTogYXJnc1twYXJhbS5zbGljZSgxKV0gfHwgJycsXG4gICAgICBvcHRpb25hbDogaXNPcHRpb25hbCxcbiAgICAgIHJlcXVpcmVkOiAhaXNPcHRpb25hbFxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICBoYXNPcHRpb25hbFBhcmFtczogT1BUSU9OQUxfUEFSQU1TLnRlc3QocGF0aCksXG4gICAgbWlzc2luZ09wdGlvbmFsUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ29wdGlvbmFsJyksXG4gICAgbWlzc2luZ1JlcXVpcmVkUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ3JlcXVpcmVkJyksXG4gICAgbWlzc2luZ1BhcmFtczogdGVzdFBhcmFtZXRlcihwYXJhbXMsICduYW1lJylcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgZ2l2ZW4gdXJsIGBwYXRoYCBhY2NvcmRpbmcgdG8gaXRzIGBkZWZpbml0aW9uYCB0byBleHRyYWN0IHRoZSBwYXJhbWV0ZXJzXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgaWYgYG9wdGlvbnNgIG9iamVjdCBpcyBtaXNzaW5nIGBwYXRoYCBvciBgZGVmaW5pdGlvbmBcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgYSBgcGF0aGAgYW5kIGR5bmFtaWMgcGF0aCBgZGVmaW5pdGlvbmAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuIG9wdGlvbm5hbHkgdGFrZSBgb2JqZWN0OiB0cnVlYCB0byBjb252ZXJ0IHRoZSByZXN1bHQgdG8gYW4gb2JqZWN0LCBkZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHJldHVybiB7bWl4ZWR9ICAgICAgICAgIEFycmF5IG9mIHBhcmFtZXRlciB2YWx1ZXMgZXh0cmFjdGVkIGZyb20gdGhlIHBhdGggb3Iga2V5L3ZhbHVlIHBhaXIgb2JqZWN0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybiBgbnVsbGAgaWYgdGhlIGBwYXRoYCBkb2VzIG5vdCBtYXRjaCB0aGUgYGRlZmluaXRpb25gLlxuICovXG5mdW5jdGlvbiBwYXJzZSAob3B0aW9ucykge1xuICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICB2YXIgcGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgdmFyIGRlZmluaXRpb24gPSBvcHRpb25zLmRlZmluaXRpb247XG4gIHZhciBvYmplY3QgPSBvcHRpb25zLm9iamVjdDtcblxuICBpZiAoIXBhdGggJiYgIWRlZmluaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VybC1jb21wb3NlcjogTWlzc2luZyBwYXRoIGFuZCBkZWZpbml0aW9uJylcbiAgfVxuXG4gIHZhciByZSA9IHJvdXRlVG9SZWdleChkZWZpbml0aW9uKTtcblxuICB2YXIgcGFyYW1zID0gcmUuZXhlYyhwYXRoKTtcblxuICBpZiAoIXBhcmFtcykgeyByZXR1cm4gbnVsbCB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLnNsaWNlKDEpO1xuXG4gIHZhciByZXN1bHQgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaSkge1xuICAgIGlmIChpID09PSBwYXJhbXMubGVuZ3RoIC0gMSkgeyByZXR1cm4gcGFyYW0gfHwgbnVsbCB9XG4gICAgcmV0dXJuIHBhcmFtID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSA6IG51bGxcbiAgfSk7XG5cbiAgaWYgKG9iamVjdCkge1xuICAgIHZhciBxdWVyeSA9IHJlc3VsdC5wb3AoKTtcbiAgICByZXN1bHQgPSBwYXJhbXNBcnJheTJPYmplY3QoZGVmaW5pdGlvbiwgcmVzdWx0KTtcbiAgICByZXN1bHQucXVlcnkgPSBxdWVyeTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxudmFyIGluZGV4ID0ge1xuICBidWlsZDogYnVpbGQsXG4gIHRlc3Q6IHRlc3QsXG4gIHN0YXRzOiBzdGF0cyxcbiAgcGFyc2U6IHBhcnNlLFxuICBwYXJhbXM6IHBhcmFtc0FycmF5Mk9iamVjdCxcbiAgcGF0aDogYnVpbGRQYXRoLFxuICBxdWVyeTogYnVpbGRRdWVyeSxcbiAgcmVnZXg6IHJvdXRlVG9SZWdleCxcbiAgbWF0Y2g6IGdldFBhcmFtc01hdGNoXG59O1xuXG5yZXR1cm4gaW5kZXg7XG5cbn0pKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91cmwtY29tcG9zZXIvZGlzdC91cmwtY29tcG9zZXIuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==