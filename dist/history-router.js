!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=2)}([function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):h=-1,s.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var n=s.length;n;){for(u=s,s=[];++h<n;)u&&u[h].run();h=-1,n=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||f||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){!function(n,e){t.exports=e()}(0,function(){"use strict";var t=/\/$/,n=/^\//,e=/[()]/g,r=/\((.*?)\)/g,o=/\*\w+/g,i=/(\(\?)?:\w+/,a=/(\(\?)?:\w+/g,c=/[-{}[\]+?.,\\^$|#\s]/g;function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t,n){return t=t||"",function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var n in t)if(hasOwnProperty.call(t,n))return!1;return!0}(n=n||[])?function(t){return t.replace(r,"")}(t):f(function(t){return t.replace(e,"")}(t=function(t,n){if(!u(n=n||[])){var e=t.match(a);e&&(n=e.map(function(t){return n[t.substr(1)]}))}u(n)&&n.forEach(function(n){n&&(t=function(t,n){var e=-1!==t.indexOf(":");if(n=encodeURIComponent(n),e)return t.replace(i,n);return t.replace(o,n)}(t,n))});var c=t.match(r);c&&c.forEach(function(n){(function(t){return i.test(t)||o.test(t)})(n)&&(t=t.replace(n,""))});return t}(t,n)))}function f(n){return n.replace(t,"")}function h(t){var e=t.host,r=t.path,o=t.query,i=t.hash;e=f(e);var a=r.split("?"),c=a[0],u=a[1];return r=(r=f(function(t){return t.replace(n,"")}(c)))?"/"+r:"",u=u?u+"&":"",""+e+r+(o=o?"?"+u+o:"")+(i=i?"#"+i:"")}function l(t,n){for(var e=[],r=0;r<t.length;r++){var o=t[r];o[n]&&""===o.value&&e.push(o)}return e}function d(t){return{named:t&&t.match(a)||[],splat:t&&t.match(o)||[]}}function p(t){return t=t.replace(c,"\\$&").replace(r,"(?:$1)?").replace(a,function(t,n){return n?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")}function v(t){return s((t=t||{}).path,t.params)}function m(t){var n=[];for(var e in(t=t||{}).query){var r=t.query[e];n.push(e+"="+encodeURIComponent(r))}return n.length?n.join("&"):""}function w(t,n){var e={},r=d(t),o=0;return r.named.forEach(i),r.splat.forEach(i),e;function i(t){e[t.slice(1)]=n[o++]}}return{build:function(t){(t=t||{}).host=t.host||"";var n=v(t),e=m(t);return h({host:t.host,path:n,query:e,hash:t.hash})},test:function(t){return p((t=t||{}).path).test(t.url)},stats:function(t,n){var e=t.match(r)||[],o=d(t),i=o.named,a=o.splat,c=i.concat(a);return u(n=n||{})&&(n=w(t,n)),{params:c=c.map(function(t){for(var r=!1,o=0;o<e.length;o++)if(-1!==e[o].indexOf(t)){r=!0;break}return{name:t,value:n[t.slice(1)]||"",optional:r,required:!r}}),hasOptionalParams:r.test(t),missingOptionalParams:l(c,"optional"),missingRequiredParams:l(c,"required"),missingParams:l(c,"name")}},parse:function(t){void 0===t&&(t={});var n=t.path,e=t.definition,r=t.object;if(!n&&!e)throw new Error("url-composer: Missing path and definition");var o=p(e).exec(n);if(!o)return null;var i=(o=o.slice(1)).map(function(t,n){return n===o.length-1?t||null:t?decodeURIComponent(t):null});if(r){var a=i.pop();(i=w(e,i)).query=a}return i},params:w,path:v,query:m,regex:p,match:d}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(3),o=e(1),i=e.n(o),a=e(9),c=e(10);class u{constructor(t){this.history=t?Object(r.b)():Object(r.a)(),this.routes=new Array,this.middlewares=new Array,this.history.block(n=>this._block(n,t))}_block(t,n){let e=`${t.pathname}${t.search}${t.hash}`,r=t,o=this.history.location,a=!1;for(let c=0;c<this.routes.length;c++)if(this.routes[c].validate(e,n))return(a=this._validateFromMiddlewares(this.middlewares,{to:r,from:o}))&&this.routes[c].middlewares.length>0&&a&&(a=this._validateFromMiddlewares(this.routes[c].middlewares,{to:r,from:o},a)),!!a&&this.routes[c].run(t,i.a.parse({path:e,definition:this.routes[c].path,object:!0}),a)}_validateFromMiddlewares(t,{from:n,to:e},r=null){if(t.length>0){for(let o=0;o<t.length;o++)if(!(r=t[o].run({to:e,from:n},r)))return!1;return r}return!0}when(t,n,e=[]){for(let t=0;t<e.length;t++)e[t]=new c.a(e[t]);return this.routes.push(new a.a(t,n,e)),this}middleware(t){return this.middlewares.push(new c.a(t)),this}}window.HistoryRouter=u,n.default=u},function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return O}),e.d(n,"b",function(){return T});var r=e(4),o=e(5),i=e(6),a=e(7),c=e(8);function u(t){return"/"===t.charAt(0)?t:"/"+t}function s(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)}function h(t,n){return f(t,n)?t.substr(n.length):t}function l(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function p(t,n,e,i){var a;"string"==typeof t?(a=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}(t)).state=n:(void 0===(a=Object(r.a)({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(a.key=e),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(o.a)(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(){var n=null;var e=[];return{setPrompt:function(e){return"production"!==t.env.NODE_ENV&&Object(a.a)(null==n,"A history supports only one prompt at a time"),n=e,function(){n===e&&(n=null)}},confirmTransitionTo:function(e,r,o,i){if(null!=n){var c="function"==typeof n?n(e,r):n;"string"==typeof c?"function"==typeof o?o(c,i):("production"!==t.env.NODE_ENV&&Object(a.a)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==c)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}var m=!("undefined"==typeof window||!window.document||!window.document.createElement);function w(t,n){n(window.confirm(t))}var y="popstate",g="hashchange";function b(){try{return window.history.state||{}}catch(t){return{}}}function O(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Browser history needs a DOM"):Object(c.a)(!1));var e=window.history,o=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),s=n,O=s.forceRefresh,E=void 0!==O&&O,P=s.getUserConfirmation,j=void 0===P?w:P,x=s.keyLength,T=void 0===x?6:x,A=n.basename?l(u(n.basename)):"";function k(n){var e=n||{},r=e.key,o=e.state,i=window.location,c=i.pathname+i.search+i.hash;return"production"!==t.env.NODE_ENV&&Object(a.a)(!A||f(c,A),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+A+'".'),A&&(c=h(c,A)),p(c,o,r)}function N(){return Math.random().toString(36).substr(2,T)}var L=v();function _(t){Object(r.a)(F,t),F.length=e.length,L.notifyListeners(F.location,F.action)}function D(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||U(k(t.state))}function S(){U(k(b()))}var R=!1;function U(t){if(R)R=!1,_();else{L.confirmTransitionTo(t,"POP",j,function(n){n?_({action:"POP",location:t}):function(t){var n=F.location,e=H.indexOf(n.key);-1===e&&(e=0);var r=H.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(R=!0,M(o))}(t)})}}var V=k(b()),H=[V.key];function C(t){return A+d(t)}function M(t){e.go(t)}var $=0;function I(t){1===($+=t)&&1===t?(window.addEventListener(y,D),i&&window.addEventListener(g,S)):0===$&&(window.removeEventListener(y,D),i&&window.removeEventListener(g,S))}var q=!1;var F={length:e.length,action:"POP",location:V,createHref:C,push:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),F.location);L.confirmTransitionTo(i,"PUSH",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.pushState({key:c,state:u},null,r),E)window.location.href=r;else{var s=H.indexOf(F.location.key),f=H.slice(0,-1===s?0:s+1);f.push(i.key),H=f,_({action:"PUSH",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(n,r){"production"!==t.env.NODE_ENV&&Object(a.a)(!("object"==typeof n&&void 0!==n.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=p(n,r,N(),F.location);L.confirmTransitionTo(i,"REPLACE",j,function(n){if(n){var r=C(i),c=i.key,u=i.state;if(o)if(e.replaceState({key:c,state:u},null,r),E)window.location.replace(r);else{var s=H.indexOf(F.location.key);-1!==s&&(H[s]=i.key),_({action:"REPLACE",location:i})}else"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var n=L.setPrompt(t);return q||(I(1),q=!0),function(){return q&&(q=!1,I(-1)),n()}},listen:function(t){var n=L.appendListener(t);return I(1),function(){I(-1),n()}}};return F}var E="hashchange",P={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+s(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:s,decodePath:u},slash:{encodePath:u,decodePath:u}};function j(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)}function x(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)}function T(n){void 0===n&&(n={}),m||("production"!==t.env.NODE_ENV?Object(c.a)(!1,"Hash history needs a DOM"):Object(c.a)(!1));var e=window.history,o=-1===window.navigator.userAgent.indexOf("Firefox"),s=n,y=s.getUserConfirmation,g=void 0===y?w:y,b=s.hashType,O=void 0===b?"slash":b,T=n.basename?l(u(n.basename)):"",A=P[O],k=A.encodePath,N=A.decodePath;function L(){var n=N(j());return"production"!==t.env.NODE_ENV&&Object(a.a)(!T||f(n,T),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+n+'" to begin with "'+T+'".'),T&&(n=h(n,T)),p(n)}var _=v();function D(t){Object(r.a)(B,t),B.length=e.length,_.notifyListeners(B.location,B.action)}var S=!1,R=null;function U(){var t=j(),n=k(t);if(t!==n)x(n);else{var e=L(),r=B.location;if(!S&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&Object(i.a)(t.state,n.state)}(r,e))return;if(R===d(e))return;R=null,function(t){if(S)S=!1,D();else{_.confirmTransitionTo(t,"POP",g,function(n){n?D({action:"POP",location:t}):function(t){var n=B.location,e=M.lastIndexOf(d(n));-1===e&&(e=0);var r=M.lastIndexOf(d(t));-1===r&&(r=0);var o=e-r;o&&(S=!0,$(o))}(t)})}}(e)}}var V=j(),H=k(V);V!==H&&x(H);var C=L(),M=[d(C)];function $(n){"production"!==t.env.NODE_ENV&&Object(a.a)(o,"Hash history go(n) causes a full page reload in this browser"),e.go(n)}var I=0;function q(t){1===(I+=t)&&1===t?window.addEventListener(E,U):0===I&&window.removeEventListener(E,U)}var F=!1;var B={length:e.length,action:"POP",location:C,createHref:function(t){return"#"+k(T+d(t))},push:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot push state; it is ignored");var r=p(n,void 0,void 0,B.location);_.confirmTransitionTo(r,"PUSH",g,function(n){if(n){var e=d(r),o=k(T+e);if(j()!==o){R=e,function(t){window.location.hash=t}(o);var i=M.lastIndexOf(d(B.location)),c=M.slice(0,-1===i?0:i+1);c.push(e),M=c,D({action:"PUSH",location:r})}else"production"!==t.env.NODE_ENV&&Object(a.a)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),D()}})},replace:function(n,e){"production"!==t.env.NODE_ENV&&Object(a.a)(void 0===e,"Hash history cannot replace state; it is ignored");var r=p(n,void 0,void 0,B.location);_.confirmTransitionTo(r,"REPLACE",g,function(t){if(t){var n=d(r),e=k(T+n);j()!==e&&(R=n,x(e));var o=M.indexOf(d(B.location));-1!==o&&(M[o]=n),D({action:"REPLACE",location:r})}})},go:$,goBack:function(){$(-1)},goForward:function(){$(1)},block:function(t){void 0===t&&(t=!1);var n=_.setPrompt(t);return F||(q(1),F=!0),function(){return F&&(F=!1,q(-1)),n()}},listen:function(t){var n=_.appendListener(t);return q(1),function(){q(-1),n()}}};return B}}).call(n,e(0))},function(t,n,e){"use strict";function r(){return(r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}n.a=r},function(t,n,e){"use strict";function r(t){return"/"===t.charAt(0)}function o(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=t&&t.split("/")||[],i=n&&n.split("/")||[],a=t&&r(t),c=n&&r(n),u=a||c;if(t&&r(t)?i=e:e.length&&(i.pop(),i=i.concat(e)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var h=0,l=i.length;l>=0;l--){var d=i[l];"."===d?o(i,l):".."===d?(o(i,l),h++):h&&(o(i,l),h--)}if(!u)for(;h--;h)i.unshift("..");!u||""===i[0]||i[0]&&r(i[0])||i.unshift("");var p=i.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a=function t(n,e){if(n===e)return!0;if(null==n||null==e)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(n,r){return t(n,e[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=n.valueOf(),a=e.valueOf();if(i!==n||a!==e)return t(i,a);var c=Object.keys(n),u=Object.keys(e);return c.length===u.length&&c.every(function(r){return t(n[r],e[r])})}return!1}},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV;n.a=function(t,n){if(!e){if(t)return;var r="Warning: "+n;"undefined"!=typeof console&&console.warn(r);try{throw Error(r)}catch(t){}}}}).call(n,e(0))},function(t,n,e){"use strict";(function(t){var e="production"===t.env.NODE_ENV,r="Invariant failed";n.a=function(t,n){if(!t)throw e?new Error(r):new Error(r+": "+(n||""))}}).call(n,e(0))},function(t,n,e){"use strict";var r=e(1),o=e.n(r);n.a=class{constructor(t,n,e){this.path=t,this.cb=n,this.middlewares=e}run(t,n,e){this.cb({location:t,params:n,response:e})}validate(t,n){return o.a.test(n?{path:`/#/${this.path}`,url:`/#/${t}`}:{path:this.path,url:t})}}},function(t,n,e){"use strict";n.a=class{constructor(t){this.cb=t}run({from:t,to:n},e=null){return this.cb({from:t,to:n,response:e})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYjAyMmM1MmY2YTg3ZGYzNmIxOGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsLWNvbXBvc2VyL2Rpc3QvdXJsLWNvbXBvc2VyLmpzIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXBhdGhuYW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS13YXJuaW5nL2Rpc3QvdGlueS13YXJuaW5nLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1pbnZhcmlhbnQvZGlzdC90aW55LWludmFyaWFudC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbGliL1JvdXRlLmpzIiwid2VicGFjazovLy8uL2xpYi9NaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJ0aGlzIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImdsb2JhbCIsImZhY3RvcnkiLCJUUkFJTElOR19TTEFTSCIsIkxFQURJTkdfU0xBU0giLCJQQVJFTlRIRVNFUyIsIk9QVElPTkFMX1BBUkFNUyIsIlNQTEFUX1BBUkFNUyIsIk5BTUVEX1BBUkFNIiwiTkFNRURfUEFSQU1TIiwiRVNDQVBFIiwiaXNBcnJheSIsIm9iaiIsInRvU3RyaW5nIiwiY29tcG9zZVBhdGgiLCJwYXRoIiwia2V5IiwiaXNFbXB0eSIsInJlcGxhY2UiLCJyZW1vdmVPcHRpb25hbFBhcmFtcyIsInJlbW92ZVRyYWlsaW5nU2xhc2giLCJyZW1vdmVQYXJlbnRoZXNlcyIsInBhcmFtTmFtZXMiLCJtYXRjaCIsIm1hcCIsInN1YnN0ciIsImZvckVhY2giLCJhcmciLCJoYXNOYW1lZFBhcmFtIiwiaW5kZXhPZiIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2VBcmciLCJtYXRjaGVzIiwicGFydCIsInBhcmFtIiwidGVzdCIsImlzTmFtZWRPclNwbGF0UGFyYW0iLCJyZXBsYWNlQXJncyIsInNtYXJ0Q29uY2F0IiwicmVmIiwiaG9zdCIsInF1ZXJ5IiwiaGFzaCIsInJlZiQxIiwic3BsaXQiLCJwYXRoUGFydCIsInF1ZXJ5UGFydCIsInJlbW92ZUxlYWRpbmdTbGFzaCIsInRlc3RQYXJhbWV0ZXIiLCJwYXJhbXMiLCJmaWVsZCIsInJlc3VsdCIsInZhbHVlIiwiZ2V0UGFyYW1zTWF0Y2giLCJuYW1lZCIsInNwbGF0Iiwicm91dGVUb1JlZ2V4Iiwicm91dGUiLCJvcHRpb25hbCIsIlJlZ0V4cCIsImJ1aWxkUGF0aCIsIm9wdGlvbnMiLCJidWlsZFF1ZXJ5Iiwiam9pbiIsInBhcmFtc0FycmF5Mk9iamVjdCIsImNvbXBvc2UiLCJzbGljZSIsImJ1aWxkIiwidXJsIiwic3RhdHMiLCJpc09wdGlvbmFsIiwicmVxdWlyZWQiLCJoYXNPcHRpb25hbFBhcmFtcyIsIm1pc3NpbmdPcHRpb25hbFBhcmFtcyIsIm1pc3NpbmdSZXF1aXJlZFBhcmFtcyIsIm1pc3NpbmdQYXJhbXMiLCJwYXJzZSIsImRlZmluaXRpb24iLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicG9wIiwicmVnZXgiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hpc3RvcnlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV91cmxfY29tcG9zZXJfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19saWJfUm91dGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbGliX01pZGRsZXdhcmVfXyIsIkhpc3RvcnlSb3V0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJoaXN0b3J5Iiwicm91dGVzIiwibWlkZGxld2FyZXMiLCJibG9jayIsImxvY2F0aW9uIiwiX2Jsb2NrIiwicGF0aG5hbWUiLCJzZWFyY2giLCJ0byIsImZyb20iLCJyZXNwb25zZSIsInZhbGlkYXRlIiwiX3ZhbGlkYXRlRnJvbU1pZGRsZXdhcmVzIiwiYSIsImNiIiwid2luZG93IiwiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCJjcmVhdGVIYXNoSGlzdG9yeSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmFiZWxfcnVudGltZV9oZWxwZXJzX2VzbV9leHRlbmRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVzb2x2ZV9wYXRobmFtZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3ZhbHVlX2VxdWFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfdGlueV93YXJuaW5nX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfdGlueV9pbnZhcmlhbnRfXyIsImFkZExlYWRpbmdTbGFzaCIsImNoYXJBdCIsInN0cmlwTGVhZGluZ1NsYXNoIiwiaGFzQmFzZW5hbWUiLCJwcmVmaXgiLCJzdHJpcEJhc2VuYW1lIiwic3RyaXBUcmFpbGluZ1NsYXNoIiwiY3JlYXRlUGF0aCIsImNyZWF0ZUxvY2F0aW9uIiwic3RhdGUiLCJjdXJyZW50TG9jYXRpb24iLCJoYXNoSW5kZXgiLCJzZWFyY2hJbmRleCIsInBhcnNlUGF0aCIsInVuZGVmaW5lZCIsImRlY29kZVVSSSIsIlVSSUVycm9yIiwiY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIiLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJuZXh0UHJvbXB0IiwiTk9ERV9FTlYiLCJjb25maXJtVHJhbnNpdGlvblRvIiwiYWN0aW9uIiwiZ2V0VXNlckNvbmZpcm1hdGlvbiIsImNhbGxiYWNrIiwiYXBwZW5kTGlzdGVuZXIiLCJmbiIsImlzQWN0aXZlIiwibGlzdGVuZXIiLCJmaWx0ZXIiLCJpdGVtIiwibm90aWZ5TGlzdGVuZXJzIiwiX2xlbiIsIl9rZXkiLCJjYW5Vc2VET00iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb25maXJtYXRpb24iLCJtZXNzYWdlIiwiY29uZmlybSIsIlBvcFN0YXRlRXZlbnQiLCJIYXNoQ2hhbmdlRXZlbnQiLCJnZXRIaXN0b3J5U3RhdGUiLCJwcm9wcyIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5IiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0hpc3RvcnkiLCJuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciIsIl9wcm9wcyIsIl9wcm9wcyRmb3JjZVJlZnJlc2giLCJmb3JjZVJlZnJlc2giLCJfcHJvcHMkZ2V0VXNlckNvbmZpcm0iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRyYW5zaXRpb25NYW5hZ2VyIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJoYW5kbGVQb3BTdGF0ZSIsImV2ZW50IiwiaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCIsImhhbmRsZVBvcCIsImhhbmRsZUhhc2hDaGFuZ2UiLCJmb3JjZU5leHRQb3AiLCJvayIsImZyb21Mb2NhdGlvbiIsInRvTG9jYXRpb24iLCJ0b0luZGV4IiwiYWxsS2V5cyIsImZyb21JbmRleCIsImRlbHRhIiwiZ28iLCJyZXZlcnRQb3AiLCJpbml0aWFsTG9jYXRpb24iLCJjcmVhdGVIcmVmIiwibGlzdGVuZXJDb3VudCIsImNoZWNrRE9NTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0Jsb2NrZWQiLCJocmVmIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJ1bmJsb2NrIiwibGlzdGVuIiwidW5saXN0ZW4iLCJIYXNoQ2hhbmdlRXZlbnQkMSIsIkhhc2hQYXRoQ29kZXJzIiwiaGFzaGJhbmciLCJlbmNvZGVQYXRoIiwiZGVjb2RlUGF0aCIsIm5vc2xhc2giLCJzbGFzaCIsImdldEhhc2hQYXRoIiwic3Vic3RyaW5nIiwicmVwbGFjZUhhc2hQYXRoIiwiY2FuR29XaXRob3V0UmVsb2FkIiwiX3Byb3BzJGhhc2hUeXBlIiwiaGFzaFR5cGUiLCJfSGFzaFBhdGhDb2RlcnMkaGFzaFQiLCJpZ25vcmVQYXRoIiwiZW5jb2RlZFBhdGgiLCJwcmV2TG9jYXRpb24iLCJiIiwibG9jYXRpb25zQXJlRXF1YWwiLCJhbGxQYXRocyIsImxhc3RJbmRleE9mIiwicHVzaEhhc2hQYXRoIiwibmV4dFBhdGhzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsImluZGV4IiwiayIsInRvUGFydHMiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJ1bnNoaWZ0IiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJ2YWx1ZUVxdWFsIiwiZXZlcnkiLCJhVHlwZSIsImFWYWx1ZSIsInZhbHVlT2YiLCJiVmFsdWUiLCJhS2V5cyIsImtleXMiLCJiS2V5cyIsImlzUHJvZHVjdGlvbiIsImNvbmRpdGlvbiIsInRleHQiLCJjb25zb2xlIiwid2FybiIsIngiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdXJsX2NvbXBvc2VyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfdXJsX2NvbXBvc2VyX19fZGVmYXVsdCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdB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QSxJQUFBZ1UsRUFBQSxlQUFBaFUsRUFBQWtDLElBQUF3SixTQUNBakIsRUFBQSxtQkFhZW5DLEVBQUEsRUFaZixTQUFBMkwsRUFBQXJILEdBQ0EsSUFBQXFILEVBSUEsTUFBQUQsRUFDQSxJQUFBOVQsTUFBQXVLLEdBRUEsSUFBQXZLLE1BQUF1SyxFQUFBLE1BQUFtQyxHQUFBLG1EQ1ZBLElBQUEwSCxFQUFBblcsRUFBQSxHQUFBb1csRUFBQXBXLEVBQUFtQixFQUFBZ1YsR0FzRGVoTSxFQUFBLFFBNUNmTyxZQUFBMUUsRUFBQXlGLEVBQUFaLEdBSUF4SSxLQUFBMkQsT0FLQTNELEtBQUFvSixLQUtBcEosS0FBQXdJLGNBVUFILElBQUFLLEVBQUE3QyxFQUFBbUQsR0FDQWhKLEtBQUFvSixJQUFhVixXQUFBN0MsU0FBQW1ELGFBV2JYLFNBQUExRSxFQUFBMkIsR0FDQSxPQUFXeU8sRUFBQTVLLEVBQUdwRSxLQUFBTyxHQUNMM0IsV0FBYTNELEtBQUEyRCxPQUFVcUQsVUFBY3JELE1BQ3JDQSxLQUFBM0QsS0FBQTJELEtBQUFxRCxJQUFBckQsb0NDekJNbUUsRUFBQSxRQXBCZk8sWUFBQWUsR0FJQXBKLEtBQUFvSixLQVdBZixLQUFBVSxLQUFPQSxFQUFBRCxNQUFXRSxFQUFBLE1BQ2xCLE9BQUFoSixLQUFBb0osSUFBb0JMLE9BQUFELEtBQUFFIiwiZmlsZSI6ImRpc3QvaGlzdG9yeS1yb3V0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYjAyMmM1MmY2YTg3ZGYzNmIxOGQiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC51cmxDb21wb3NlciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbW9kdWxlIHVybC1jb21wb3NlclxuICogQGRlc2NyaXB0aW9uIE1vZHVsZSB0byBidWlsZCBkeW5hbWljIFVSTHMgd2l0aG91dCBhIGZ1c3NcbiAqL1xuXG4vL1xuLy8gUGF0aCBhbmFseXNpcyByZWd1bGFyIGV4cHJlc3Npb25zXG4vL1xuXG4vKipcbiAqIFRyYWlsaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIFRSQUlMSU5HX1NMQVNIID0gL1xcLyQvO1xuLyoqXG4gKiBMZWFkaW5nIHNsYXNoIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIExFQURJTkdfU0xBU0ggPSAvXlxcLy87XG4vKipcbiAqIFBhcmVudGhlc2VzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQQVJFTlRIRVNFUyA9IC9bKCldL2c7XG4vKipcbiAqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZ2xvYmFsIHJlZ3VsYXIgZXhwcmVzc2lvblxuICogQHByaXZhdGVcbiAqL1xudmFyIE9QVElPTkFMX1BBUkFNUyA9IC9cXCgoLio/KVxcKS9nO1xuLyoqXG4gKiBTcGxhdCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBTUExBVF9QQVJBTVMgPSAvXFwqXFx3Ky9nO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXIgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTkFNRURfUEFSQU0gPSAvKFxcKFxcPyk/OlxcdysvO1xuLyoqXG4gKiBOYW1lZCBwYXJhbWV0ZXJzIGdsb2JhbCByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBOQU1FRF9QQVJBTVMgPSAvKFxcKFxcPyk/OlxcdysvZztcbi8qKlxuICogU29tZSB3aWVyZCBlc2NhcGUgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRVNDQVBFID0gL1ste31bXFxdKz8uLFxcXFxeJHwjXFxzXS9nO1xuXG4vL1xuLy8gSGVscGVyIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBvYmplY3QgaXMgYW4gYXJyYXlcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge21peGVkfSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICBgdHJ1ZWAgaWYgYG9iamAgaXMgYW4gYXJyYXkgZWxzZSBgZmFsc2VgXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSdcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGdpdmVuIG9iamVjdCBpcyBlbXB0eVxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gICAgYHRydWVgIGlmIGBvYmpgIGlzIGVtcHR5IGVsc2UgYGZhbHNlYFxuICovXG5mdW5jdGlvbiBpc0VtcHR5IChvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKG9iai5sZW5ndGggPiAwKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChvYmoubGVuZ3RoID09PSAwKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7IHJldHVybiB0cnVlIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHJldHVybiBmYWxzZSB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG4vL1xuLy8gIyMgUGF0aCBwYXJzaW5nIGZ1bmN0aW9uc1xuLy9cblxuLyoqXG4gKiBJbmplY3QgYXJndW1lbnRzIGludG8gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvbiBhbmQgY2xlYW4gdW51c2VkIG9wdGlvbmFsIHBhcnRzXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZ3MgT2JqZWN0IG9yIGFycmF5IG9mIGFyZ3VtZW50cyB0byBpbmplY3QuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgSWYgaXQgaXMgYW4gYXJyYXksIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGluIHNlcXVlbnRpYWwgb3JkZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgRm9yIGFuIG9iamVjdCwgdGhlIG9iamVjdCBrZXlzIHdpbGwgYmUgdXNlZCB0byBtYXAgdmFsdWVzIHRvIHRoZSBkeW5hbWljIHBhcnRzIG9mIHRoZSBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBwYXJzZWQgcGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBjb21wb3NlUGF0aCAocGF0aCwgYXJncykge1xuICBwYXRoID0gcGF0aCB8fCAnJztcbiAgYXJncyA9IGFyZ3MgfHwgW107XG5cbiAgaWYgKGlzRW1wdHkoYXJncykpIHtcbiAgICByZXR1cm4gcmVtb3ZlT3B0aW9uYWxQYXJhbXMocGF0aClcbiAgfVxuXG4gIHBhdGggPSByZXBsYWNlQXJncyhwYXRoLCBhcmdzKTtcblxuICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChcbiAgICByZW1vdmVQYXJlbnRoZXNlcyhwYXRoKVxuICApXG59XG5cbi8qKlxuICogUmVwbGFjZSBkeW5hbWljIHBhcnRzIG9mIGEgcGF0aCBieSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBUaGUgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqIEBwYXJhbSAge21peGVkfSAgYXJncyBPYmplY3Qgb3IgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGluamVjdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICBJZiBpdCBpcyBhbiBhcnJheSwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW4gc2VxdWVudGlhbCBvcmRlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICBGb3IgYW4gb2JqZWN0LCB0aGUgb2JqZWN0IGtleXMgd2lsbCBiZSB1c2VkIHRvIG1hcCB2YWx1ZXMgdG8gdGhlIGR5bmFtaWMgcGFydHMgb2YgdGhlIHBhdGguXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgUGF0aCB3aXRoIGluamVjdGVkIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiByZXBsYWNlQXJncyAocGF0aCwgYXJncykge1xuICBhcmdzID0gYXJncyB8fCBbXTtcblxuICBpZiAoIWlzQXJyYXkoYXJncykpIHtcbiAgICB2YXIgcGFyYW1OYW1lcyA9IHBhdGgubWF0Y2goTkFNRURfUEFSQU1TKTtcbiAgICBpZiAocGFyYW1OYW1lcykge1xuICAgICAgYXJncyA9IHBhcmFtTmFtZXMubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhcmdzW25hbWUuc3Vic3RyKDEpXTsgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgaWYgKGFyZykgeyBwYXRoID0gcmVwbGFjZUFyZyhwYXRoLCBhcmcpOyB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0Y2hlcyA9IHBhdGgubWF0Y2goT1BUSU9OQUxfUEFSQU1TKTtcblxuICBpZiAobWF0Y2hlcykge1xuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgaWYgKGlzTmFtZWRPclNwbGF0UGFyYW0ocGFydCkpIHtcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShwYXJ0LCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGF0aFxufVxuXG4vKipcbiAqIFJlcGxhY2UgdGhlIGZpcnN0IG1hdGNoaW5nIGR5bmFtaWMgcGFydCBvZiBhIHBhdGggYnkgdGhlIGdpdmVuIGFyZ3VtZW50XG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcGFyYW0gIHttaXhlZH0gIGFyZyAgVGhlIHZhbHVlIHRvIGluamVjdFxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VBcmcgKHBhdGgsIGFyZykge1xuICB2YXIgaGFzTmFtZWRQYXJhbSA9IHBhdGguaW5kZXhPZignOicpICE9PSAtMTtcbiAgYXJnID0gZW5jb2RlVVJJQ29tcG9uZW50KGFyZyk7XG5cbiAgaWYgKGhhc05hbWVkUGFyYW0pIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKE5BTUVEX1BBUkFNLCBhcmcpXG4gIH1cblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgYXJnKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBuZXh0IGR5bmFtaWMgcGFydCBpbiBhIHBhdGggaXMgYSBuYW1lZCBvciBzcGxhdCBwYXJhbWV0ZXIgZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXJhbSBEeW5hbWljIHBhcnQgb2YgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gICAgICBgdHJ1ZWAgaWYgYHBhcmFtYCBpcyBhIG5hbWVkIG9yIHNwbGF0IHBhcmFtZXRlciBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gaXNOYW1lZE9yU3BsYXRQYXJhbSAocGFyYW0pIHtcbiAgcmV0dXJuIE5BTUVEX1BBUkFNLnRlc3QocGFyYW0pIHx8IFNQTEFUX1BBUkFNUy50ZXN0KHBhcmFtKVxufVxuXG4vKipcbiAqIFN0cmlwIHRoZSB1bmZpbGxlZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGZyb20gYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggdG8gbW9kaWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlT3B0aW9uYWxQYXJhbXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRyYWlsaW5nU2xhc2ggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSCwgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBjaGFyYWN0ZXIgZnJvbSBhIHBhdGggaWYgaXQgaXMgYSBzbGFzaFxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIG1vZGlmeVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgIFRoZSBtb2RpZmllZCBwYXRoXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUxlYWRpbmdTbGFzaCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKExFQURJTkdfU0xBU0gsICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZS9jbGVhbiByZW1haW5pbmcgcGFyZW50aGVzZXMgZnJvbSBhIHBhdGggYWZ0ZXIgaXQgaGFzIGJlZW4gcGFyc2VkXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gbW9kaWZ5L2NsZWFuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgVGhlIG1vZGlmaWVkIHBhdGhcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUGFyZW50aGVzZXMgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShQQVJFTlRIRVNFUywgJycpXG59XG5cbi8qKlxuICogU21hcnQgY29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaC4gV2lsbCBhZGQgdGhlIGNvcnJlY3QgZ2x1ZSBjaGFyYWN0ZXIgd2hlbiBuZWVkZWRcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBPYmplY3QgZGVzY3JpYmluZyB0aGUgdXJsXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgQ29uY2F0ZW5hdGlvbiBvZiBob3N0LCBwYXRoLCBxdWVyeSBhbmQgaGFzaFxuICovXG5mdW5jdGlvbiBzbWFydENvbmNhdCAocmVmKSB7XG4gIHZhciBob3N0ID0gcmVmLmhvc3Q7XG4gIHZhciBwYXRoID0gcmVmLnBhdGg7XG4gIHZhciBxdWVyeSA9IHJlZi5xdWVyeTtcbiAgdmFyIGhhc2ggPSByZWYuaGFzaDtcblxuICAvLyBOb3JtYWxpemUgaG9zdFxuICBob3N0ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChob3N0KTtcblxuICAvLyBTcGxpdCBwYXRoIGluIGNhc2UgcGF0aCBjb250YWlucyBhbiBleGlzdGluZyBxdWVyeVxuICB2YXIgcmVmJDEgPSBwYXRoLnNwbGl0KCc/Jyk7XG4gIHZhciBwYXRoUGFydCA9IHJlZiQxWzBdO1xuICB2YXIgcXVlcnlQYXJ0ID0gcmVmJDFbMV07XG5cbiAgLy8gTm9ybWFsaXplIHBhdGhcbiAgcGF0aCA9IHJlbW92ZVRyYWlsaW5nU2xhc2goXG4gICAgcmVtb3ZlTGVhZGluZ1NsYXNoKHBhdGhQYXJ0KVxuICApO1xuXG4gIC8vIEFkZCBzcGVjaWZpYyBnbHVlIGNoYXJhY3RlcnNcbiAgcGF0aCA9IHBhdGggPyAoXCIvXCIgKyBwYXRoKSA6ICcnO1xuICBxdWVyeVBhcnQgPSBxdWVyeVBhcnQgPyAocXVlcnlQYXJ0ICsgXCImXCIpIDogJyc7XG4gIHF1ZXJ5ID0gcXVlcnkgPyAoXCI/XCIgKyBxdWVyeVBhcnQgKyBxdWVyeSkgOiAnJztcbiAgaGFzaCA9IGhhc2ggPyAoXCIjXCIgKyBoYXNoKSA6ICcnO1xuXG4gIHJldHVybiAoXCJcIiArIGhvc3QgKyBwYXRoICsgcXVlcnkgKyBoYXNoKVxufVxuXG4vKipcbiAqIFRlc3QgdGhlIGV4aXN0ZW5jZSBvZiBjZXJ0YWluIGZpZWxkcyBpbiB0aGUgc3RhdHNcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge2FycmF5fSAgcGFyYW1zIExpc3Qgb2YgYW5hbHl6ZWQgcGFyYW1ldGVyc1xuICogQHBhcmFtICB7c3RyaW5nfSBmaWVsZCAgTmFtZSBvZiB0aGUgZmllbGQgdG8gYW5hbHl6ZVxuICogQHJldHVybiB7YXJyYXl9ICAgICAgICAgRmlsdGVyZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gdGVzdFBhcmFtZXRlciAocGFyYW1zLCBmaWVsZCkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcCA9IHBhcmFtc1tpXTtcbiAgICBpZiAocFtmaWVsZF0gJiYgcC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy9cbi8vICMjIFB1YmxpYyBBUEkgZnVuY3Rpb25zXG4vL1xuXG4vKipcbiAqIFJldHJpZXZlIG1hdGNoZXMgZm9yIG5hbWVkIGFuZCBzcGxhdCBwYXJhbXMgZm9yIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb25cbiAqXG4gKiBAbmFtZSBtYXRjaFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIER5bmFtaWMgcGF0aCBkZWZpbml0aW9uXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgT2JqZWN0IHdpdGggYSBgbmFtZWRgIGFuZCBgc3BsYXRgIGFycmF5IGNvbnRhaW5pbmcgdGhlIGV4dHJhY3RlZCBwYXJhbWV0ZXIgbmFtZXNcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1zTWF0Y2ggKHBhdGgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lZDogKHBhdGggJiYgcGF0aC5tYXRjaChOQU1FRF9QQVJBTVMpKSB8fCBbXSxcbiAgICBzcGxhdDogKHBhdGggJiYgcGF0aC5tYXRjaChTUExBVF9QQVJBTVMpKSB8fCBbXVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgZHluYW1pYyBwYXRoIGRlZmluaXRpb24gdG8gYW4gZXhlY3V0YWJsZSByZWd1bGFyIGV4cHJlc3Npb25cbiAqXG4gKiBAbmFtZSByZWdleFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSByb3V0ZSBUaGUgcm91dGUvcGF0aCB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm4ge1JlZ0V4cH0gICAgICAgVGhlIHJlc3VsdGluZyByZWd1bGFyIGV4cHJlc3Npb24gaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcm91dGVUb1JlZ2V4IChyb3V0ZSkge1xuICByb3V0ZSA9IHJvdXRlLnJlcGxhY2UoRVNDQVBFLCAnXFxcXCQmJylcbiAgICAucmVwbGFjZShPUFRJT05BTF9QQVJBTVMsICcoPzokMSk/JylcbiAgICAucmVwbGFjZShOQU1FRF9QQVJBTVMsIGZ1bmN0aW9uIChtYXRjaCwgb3B0aW9uYWwpIHsgcmV0dXJuIG9wdGlvbmFsID8gbWF0Y2ggOiAnKFteLz9dKyknOyB9KVxuICAgIC5yZXBsYWNlKFNQTEFUX1BBUkFNUywgJyhbXj9dKj8pJyk7XG5cbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcm91dGUgKyAnKD86XFxcXD8oW1xcXFxzXFxcXFNdKikpPyQnKVxufVxuXG4vKipcbiAqIEJ1aWxkIHRoZSBwYXRoIHBhcnQgb2YgYSBVUkwgdXNpbmcgZHluYW1pYyBwYXRoIGRlZmluaXRpb25zXG4gKlxuICogQG5hbWUgcGF0aFxuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGBwYXRoYCBhbmQgYHBhcmFtc2Aga2V5cyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgdGhlIHJlc3VsdGluZyBwYXRoLlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgIFRoZSBidWlsdCBwYXRoXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUGF0aCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICByZXR1cm4gY29tcG9zZVBhdGgob3B0aW9ucy5wYXRoLCBvcHRpb25zLnBhcmFtcylcbn1cblxuLyoqXG4gKiBCdWlsZCB0aGUgcXVlcnkgcGFydCBvZiBhIFVSTFxuICpcbiAqIEBuYW1lIHF1ZXJ5XG4gKiBAZnVuY3Rpb25cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBgcXVlcnlgIGtleS4gVGhlIGBrZXlgIHNob3VsZCBiZSBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFVSTCBxdWVyeSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgRW5jb2RlZCBVUkwgcXVlcnkgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUXVlcnkgKG9wdGlvbnMpIHtcbiAgdmFyIHF1ZXJ5ID0gW107XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnF1ZXJ5KSB7XG4gICAgdmFyIHBhcmFtID0gb3B0aW9ucy5xdWVyeVtrZXldO1xuICAgIHF1ZXJ5LnB1c2goKGtleSArIFwiPVwiICsgKGVuY29kZVVSSUNvbXBvbmVudChwYXJhbSkpKSk7XG4gIH1cblxuICByZXR1cm4gcXVlcnkubGVuZ3RoID8gcXVlcnkuam9pbignJicpIDogJydcbn1cblxuLyoqXG4gKiBUZXN0IGEgVVJMIGFnYWluc3QgYSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggYHBhdGhgIGFuZCBgdXJsYCBrZXlzLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBgcGF0aGAgaXMgdGhlIGR5bmFtaWMgcGF0aCBkZWZpbml0aW9uIGFnYWluc3Qgd2hpY2ggdGhlIGB1cmxgIHdpbGwgYmUgdGVzdGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSAgICAgICAgYHRydWVgIGlmIGB1cmxgIG1hdGNoZXMgdGhlIGBwYXRoYCBlbHNlIGBmYWxzZWBcbiAqL1xuZnVuY3Rpb24gdGVzdCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcmUgPSByb3V0ZVRvUmVnZXgob3B0aW9ucy5wYXRoKTtcblxuICByZXR1cm4gcmUudGVzdChvcHRpb25zLnVybClcbn1cblxuLyoqXG4gKiBCdWlsZCBhIGNvbXBsZXRlIFVSTFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYGhvc3RgLCBgcGF0aGAsIGBwYXJhbXNgLCBgcXVlcnlgIGFuZCBgaGFzaGAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlcnl0aGluZyBpcyBvcHRpb25hbCwgY2FsbGluZyBgYnVpbGRgIHdpdGhvdXQgYW55IHBhcmFtZXRlcnMgd2lsbCBqdXN0IHJldHVybiBhbiBlbXB0eSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgVGhlIGJ1aWx0IFVSTFxuICovXG5mdW5jdGlvbiBidWlsZCAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5ob3N0ID0gb3B0aW9ucy5ob3N0IHx8ICcnO1xuXG4gIHZhciBwYXRoID0gYnVpbGRQYXRoKG9wdGlvbnMpO1xuICB2YXIgcXVlcnkgPSBidWlsZFF1ZXJ5KG9wdGlvbnMpO1xuXG4gIHJldHVybiBzbWFydENvbmNhdCh7IGhvc3Q6IG9wdGlvbnMuaG9zdCwgcGF0aDogcGF0aCwgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBvcHRpb25zLmhhc2ggfSlcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJndW1lbnRzIGFycmF5IGludG8gYW4gb2JqZWN0IHVzaW5nIHRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICpcbiAqIEBuYW1lIHBhcmFtc1xuICogQGZ1bmN0aW9uXG4gKiBAcHVibGljXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBwYXRoIFRoZSBkeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7YXJyYXl9ICBhcmdzIEFyZ3VtZW50cyBhcnJheVxuICogQHJldHVybiB7b2JqZWN0fSAgICAgIFRoZSByZXN1bHRpbmcga2V5L3ZhbHVlIHBhaXJzXG4gKi9cbmZ1bmN0aW9uIHBhcmFtc0FycmF5Mk9iamVjdCAocGF0aCwgYXJncykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBwYXJhbXMgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcblxuICB2YXIgaSA9IDA7XG5cbiAgcGFyYW1zLm5hbWVkLmZvckVhY2goY29tcG9zZSk7XG4gIHBhcmFtcy5zcGxhdC5mb3JFYWNoKGNvbXBvc2UpO1xuXG4gIHJldHVybiByZXN1bHRcblxuICAvLyBIZWxwZXJcblxuICBmdW5jdGlvbiBjb21wb3NlIChuYW1lKSB7XG4gICAgcmVzdWx0W25hbWUuc2xpY2UoMSldID0gYXJnc1tpKytdO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc3RhdHMgYWJvdXQgYSBwYXRoXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gcGF0aCBEeW5hbWljIHBhdGggZGVmaW5pdGlvblxuICogQHBhcmFtICB7b2JqZWN0fSBhcmdzIE9iamVjdCBvZiBhcmd1bWVudHMgdG8gYW5hbHl6ZSB0aGUgc3RhdGUgb2YgcGF0aCBpZiBpdCB3YXMgaW5qZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVyc1xuICogQHJldHVybiB7b2JqZWN0fSAgICAgIE9iamVjdCBjb250YWluaW5nIGRpZmZlcmVudCBzdGF0cyBhYm91dCB0aGUgcGF0aFxuICovXG5mdW5jdGlvbiBzdGF0cyAocGF0aCwgYXJncykge1xuICB2YXIgb3B0aW9uYWwgPSBwYXRoLm1hdGNoKE9QVElPTkFMX1BBUkFNUykgfHwgW107XG4gIHZhciByZWYgPSBnZXRQYXJhbXNNYXRjaChwYXRoKTtcbiAgdmFyIG5hbWVkID0gcmVmLm5hbWVkO1xuICB2YXIgc3BsYXQgPSByZWYuc3BsYXQ7XG5cbiAgdmFyIHBhcmFtcyA9IG5hbWVkLmNvbmNhdChzcGxhdCk7XG5cbiAgYXJncyA9IGFyZ3MgfHwge307XG5cbiAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICBhcmdzID0gcGFyYW1zQXJyYXkyT2JqZWN0KHBhdGgsIGFyZ3MpO1xuICB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICB2YXIgaXNPcHRpb25hbCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25hbC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHAgPSBvcHRpb25hbFtpXTtcbiAgICAgIGlmIChwLmluZGV4T2YocGFyYW0pICE9PSAtMSkge1xuICAgICAgICBpc09wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogcGFyYW0sXG4gICAgICB2YWx1ZTogYXJnc1twYXJhbS5zbGljZSgxKV0gfHwgJycsXG4gICAgICBvcHRpb25hbDogaXNPcHRpb25hbCxcbiAgICAgIHJlcXVpcmVkOiAhaXNPcHRpb25hbFxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICBoYXNPcHRpb25hbFBhcmFtczogT1BUSU9OQUxfUEFSQU1TLnRlc3QocGF0aCksXG4gICAgbWlzc2luZ09wdGlvbmFsUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ29wdGlvbmFsJyksXG4gICAgbWlzc2luZ1JlcXVpcmVkUGFyYW1zOiB0ZXN0UGFyYW1ldGVyKHBhcmFtcywgJ3JlcXVpcmVkJyksXG4gICAgbWlzc2luZ1BhcmFtczogdGVzdFBhcmFtZXRlcihwYXJhbXMsICduYW1lJylcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgZ2l2ZW4gdXJsIGBwYXRoYCBhY2NvcmRpbmcgdG8gaXRzIGBkZWZpbml0aW9uYCB0byBleHRyYWN0IHRoZSBwYXJhbWV0ZXJzXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgaWYgYG9wdGlvbnNgIG9iamVjdCBpcyBtaXNzaW5nIGBwYXRoYCBvciBgZGVmaW5pdGlvbmBcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgYSBgcGF0aGAgYW5kIGR5bmFtaWMgcGF0aCBgZGVmaW5pdGlvbmAuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuIG9wdGlvbm5hbHkgdGFrZSBgb2JqZWN0OiB0cnVlYCB0byBjb252ZXJ0IHRoZSByZXN1bHQgdG8gYW4gb2JqZWN0LCBkZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHJldHVybiB7bWl4ZWR9ICAgICAgICAgIEFycmF5IG9mIHBhcmFtZXRlciB2YWx1ZXMgZXh0cmFjdGVkIGZyb20gdGhlIHBhdGggb3Iga2V5L3ZhbHVlIHBhaXIgb2JqZWN0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybiBgbnVsbGAgaWYgdGhlIGBwYXRoYCBkb2VzIG5vdCBtYXRjaCB0aGUgYGRlZmluaXRpb25gLlxuICovXG5mdW5jdGlvbiBwYXJzZSAob3B0aW9ucykge1xuICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICB2YXIgcGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgdmFyIGRlZmluaXRpb24gPSBvcHRpb25zLmRlZmluaXRpb247XG4gIHZhciBvYmplY3QgPSBvcHRpb25zLm9iamVjdDtcblxuICBpZiAoIXBhdGggJiYgIWRlZmluaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VybC1jb21wb3NlcjogTWlzc2luZyBwYXRoIGFuZCBkZWZpbml0aW9uJylcbiAgfVxuXG4gIHZhciByZSA9IHJvdXRlVG9SZWdleChkZWZpbml0aW9uKTtcblxuICB2YXIgcGFyYW1zID0gcmUuZXhlYyhwYXRoKTtcblxuICBpZiAoIXBhcmFtcykgeyByZXR1cm4gbnVsbCB9XG5cbiAgcGFyYW1zID0gcGFyYW1zLnNsaWNlKDEpO1xuXG4gIHZhciByZXN1bHQgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaSkge1xuICAgIGlmIChpID09PSBwYXJhbXMubGVuZ3RoIC0gMSkgeyByZXR1cm4gcGFyYW0gfHwgbnVsbCB9XG4gICAgcmV0dXJuIHBhcmFtID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSA6IG51bGxcbiAgfSk7XG5cbiAgaWYgKG9iamVjdCkge1xuICAgIHZhciBxdWVyeSA9IHJlc3VsdC5wb3AoKTtcbiAgICByZXN1bHQgPSBwYXJhbXNBcnJheTJPYmplY3QoZGVmaW5pdGlvbiwgcmVzdWx0KTtcbiAgICByZXN1bHQucXVlcnkgPSBxdWVyeTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxudmFyIGluZGV4ID0ge1xuICBidWlsZDogYnVpbGQsXG4gIHRlc3Q6IHRlc3QsXG4gIHN0YXRzOiBzdGF0cyxcbiAgcGFyc2U6IHBhcnNlLFxuICBwYXJhbXM6IHBhcmFtc0FycmF5Mk9iamVjdCxcbiAgcGF0aDogYnVpbGRQYXRoLFxuICBxdWVyeTogYnVpbGRRdWVyeSxcbiAgcmVnZXg6IHJvdXRlVG9SZWdleCxcbiAgbWF0Y2g6IGdldFBhcmFtc01hdGNoXG59O1xuXG5yZXR1cm4gaW5kZXg7XG5cbn0pKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91cmwtY29tcG9zZXIvZGlzdC91cmwtY29tcG9zZXIuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZUJyb3dzZXJIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybC1jb21wb3Nlcic7XG5cbmltcG9ydCBSb3V0ZSBmcm9tICcuL2xpYi9Sb3V0ZSc7XG5pbXBvcnQgTWlkZGxld2FyZSBmcm9tICcuL2xpYi9NaWRkbGV3YXJlJztcblxuY2xhc3MgSGlzdG9yeVJvdXRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgSGlzdG9yeVJvdXRlciBJbnN0YW5jZVxuICAgKiBcbiAgICogQHBhcmFtIHtCb29sZWFufSBoYXNoXG4gICAqL1xuICAgY29uc3RydWN0b3IoaGFzaCkge1xuICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtIaXN0b3J5fSBoaXN0b3J5XG4gICAgICovXG4gICAgdGhpcy5oaXN0b3J5ID0gaGFzaD8gY3JlYXRlSGFzaEhpc3RvcnkoKTogY3JlYXRlQnJvd3Nlckhpc3RvcnkoKTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge1JvdXRlW119XG4gICAgICovXG4gICAgdGhpcy5yb3V0ZXMgPSBuZXcgQXJyYXkoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7TWlkZGxld2FyZVtdfVxuICAgICAqL1xuICAgIHRoaXMubWlkZGxld2FyZXMgPSBuZXcgQXJyYXkoKTsgXG5cblxuICAgIC8qKiBCbG9ja2luZyAqL1xuICAgIHRoaXMuaGlzdG9yeS5ibG9jayhsb2NhdGlvbiA9PiB0aGlzLl9ibG9jayhsb2NhdGlvbiwgaGFzaCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJsb2NraW5nXG4gICAqIFxuICAgKiBAcGFyYW0ge0xvY2F0aW9ufSBsb2NhdGlvbiBcbiAgICogQHBhcmFtIHtCb29sZWFufSBoYXNoXG4gICAqL1xuICBfYmxvY2sobG9jYXRpb24sIGhhc2gpIHtcbiAgICBsZXQgcGF0aCA9IGAke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1gLFxuICAgICAgICB0byA9IGxvY2F0aW9uLCBcbiAgICAgICAgZnJvbSA9IHRoaXMuaGlzdG9yeS5sb2NhdGlvblxuICAgIDtcbiAgICBsZXQgcmVzcG9uc2UgPSBmYWxzZTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3V0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHRoaXMucm91dGVzW2ldLnZhbGlkYXRlKHBhdGgsIGhhc2gpKSB7XG4gICAgICAgIGlmKHJlc3BvbnNlID0gdGhpcy5fdmFsaWRhdGVGcm9tTWlkZGxld2FyZXModGhpcy5taWRkbGV3YXJlcywgeyB0bywgZnJvbSB9KSkge1xuICAgICAgICAgIGlmKHRoaXMucm91dGVzW2ldLm1pZGRsZXdhcmVzLmxlbmd0aCA+IDAgJiYgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5fdmFsaWRhdGVGcm9tTWlkZGxld2FyZXMoXG4gICAgICAgICAgICAgIHRoaXMucm91dGVzW2ldLm1pZGRsZXdhcmVzLFxuICAgICAgICAgICAgICB7IHRvLCBmcm9tIH0sXG4gICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJvdXRlc1tpXS5ydW4oXG4gICAgICAgICAgICBsb2NhdGlvbiwgXG4gICAgICAgICAgICB1cmwucGFyc2UoeyBwYXRoLCBkZWZpbml0aW9uOiB0aGlzLnJvdXRlc1tpXS5wYXRoLCBvYmplY3Q6IHRydWUgfSksIFxuICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgZnJvbSBtaWRkbGV3YXJlc1xuICAgKiBcbiAgICogQHBhcmFtIHtNaWRkbGV3YXJlW119IG1pZGRsZXdhcmVzIFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gXG4gICAqIEBwYXJhbSB7Kn0gcmVzcG9uc2UgXG4gICAqL1xuICBfdmFsaWRhdGVGcm9tTWlkZGxld2FyZXMobWlkZGxld2FyZXMsIHsgZnJvbSwgdG8gfSwgcmVzcG9uc2UgPSBudWxsKSB7XG4gICAgaWYobWlkZGxld2FyZXMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG1pZGRsZXdhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3BvbnNlID0gbWlkZGxld2FyZXNbaV0ucnVuKHsgdG8sIGZyb20gfSwgcmVzcG9uc2UpO1xuICAgICAgICBpZighcmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgUm91dGVcbiAgICogXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBcbiAgICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgXG4gICAqL1xuICB3aGVuKHBhdGgsIGNiLCBtaWRkbGV3YXJlcyA9IFtdKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG1pZGRsZXdhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBtaWRkbGV3YXJlc1tpXSA9IG5ldyBNaWRkbGV3YXJlKG1pZGRsZXdhcmVzW2ldKVxuICAgIH1cbiAgICAvKiogUm91dGUgKi9cbiAgICB0aGlzLnJvdXRlcy5wdXNoKG5ldyBSb3V0ZShwYXRoLCBjYiwgbWlkZGxld2FyZXMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBnbG9iYWwgbWlkZGxld2FyZVxuICAgKiBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgXG4gICAqL1xuICBtaWRkbGV3YXJlKGNiKSB7XG4gICAgLyoqIEdsb2JhbCBtaWRkbGV3YXJlICovXG4gICAgdGhpcy5taWRkbGV3YXJlcy5wdXNoKG5ldyBNaWRkbGV3YXJlKGNiKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuLyoqIE9ubHkgZm9yIENETiwgb3IgQm93ZXIgKi9cbndpbmRvdy5IaXN0b3J5Um91dGVyID0gSGlzdG9yeVJvdXRlcjtcblxuZXhwb3J0IGRlZmF1bHQgSGlzdG9yeVJvdXRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5cbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn1cbmZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufVxuZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KHBhdGgubGVuZ3RoIC0gMSkgPT09ICcvJyA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IHBhdGggfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG5cbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcblxuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCA9PT0gJz8nID8gJycgOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCA9PT0gJyMnID8gJycgOiBoYXNoXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gJz8nKSBwYXRoICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09ICc/JyA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRoO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uO1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPbmUtYXJnIGZvcm06IHB1c2gobG9jYXRpb24pXG4gICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgcGF0aCk7XG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmIHZhbHVlRXF1YWwoYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpIDogdm9pZCAwO1xuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKSA6IHZvaWQgMDtcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufVxuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbmZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xuXG5mdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gIXN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKTtcbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IF9wcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBfcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdm9pZCAwID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uOyAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbnZhciBIYXNoQ2hhbmdlRXZlbnQkMSA9ICdoYXNoY2hhbmdlJztcbnZhciBIYXNoUGF0aENvZGVycyA9IHtcbiAgaGFzaGJhbmc6IHtcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aCA6ICchLycgKyBzdHJpcExlYWRpbmdTbGFzaChwYXRoKTtcbiAgICB9LFxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG4gICAgfVxuICB9LFxuICBub3NsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogc3RyaXBMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH0sXG4gIHNsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gJycgOiBocmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbn1cblxuZnVuY3Rpb24gcHVzaEhhc2hQYXRoKHBhdGgpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB2YXIgaGFzaEluZGV4ID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSgwLCBoYXNoSW5kZXggPj0gMCA/IGhhc2hJbmRleCA6IDApICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gICFjYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRoYXNoVHlwZSA9IF9wcm9wcy5oYXNoVHlwZSxcbiAgICAgIGhhc2hUeXBlID0gX3Byb3BzJGhhc2hUeXBlID09PSB2b2lkIDAgPyAnc2xhc2gnIDogX3Byb3BzJGhhc2hUeXBlO1xuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuICB2YXIgX0hhc2hQYXRoQ29kZXJzJGhhc2hUID0gSGFzaFBhdGhDb2RlcnNbaGFzaFR5cGVdLFxuICAgICAgZW5jb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5lbmNvZGVQYXRoLFxuICAgICAgZGVjb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5kZWNvZGVQYXRoO1xuXG4gIGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKCkge1xuICAgIHZhciBwYXRoID0gZGVjb2RlUGF0aChnZXRIYXNoUGF0aCgpKTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgdmFyIGlnbm9yZVBhdGggPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBhbHdheXMgaGF2ZSBhIHByb3Blcmx5LWVuY29kZWQgaGFzaC5cbiAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gICAgICB2YXIgcHJldkxvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcbiAgICAgIGlmICghZm9yY2VOZXh0UG9wICYmIGxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgbG9jYXRpb24pKSByZXR1cm47IC8vIEEgaGFzaGNoYW5nZSBkb2Vzbid0IGFsd2F5cyA9PSBsb2NhdGlvbiBjaGFuZ2UuXG5cbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxuXG4gICAgICBpZ25vcmVQYXRoID0gbnVsbDtcbiAgICAgIGhhbmRsZVBvcChsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2YgcGF0aHMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3IgcGF0aHMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aCh0b0xvY2F0aW9uKSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfSAvLyBFbnN1cmUgdGhlIGhhc2ggaXMgZW5jb2RlZCBwcm9wZXJseSBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZS5cblxuXG4gIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcbiAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgdmFyIGFsbFBhdGhzID0gW2NyZWF0ZVBhdGgoaW5pdGlhbExvY2F0aW9uKV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuICcjJyArIGVuY29kZVBhdGgoYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUFVTSCwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcHVzaEhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgICB2YXIgbmV4dFBhdGhzID0gYWxsUGF0aHMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XG4gICAgICAgIGFsbFBhdGhzID0gbmV4dFBhdGhzO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoOyBhIG5ldyBlbnRyeSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgaGlzdG9yeSBzdGFjaycpIDogdm9pZCAwO1xuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5pbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbFBhdGhzW3ByZXZJbmRleF0gPSBwYXRoO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGNhbkdvV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpIDogdm9pZCAwO1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxICYmIGRlbHRhID09PSAxKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5mdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCBsb3dlckJvdW5kKSwgdXBwZXJCb3VuZCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMuaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsRW50cmllcyA9IF9wcm9wcyRpbml0aWFsRW50cmllcyA9PT0gdm9pZCAwID8gWycvJ10gOiBfcHJvcHMkaW5pdGlhbEVudHJpZXMsXG4gICAgICBfcHJvcHMkaW5pdGlhbEluZGV4ID0gX3Byb3BzLmluaXRpYWxJbmRleCxcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gY2xhbXAoaW5pdGlhbEluZGV4LCAwLCBpbml0aWFsRW50cmllcy5sZW5ndGggLSAxKTtcbiAgdmFyIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycgPyBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBjcmVhdGVLZXkoKSkgOiBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBlbnRyeS5rZXkgfHwgY3JlYXRlS2V5KCkpO1xuICB9KTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gY3JlYXRlUGF0aDtcblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHByZXZJbmRleCA9IGhpc3RvcnkuaW5kZXg7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcbiAgICAgIHZhciBuZXh0RW50cmllcyA9IGhpc3RvcnkuZW50cmllcy5zbGljZSgwKTtcblxuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xuICAgICAgICBuZXh0RW50cmllcy5zcGxpY2UobmV4dEluZGV4LCBuZXh0RW50cmllcy5sZW5ndGggLSBuZXh0SW5kZXgsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGVudHJpZXM6IG5leHRFbnRyaWVzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGNsYW1wKGhpc3RvcnkuaW5kZXggKyBuLCAwLCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMSk7XG4gICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgIHZhciBsb2NhdGlvbiA9IGhpc3RvcnkuZW50cmllc1tuZXh0SW5kZXhdO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAob2spIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBpbmRleDogbmV4dEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWltaWMgdGhlIGJlaGF2aW9yIG9mIERPTSBoaXN0b3JpZXMgYnlcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuR28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBoaXN0b3J5LmluZGV4ICsgbjtcbiAgICByZXR1cm4gbmV4dEluZGV4ID49IDAgJiYgbmV4dEluZGV4IDwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZW50cmllcy5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogZW50cmllc1tpbmRleF0sXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNhbkdvOiBjYW5HbyxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUJyb3dzZXJIaXN0b3J5LCBjcmVhdGVIYXNoSGlzdG9yeSwgY3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlTG9jYXRpb24sIGxvY2F0aW9uc0FyZUVxdWFsLCBwYXJzZVBhdGgsIGNyZWF0ZVBhdGggfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXNtL2hpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfVxuXG4gIGxpc3QucG9wKCk7XG59XG5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcbiAgdmFyIGJUeXBlID0gdHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpO1xuXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBiVmFsdWUgPSBiLnZhbHVlT2YoKTtcblxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XG5cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbmZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghaXNQcm9kdWN0aW9uKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0ID0gXCJXYXJuaW5nOiBcIiArIG1lc3NhZ2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4odGV4dCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRocm93IEVycm9yKHRleHQpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2FybmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5lc20uanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG52YXIgcHJlZml4ID0gJ0ludmFyaWFudCBmYWlsZWQnO1xuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoY29uZGl0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXgpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludmFyaWFudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvdGlueS1pbnZhcmlhbnQuZXNtLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB1cmwgZnJvbSAndXJsLWNvbXBvc2VyJztcblxuY2xhc3MgUm91dGUge1xuICAvKipcbiAgICogQ3JlYXRlIFJvdXRlIEluc3RhbmNlXG4gICAqIFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgXG4gICAqIEBwYXJhbSB7TWlkZGVsd2FyZVtdfSBtaWRkbGV3YXJlcyBcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhdGgsIGNiLCBtaWRkbGV3YXJlcykge1xuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY2IgPSBjYjtcbiAgICBcbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge01pZGRsZXdhcmVbXX1cbiAgICAgKi9cbiAgICB0aGlzLm1pZGRsZXdhcmVzID0gbWlkZGxld2FyZXM7XG4gIH1cblxuICAvKipcbiAgICogUnVuIHJvdXRlXG4gICAqIFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgXG4gICAqIEBwYXJhbSB7Kn0gcmVzcG9uc2UgXG4gICAqL1xuICBydW4obG9jYXRpb24sIHBhcmFtcywgcmVzcG9uc2UpIHtcbiAgICB0aGlzLmNiKHsgbG9jYXRpb24sIHBhcmFtcywgcmVzcG9uc2UgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgdXJsIHBhdGhcbiAgICogIFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBcbiAgICogQHBhcmFtIHtTdHJpbmd9IGhhc2ggXG4gICAqIFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGUocGF0aCwgaGFzaCkge1xuICAgIHJldHVybiB1cmwudGVzdChoYXNoIFxuICAgICAgPyB7IHBhdGg6IGAvIy8ke3RoaXMucGF0aH1gLCB1cmw6IGAvIy8ke3BhdGh9YCB9XG4gICAgICA6IHsgcGF0aDogdGhpcy5wYXRoLCB1cmw6IHBhdGggfVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9Sb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJjbGFzcyBNaWRkbGV3YXJlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBNaWRkbGV3YXJlIEluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYikge1xuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5jYiA9IGNiO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBtaWRkbGV3YXJlXG4gICAqIFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gXG4gICAqIEBwYXJhbSB7Kn0gcmVzcG9uc2VcbiAgICogXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBydW4oeyBmcm9tLCB0byB9LCByZXNwb25zZSA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5jYih7IGZyb20sIHRvLCByZXNwb25zZSB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWlkZGxld2FyZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9NaWRkbGV3YXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9